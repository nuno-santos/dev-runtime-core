<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Registry</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Registry</h1>

    




<section>

<header>
    
        <h2>Registry</h2>
        
            <div class="class-description">Runtime Registry Interface</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Registry"><span class="type-signature"></span>new Registry<span class="signature">(msgbus, runtimeURL, appSandbox, remoteRegistry)</span><span class="type-signature"></span></h4>

    



<div class="description">
    To initialise the Runtime Registry with the RuntimeURL that will be the basis to derive the internal runtime addresses when allocating addresses to internal runtime component. In addition, the Registry domain back-end to be used to remotely register Runtime components, is also passed as input parameter.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>msgbus</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MessageBus.html">MessageBus</a></span>


            
            </td>

            

            

            <td class="description last">msgbus</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>runtimeURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">HypertyRuntimeURL</span>


            
            </td>

            

            

            <td class="description last">runtimeURL</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appSandbox</code></td>
            

            <td class="type">
            
                
<span class="param-type">AppSandbox</span>


            
            </td>

            

            

            <td class="description last">appSandbox</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remoteRegistry</code></td>
            

            <td class="type">
            
                
<span class="param-type">DomainURL</span>


            
            </td>

            

            

            <td class="description last">remoteRegistry</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="messageBus"><span class="type-signature"></span>messageBus<span class="type-signature"></span></h4>




<div class="description">
    Set the messageBus in this Registry
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="messageBus"><span class="type-signature"></span>messageBus<span class="type-signature"></span></h4>




<div class="description">
    return the messageBus in this Registry
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="discoverProtostub"><span class="type-signature"></span>discoverProtostub<span class="signature">(DomainURL)</span><span class="type-signature"> &rarr; {RuntimeURL}</span></h4>

    



<div class="description">
    To discover protocol stubs available in the runtime for a certain domain. If available, it returns the runtime url for the protocol stub that connects to the requested domain. Required by the runtime BUS to route messages to remote servers or peers (do we need something similar for Hyperties?).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>DomainURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">DomainURL</span>


            
            </td>

            

            

            <td class="description last">url</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line171">line 171</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    RuntimeURL
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">RuntimeURL</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getAppSandbox"><span class="type-signature"></span>getAppSandbox<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function is used to return the sandbox instance where the Application is executing. It is assumed there is just one App per Runtime instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getSandbox"><span class="type-signature"></span>getSandbox<span class="signature">(DomainURL)</span><span class="type-signature"> &rarr; {RuntimeSandbox}</span></h4>

    



<div class="description">
    To discover sandboxes available in the runtime for a certain domain. Required by the runtime UA to avoid more than one sandbox for the same domain.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>DomainURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">DomainURL</span>


            
            </td>

            

            

            <td class="description last">url</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line304">line 304</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    RuntimeSandbox
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">RuntimeSandbox</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="onEvent"><span class="type-signature"></span>onEvent<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    To receive status events from components registered in the Registry.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Message.Message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Message.Message</span>


            
            </td>

            

            

            <td class="description last">event</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line295">line 295</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="registerHyperty"><span class="type-signature"></span>registerHyperty<span class="signature">(sandbox, HypertyCatalogueURL)</span><span class="type-signature"> &rarr; {HypertyURL}</span></h4>

    



<div class="description">
    To register a new Hyperty in the runtime which returns the HypertyURL allocated to the new Hyperty.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sandbox</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Sandbox.html">Sandbox</a></span>


            
            </td>

            

            

            <td class="description last">sandbox</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>HypertyCatalogueURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">HypertyCatalogueURL</span>


            
            </td>

            

            

            <td class="description last">descriptor</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HypertyURL
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">HypertyURL</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerPEP"><span class="type-signature"></span>registerPEP<span class="signature">(postMessage, HypertyURL)</span><span class="type-signature"> &rarr; {HypertyRuntimeURL}</span></h4>

    



<div class="description">
    To register a new Policy Enforcer in the runtime including as input parameters the function to postMessage, the HypertyURL associated with the PEP, which returns the RuntimeURL allocated to the new Policy Enforcer component.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>postMessage</code></td>
            

            <td class="type">
            
                
<span class="param-type">Message.Message</span>


            
            </td>

            

            

            <td class="description last">postMessage</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>HypertyURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">HypertyURL</span>


            
            </td>

            

            

            <td class="description last">hyperty</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line258">line 258</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    HypertyRuntimeURL
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">HypertyRuntimeURL</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="registerStub"><span class="type-signature"></span>registerStub<span class="signature">(Sandbox, DomainURL)</span><span class="type-signature"> &rarr; {RuntimeProtoStubURL}</span></h4>

    



<div class="description">
    To register a new Protocol Stub in the runtime including as input parameters the function to postMessage, the DomainURL that is connected with the stub, which returns the RuntimeURL allocated to the new ProtocolStub.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Sandbox</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Sandbox.html">Sandbox</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>DomainURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">DomainURL</span>


            
            </td>

            

            

            <td class="description last">service provider domain</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line195">line 195</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">RuntimeProtoStubURL</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="resolve"><span class="type-signature"></span>resolve<span class="signature">(url)</span><span class="type-signature"> &rarr; {Promise.&lt;URL.URL>}</span></h4>

    



<div class="description">
    To verify if source is valid and to resolve target runtime url address if needed (eg protostub runtime url in case the message is to be dispatched to a remote endpoint).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">URL.URL</span>


            
            </td>

            

            

            <td class="description last">url</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line325">line 325</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise <URL.URL>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;URL.URL></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="unregisterHyperty"><span class="type-signature"></span>unregisterHyperty<span class="signature">(HypertyURL)</span><span class="type-signature"></span></h4>

    



<div class="description">
    To unregister a previously registered Hyperty
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>HypertyURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">HypertyURL</span>


            
            </td>

            

            

            <td class="description last">url        url</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="unregisterPEP"><span class="type-signature"></span>unregisterPEP<span class="signature">(HypertyRuntimeURL)</span><span class="type-signature"></span></h4>

    



<div class="description">
    To unregister a previously registered protocol stub
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>HypertyRuntimeURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">HypertyRuntimeURL</span>


            
            </td>

            

            

            <td class="description last">HypertyRuntimeURL</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line274">line 274</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="unregisterStub"><span class="type-signature"></span>unregisterStub<span class="signature">(HypertyRuntimeURL)</span><span class="type-signature"></span></h4>

    



<div class="description">
    To unregister a previously registered protocol stub
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>HypertyRuntimeURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">HypertyRuntimeURL</span>


            
            </td>

            

            

            <td class="description last">hypertyRuntimeURL</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="registry_Registry.js.html">registry/Registry.js</a>, <a href="registry_Registry.js.html#line233">line 233</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-utils.html">utils</a></li></ul><h3>Classes</h3><ul><li><a href="AddressAllocation.html">AddressAllocation</a></li><li><a href="EventEmitter.html">EventEmitter</a></li><li><a href="IdentityModule.html">IdentityModule</a></li><li><a href="MessageBus.html">MessageBus</a></li><li><a href="MiniBus.html">MiniBus</a></li><li><a href="Pipeline.html">Pipeline</a></li><li><a href="PolicyEngine.html">PolicyEngine</a></li><li><a href="ProtoStub.html">ProtoStub</a></li><li><a href="QoSUA.html">QoSUA</a></li><li><a href="Registry.html">Registry</a></li><li><a href="RuntimeUA.html">RuntimeUA</a></li><li><a href="Sandbox.html">Sandbox</a></li><li><a href="SyncherManager.html">SyncherManager</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Nov 24 2015 16:47:08 GMT+0000 (WET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
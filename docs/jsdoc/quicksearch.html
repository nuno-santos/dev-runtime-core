<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Modules Classes AddressAllocation BloomFilter EventEmitter GlobalRegistryRecord GraphConnector GraphConnectorContactData HypertyDiscovery HypertyInstance IdentityModule MessageBus MiniBus ObjectAllocation Create an Object Allocation. Pipeline PolicyEngine ProtoStub QoSUA Registry RegistryDataModel RuntimeUA Sandbox SandboxRegistry SyncherManager × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Classes Classes AddressAllocation BloomFilter EventEmitter GlobalRegistryRecord GraphConnector GraphConnectorContactData HypertyDiscovery HypertyInstance IdentityModule MessageBus MiniBus ObjectAllocation Create an Object Allocation. Pipeline PolicyEngine ProtoStub QoSUA Registry RegistryDataModel RuntimeUA Sandbox SandboxRegistry SyncherManager × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Runtime-Core Release 0.1.0 Example Tasks Notes Setup EnvironmentOn the first time you are cloning this repository, you need to run the command:npm run init-setup After running successfully this command you will have 2 folders (node_modules and vendor), these folders are excluded from the commit process, and are only for development. if you already have the project configured on your machine, you only need run the next command to add new dependencies:npm install jspm install Private Repository Note if you have problems with the npm install command, like &quot;access was forbidden&quot;, &quot;404 not found&quot;, and have the service framework module reference, it is an authentication problem; you may need following the steps present on Github Help. and select operation system you are using. This could happen because it is a private module and need your GitHub authentication to allow cloning the repository. If you have some troubles with authentication on windows using the Git Shell, you can try caching your GitHub password. This should avoid the constant prompt for username and password; Instalation through jspm We need configure jspm config using github tokens, for that, following this (based on issue 3): Here, generate token with public_repo permission enabled Save the token generated; Execute the command jspm registry config github and you'll be asked for the credentials; Now you can execute command jspm install -y and the runtime-core or jspm install runtime-core=github:reTHINK-project/dev-runtime-core or only jspm install; Issues if you have some trouble with the environment, you can open an issue; Javascript EnvironmentJavaScript code should be written in ES6. There are direct dependencies from nodejs and npm, these can be installed separately or in conjunction with nvm Dependencies nodejs npm karma - Make the communication between unit test tool and jenkins. See more on karma mocha - Unit test tool. See more on http://mochajs.org jspm - Don't need compile the code, it uses babel (or traucer or typescript) to run ES6 code on browser. Know more in jspm.io gulp - Automate and enhance your workflow. See more about gulp on gulp Code Style and HintingOn the root directory you will find .jshintrc and .jscsrc, these files are helpers to maintain syntax consistency, it signals syntax mistakes and makes the code equal for all developers. jscs - Maintain JavaScript Code Style jshint - Detect errors and potential problems in JavaScript code. All IDE's and Text Editors can handle these tools. DocumentationTo generates api documentation you can run gulp doc Unit TestingUnit testing can be launched manually with karma start. It's advisable to use expect.js instead of assert. After investigate and testing the expect.js it don't support some features for ES6, because this tool hasn't activity at some time, that is why, it is recomended use the chaijs it is more versatile and have expect.js (but updated) and others tools that can be useful; How to include this runtime-core code into others parts of reTHINK Project;How to include this repository in other software parts, like dev-runtime-browser or dev-runtime-node - for example; browser projectexample: dev-runtime-browser Verify these use cases: 1. if you will create a new repository, you can use this template, and can configure your development environment; 2. if you already have an respository cloned; for both cases you just have run the command: jspm install runtime-core=github:rethink-project/dev-runtime-core@dev-0.2and on javascript code you need import the script like other modules; import RuntimeUA from 'runtime-core/dist/runtimeUA'; import {Sandbox, SandboxRegistry} from 'runtime-core/dist/sandbox' import MiniBus from 'runtime-core/dist/minibus'; console.log('Runtime: ', RuntimeUA); console.log('Sandbox: ', Sandbox, SandboxRegistry); console.log('MiniBus: ', MiniBus);nodejsdev-runtime-node npm install github:rethink-project/dev-runtime-core#dev-0.2 --saveafter this you can require the runtime-core like other modules on node; var RuntimeUA = require('runtime-core').runtimeUA; var runtime = new RuntimeUA();if you found some issues, please submit them into the respective repository; Karmaif you have some problems starting the karma tests, try running this commands for the following order: npm uninstall karma karma-browserify karma-mocha karma-mocha-reporter karma-chrome-launcher -g npm install karma-cli -g npm install jspm update NoteThis repository is ready to start working on development of runtime-core. The code will go to the src folder. The unit tests will be on test folder, following the name standard .spec.js To run karma tests is mandatory to run live-server because of the mock-up's dependencies:``` live-server --port=4000 ```Tasks Documentation Dist Build Encode DocumentationGenerate all documentation associated to runtime core; if you run gulp doc the documentation based on jsdoc3 will be generated on folder docs/jsdoc and you can interact;gulp doc if you run gulp api the documentation is generate based on docs/jsdoc/*.html files, and converted to markdown;gulp api if you run gulp docx should be generated an .docx file, but this process should be optimized, is not working very well;gulp docx DistTo distribute the runtime-core, you can make a distribution file. Run the command:// compact true | false; gulp dist --compact=false BuildTo distribute the runtime-core, but with the source code maps, and to detect where is some error. Run the command:gulp build EncodeIn this repository, we have some tasks which can help you. If you need change some resource file, like an Hyperty or ProtoStub, and load it to the Hyperties.json or ProtoStubs.json, run the following command, and answer to the questions; gulp compile --file=path/to/file; ExampleThis repository have a folder with an working example of Hyperty Connector and we can send message and make a WebRTC call between remote hyperties through the vertx; To run the demo on example folder: - this example have a dependecy from dev-msg-node-vertx and dev-registry-domain for communication between hyperties in two distinct browsers or tabs. At this moment you need run locally dev-msg-node-vertx and dev-registry-domain - you need, in the root folder, run command: npm start - in your browser, access to https://127.0.0.1:8080/example NotesIt was done an version of RuntimeCatalogue for local instances, based on the RuntimeCatalogue, and is activated by default; × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"AddressAllocation.html":{"id":"AddressAllocation.html","title":"Class: AddressAllocation","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: AddressAllocation AddressAllocation Class will ask to the message node for addresses new AddressAllocation(url, bus) Create an Address Allocation Parameters: Name Type Description url URL.URL url from who is sending the message bus MiniBus MiniBus used for address allocation Members url get the URL value. get the URL value Methods create(domain, number) Ask for creation of a number of Hyperty addresses, to the domain message node. Ask for creation of a number of Hyperty addresses, to the domain message node. Parameters: Name Type Description domain Domain Domain of the message node. number number Number of addresses to request Returns: A list of HypertyURL's Type Promise.&lt;HypertyURL&gt; × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"BloomFilter.html":{"id":"BloomFilter.html","title":"Class: BloomFilter","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: BloomFilter BloomFilter Implements a Bloom filter. new BloomFilter() Author: Jason Davies; adapted and extended by beierle@tu-berlin.de × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"EventEmitter.html":{"id":"EventEmitter.html","title":"Class: EventEmitter","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: EventEmitter EventEmitter EventEmitter All classes which extends this, can have addEventListener and trigger events; new EventEmitter() Methods addEventListener(eventType, cb) addEventListener listen for an eventType. addEventListener listen for an eventType Parameters: Name Type Description eventType string listening for this type of event cb function callback function will be executed when the event it is invoked trigger(eventType, params) Invoke the eventType. Invoke the eventType Parameters: Name Type Description eventType string event will be invoked params object parameters will be passed to the addEventListener × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"GlobalRegistryRecord.html":{"id":"GlobalRegistryRecord.html","title":"Class: GlobalRegistryRecord","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: GlobalRegistryRecord GlobalRegistryRecord Represents the user's information for the global registry. new GlobalRegistryRecord() Constructs a new empty object. Author: beierle@tu-berlin.de Methods getRecord() Constructs a new object representing information about one contact. Constructs a new object representing information about one contact. Returns: object A JavaScript Object with all fields for the Global Registry Record. Type Object × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"GraphConnector.html":{"id":"GraphConnector.html","title":"Class: GraphConnector","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: GraphConnector GraphConnector The Graph Connector contains the contact list/address book. new GraphConnector(HypertyRuntimeURL, MessageBus) Constructs a new and empty Graph Connector. Parameters: Name Type Description HypertyRuntimeURL string The Hyperty Runtime URL. MessageBus messageBus The Message Bus. Author: beierle@tu-berlin.de Members messageBus Returns the MessageBus. Returns the MessageBus. messageBus Sets the MessageBus. Sets the MessageBus. Methods _createKeys(mnemonic, salt) Creates the keys from mnemonic and salt. Creates the keys from mnemonic and salt. Also sets public key, guid, and salt for globalRegistryRecord. Parameters: Name Type Description mnemonic string A string with 15 words. salt string A word. addContact(guid, firstName, lastname) Add a contact to the Graph Connector. Add a contact to the Graph Connector. Parameters: Name Type Description guid string GUID of the new contact. firstName string First name of the new contact. lastname string Last name of the new contact. addUserID(userID) Adds a UserID for the user. Adds a UserID for the user. Parameters: Name Type Description userID string The UserID for a Domain Registry to add for the user. calculateBloomFilter1Hop() Calculates the Bloom filter containing all non-private contacts. Calculates the Bloom filter containing all non-private contacts. checkGUID(guid) Checks, if the given GUID is known and returns a list of contacs that are direct connections as well as a list of contacts that (most likely) know the given contact. Checks, if the given GUID is known and returns a list of contacs that are direct connections as well as a list of contacts that (most likely) know the given contact. Parameters: Name Type Description guid string GUID of the contact to look for. Returns: relatedContacts List of related direct contacts and of related friends-of-friends contacts.The format is: RelatedContacts,FoF&gt;. Type array generateGUID() Generates a GUID and returns a mnemonic from which the GUID can be re-created later. Generates a GUID and returns a mnemonic from which the GUID can be re-created later. Returns: mnemonic A string with 16 words. Type string getContact(name) Gets contacts by name. Gets contacts by name. Parameters: Name Type Description name string First or last name to look for in the contact list. Returns: matchingContacts Contacts matching the given name. The format is: Contacts. Type array queryGlobalRegistry(guid) Queries the Global Registry for a given GUID. Queries the Global Registry for a given GUID. Returns a Graph Connector Contact Data as a Promise. Parameters: Name Type Description guid string The GUID to query the Global Registry for Returns: Promise Graph Connector Contact Data containing UserIDs. Type Promise removeContact(guid) Remove a contact from the Graph Connector. Remove a contact from the Graph Connector. Parameters: Name Type Description guid string GUID of the user to be removed. removeUserID(userID) Removes a UserID for the user. Removes a UserID for the user. Parameters: Name Type Description userID string The UserID to remove. sendGlobalRegistryRecord(jwt) Takes the Global Registry Record as a signed JWT and sends it to the Global Registry via the MessageBus. Takes the Global Registry Record as a signed JWT and sends it to the Global Registry via the MessageBus. Returns the response code of the REST-interface of the Global Registry as a Promise. Parameters: Name Type Description jwt string The Global Registry Record as a signed JWT. Returns: Promise Response Code from Global Registry. Type Propmise signGlobalRegistryRecord() SignGenerates a public/private key pair from a given mnemonic. SignGenerates a public/private key pair from a given mnemonic. Returns: JWT JSON Web Token ready to commit to Global Registry. Type string useGUID(mnemonicAndSalt) Generates a public/private key pair from a given mnemonic (16 words). Generates a public/private key pair from a given mnemonic (16 words). Expects a string containing 16 words seperated by single spaces. Retrieves data from the Global Registry. Parameters: Name Type Description mnemonicAndSalt string A string of 16 words. Returns: Promise Global Registry Record. Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"GraphConnectorContactData.html":{"id":"GraphConnectorContactData.html","title":"Class: GraphConnectorContactData","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: GraphConnectorContactData GraphConnectorContactData Represents information about a contact. new GraphConnectorContactData(guid, firstName, lastName) Constructs a new object representing information about one contact. Parameters: Name Type Description guid String The GUID of the new contact. firstName String The first name of the new contact. lastName String The last name of the new contact. Author: beierle@tu-berlin.de Members contactsBloomFilter1Hop Returns the Bloom filter containing the hashed GUIDs of the contacts for the contact. Returns the Bloom filter containing the hashed GUIDs of the contacts for the contact. contactsBloomFilter1Hop Sets the friends-of-friends Bloom filter containing the hashed GUIDs of the contacts for the contact. Sets the friends-of-friends Bloom filter containing the hashed GUIDs of the contacts for the contact. firstName Sets the first name. Sets the first name. firstName Returns the first name. Returns the first name. groups Returns the groups. Returns the groups. groups Sets the groups. Sets the groups. guid Sets the GUID. Sets the GUID. guid Returns the GUID. Returns the GUID. lastName Returns the last name. Returns the last name. lastName Sets the last name. Sets the last name. privateContact Sets the privacy status of the contact according to the given Boolean value. Sets the privacy status of the contact according to the given Boolean value. privateContact Returns the privacy status of the contact. Returns the privacy status of the contact. residenceLocation Returns the geohash of the residence location. Returns the geohash of the residence location. residenceLocation Sets the geohash of the residence location. Sets the geohash of the residence location. userIDs Returns the user IDs. Returns the user IDs. userIDs Sets the userIDs. Sets the userIDs. × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"HypertyDiscovery.html":{"id":"HypertyDiscovery.html","title":"Class: HypertyDiscovery","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: HypertyDiscovery HypertyDiscovery Core HypertyDiscovery interface Class to allow applications to search for hyperties using the message bus new HypertyDiscovery(msgbus, runtimeURL) To initialise the HypertyDiscover, which will provide the support for hyperties to query users registered in outside the internal core. Parameters: Name Type Description msgbus MessageBus msgbus runtimeURL RuntimeURL runtimeURL Methods discoverHypertyPerUser(email) function to request about users registered in domain registry, and return the hyperty instance if found. function to request about users registered in domain registry, and return the hyperty instance if found. Parameters: Name Type Description email email Returns: Promise Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"HypertyInstance.html":{"id":"HypertyInstance.html","title":"Class: HypertyInstance","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: HypertyInstance HypertyInstance new HypertyInstance() × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"IdentityModule.html":{"id":"IdentityModule.html","title":"Class: IdentityModule","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: IdentityModule IdentityModule IdentityModule Initial specification: D4.1 The IdentityModule is a component managing user Identity. It downloads, instantiates and manage Identity Provider Proxy (IdP) for its own user identity or for external user identity verification. new IdentityModule() USER'S OWN IDENTITY Methods generateAssertion(contents, origin, usernameHint) Generates an Identity Assertion for a call session. Generates an Identity Assertion for a call session Parameters: Name Type Description contents DOMString contents origin DOMString origin usernameHint DOMString usernameHint Returns: IdAssertion Type IdAssertion getAssertionTrustLevel(assertion) Trust level evaluation of a received IdAssertion. Trust level evaluation of a received IdAssertion Parameters: Name Type Description assertion DOMString assertion getIdentities() Find and return all available identities that can be associated to the Hyperty Instance. Find and return all available identities that can be associated to the Hyperty Instance Returns: Array Identities Type Array.&lt;Identities&gt; loginWithRP(identifier, scope) In relation with a classical Relying Party: Login. In relation with a classical Relying Party: Login Parameters: Name Type Description identifier Identifier identifier scope Scope scope Returns: Promise IDToken Type Promise registerIdentity() Register a new Identity with an Identity Provider. Register a new Identity with an Identity Provider registerWithRP() In relation with a classical Relying Party: Registration. In relation with a classical Relying Party: Registration setHypertyIdentity() In relation with a Hyperty Instance: Associate identity. In relation with a Hyperty Instance: Associate identity validateAssertion(assertion) Verification of a received IdAssertion validity. Verification of a received IdAssertion validity Parameters: Name Type Description assertion DOMString assertion × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"MessageBus.html":{"id":"MessageBus.html","title":"Class: MessageBus","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: MessageBus MessageBus Message BUS Interface is an extension of the MiniBus It doesn't support the default '*' listener, instead it uses the registry.resolve(..) new MessageBus() × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"MiniBus.html":{"id":"MiniBus.html","title":"Class: MiniBus","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: MiniBus MiniBus new MiniBus() Author: micaelpedrosa@gmail.com Minimal interface and implementation to send and receive messages. It can be reused in many type of components. Components that need a message system should receive this class as a dependency or extend it. Extensions should implement the following private methods: _onPostMessage and _registerExternalListener Methods _onPostMessage(msg) Not public available, used by the class extension implementation, to process messages from the public &quot;postMessage&quot; without a registered listener. Not public available, used by the class extension implementation, to process messages from the public &quot;postMessage&quot; without a registered listener. Used to send the message to an external interface, like a WebWorker, IFrame, etc. Parameters: Name Type Description msg Message.Message Message _registerExternalListener() Not public available, used by the class extension implementation, to process all messages that enter the MiniBus from an external interface, like a WebWorker, IFrame, etc. Not public available, used by the class extension implementation, to process all messages that enter the MiniBus from an external interface, like a WebWorker, IFrame, etc. This method is called one time in the constructor to register external listeners. The implementation will probably call the &quot;_onMessage&quot; method to publish in the local listeners. DO NOT call &quot;postMessage&quot;, there is a danger that the message enters in a cycle! addListener(url, listener) Register listener to receive message when &quot;msg.to === url&quot;. Register listener to receive message when &quot;msg.to === url&quot;. Special url &quot;*&quot; for default listener is accepted to intercept all messages. Parameters: Name Type Description url URL Address to intercept, tha is in the message &quot;to&quot; listener Listener listener Returns: instance of MsgListener Type MsgListener addResponseListener(url, msgId, responseListener) Manually add a response listener. Manually add a response listener. Only one listener per message ID should exist. ATENTION, there is no timeout for this listener. The listener should be removed with a removeResponseListener, failing to do this will result in a unreleased memory problem. Parameters: Name Type Description url URL Origin address of the message sent, &quot;msg.from&quot;. msgId number Message ID that is returned from the postMessage. responseListener function Callback function for the response bind(outUrl, inUrl, target) Helper method to bind listeners (in both directions) into other MiniBus target. Helper method to bind listeners (in both directions) into other MiniBus target. Parameters: Name Type Description outUrl URL Outbound URL, register listener for url in direction &quot;this -&gt; target&quot; inUrl URL Inbound URL, register listener for url in direction &quot;target -&gt; this&quot; target MiniBus The other target MiniBus Returns: an object that contains the properties [thisListener, targetListener] and the unbind method. Type Bound postMessage(msg, responseCallback) Send messages to local listeners, or if not exists to external listeners. Send messages to local listeners, or if not exists to external listeners. It's has an optional mechanism for automatic management of response handlers. The response handler will be unregistered after receiving the response, or after response timeout (default to 3s). Parameters: Name Type Description msg Message Message to send. Message ID is automatically added to the message. responseCallback function Optional parameter, if the developer what's automatic response management. Returns: Returns the message ID, in case it should be needed for manual management of the response handler. Type number removeAllListenersOf(url) Remove all existent listeners for the URL. Remove all existent listeners for the URL Parameters: Name Type Description url URL Address registered removeResponseListener(url, msgId) Remove the response listener. Remove the response listener. Parameters: Name Type Description url URL Origin address of the message sent, &quot;msg.from&quot;. msgId number Message ID that is returned from the postMessage × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Module: utils Support module with some functions will be useful Methods &lt;static&gt; deepClone(obj) Make a COPY of the original data. Make a COPY of the original data Parameters: Name Type Description obj Object object to be cloned Returns: Type Object &lt;static&gt; divideURL(url) Divide an url in type, domain and identity. Divide an url in type, domain and identity Parameters: Name Type Description url URL.URL url address Returns: the result of divideURL Type divideURL &lt;static&gt; emptyObject(object) Check if an Object is empty. Check if an Object is empty Parameters: Name Type Description object Object Object to be checked Returns: status of Object, empty or not (true|false); Type Boolean Type Definitions divideURL Type: Object Properties: Name Type Description type string The type of URL domain string The domain of URL identity string The identity of URL × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"ObjectAllocation.html":{"id":"ObjectAllocation.html","title":"Class: ObjectAllocation","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: ObjectAllocation ObjectAllocation new ObjectAllocation(url, bus) Create an Object Allocation. Create an Object Allocation Parameters: Name Type Description url URL.URL url from who is sending the message bus MiniBus MiniBus used for address allocation Members url get the URL value. get the URL value Methods create(domain, number) Ask for creation of a number of Object addresses, to the domain message node. Ask for creation of a number of Object addresses, to the domain message node. Parameters: Name Type Description domain Domain Domain of the message node. number number Number of addresses to request Returns: A list of ObjectURL's Type Promise.&lt;ObjectURL&gt; × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"Pipeline.html":{"id":"Pipeline.html","title":"Class: Pipeline","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: Pipeline Pipeline new Pipeline() Author: micaelpedrosa@gmail.com Pipeline Sequencial processor of methods. Similar to how Sequential Promise's work, but better fit for message processing. × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"PolicyEngine.html":{"id":"PolicyEngine.html","title":"Class: PolicyEngine","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: PolicyEngine PolicyEngine Core Policy Engine (PDP/PEP) Interface According to: https://github.com/reTHINK-project/core-framework/blob/master/docs/specs/runtime/runtime-apis.md#core-policy-engine-pdppep-interface new PolicyEngine(IdentityModule, Registry) To initialise the Policy Engine Parameters: Name Type Description IdentityModule identityModule identityModule Registry runtimeRegistry runtimeRegistry Methods addPolicies(hyperty, policies) To add policies to be enforced for a certain deployed Hyperty Instance Example of an hyperty: hyperty-instance://tecnico.pt/e1b8fb0b-95e2-4f44-aa18-b40984741196 Example of a policy: {subject: 'message.header.from', target: 'blacklist', action: 'deny'}. To add policies to be enforced for a certain deployed Hyperty Instance Example of an hyperty: hyperty-instance://tecnico.pt/e1b8fb0b-95e2-4f44-aa18-b40984741196 Example of a policy: {subject: 'message.header.from', target: 'blacklist', action: 'deny'} Parameters: Name Type Description hyperty URL.HypertyURL hyperty policies HypertyPolicyList policies authorise(message) Authorisation request to accept a Subscription for a certain resource. Authorisation request to accept a Subscription for a certain resource. Returns a Response Message to be returned to Subscription requester Parameters: Name Type Description message Message.Message message Returns: AuthorisationResponse Type AuthorisationResponse removePolicies(hyperty) To remove previously added policies for a certain deployed Hyperty Instance. To remove previously added policies for a certain deployed Hyperty Instance Parameters: Name Type Description hyperty URL.HypertyURL hyperty × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"ProtoStub.html":{"id":"ProtoStub.html","title":"Class: ProtoStub","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: ProtoStub ProtoStub ProtoStub Interface new ProtoStub(runtimeProtoStubURL, busPostMessage, configuration) To initialise the protocol stub including as input parameters its allocated component runtime url, the runtime BUS postMessage function to be invoked on messages received by the protocol stub and required configuration retrieved from protocolStub descriptor. Parameters: Name Type Description runtimeProtoStubURL URL.RuntimeURL runtimeProtoSubURL busPostMessage Message.Message configuration configuration ProtoStubDescriptor.ConfigurationDataList configuration Methods connect(identity) To connect the protocol stub to the back-end server. To connect the protocol stub to the back-end server Parameters: Name Type Description identity IDToken identity disconnect() To disconnect the protocol stub. To disconnect the protocol stub. postMessage(message) To post messages to be dispatched by the protocol stub to connected back-end server. To post messages to be dispatched by the protocol stub to connected back-end server Parameters: Name Type Description message Message.Message message × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"QoSUA.html":{"id":"QoSUA.html","title":"Class: QoSUA","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: QoSUA QoSUA QoS User Agent Interface new QoSUA() Methods getCurrentConnectivityStatistics() Get Connectivity Statistics data. Get Connectivity Statistics data sendConnectivityStatisticsToBroker() Sends Connectivity Statistics data to QoS Broker. Sends Connectivity Statistics data to QoS Broker × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"Registry.html":{"id":"Registry.html","title":"Class: Registry","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: Registry Registry Runtime Registry Interface new Registry(msgbus, runtimeURL, appSandbox, remoteRegistry) To initialise the Runtime Registry with the RuntimeURL that will be the basis to derive the internal runtime addresses when allocating addresses to internal runtime component. In addition, the Registry domain back-end to be used to remotely register Runtime components, is also passed as input parameter. Parameters: Name Type Description msgbus MessageBus msgbus runtimeURL HypertyRuntimeURL runtimeURL appSandbox AppSandbox appSandbox remoteRegistry DomainURL remoteRegistry Members messageBus return the messageBus in this Registry. return the messageBus in this Registry messageBus Set the messageBus in this Registry. Set the messageBus in this Registry Methods discoverProtostub(DomainURL) To discover protocol stubs available in the runtime for a certain domain. To discover protocol stubs available in the runtime for a certain domain. If available, it returns the runtime url for the protocol stub that connects to the requested domain. Required by the runtime BUS to route messages to remote servers or peers (do we need something similar for Hyperties?). Parameters: Name Type Description DomainURL DomainURL url Returns: RuntimeURL Type RuntimeURL getAppSandbox() This function is used to return the sandbox instance where the Application is executing. This function is used to return the sandbox instance where the Application is executing. It is assumed there is just one App per Runtime instance. getSandbox(DomainURL) To discover sandboxes available in the runtime for a certain domain. To discover sandboxes available in the runtime for a certain domain. Required by the runtime UA to avoid more than one sandbox for the same domain. Parameters: Name Type Description DomainURL DomainURL url Returns: RuntimeSandbox Type RuntimeSandbox getUserHyperty() Function to query the Domain registry, with an user email. Function to query the Domain registry, with an user email. onEvent() To receive status events from components registered in the Registry. To receive status events from components registered in the Registry. Parameters: Name Type Description Message.Message Message.Message event registerHyperty(sandbox, HypertyCatalogueURL) To register a new Hyperty in the runtime which returns the HypertyURL allocated to the new Hyperty. To register a new Hyperty in the runtime which returns the HypertyURL allocated to the new Hyperty. Parameters: Name Type Description sandbox Sandbox sandbox HypertyCatalogueURL HypertyCatalogueURL descriptor Returns: HypertyURL Type HypertyURL registerPEP(postMessage, HypertyURL) To register a new Policy Enforcer in the runtime including as input parameters the function to postMessage, the HypertyURL associated with the PEP, which returns the RuntimeURL allocated to the new Policy Enforcer component. To register a new Policy Enforcer in the runtime including as input parameters the function to postMessage, the HypertyURL associated with the PEP, which returns the RuntimeURL allocated to the new Policy Enforcer component. Parameters: Name Type Description postMessage Message.Message postMessage HypertyURL HypertyURL hyperty Returns: HypertyRuntimeURL Type HypertyRuntimeURL registerStub(Sandbox, DomainURL) To register a new Protocol Stub in the runtime including as input parameters the function to postMessage, the DomainURL that is connected with the stub, which returns the RuntimeURL allocated to the new ProtocolStub. To register a new Protocol Stub in the runtime including as input parameters the function to postMessage, the DomainURL that is connected with the stub, which returns the RuntimeURL allocated to the new ProtocolStub. Parameters: Name Type Description Sandbox Sandbox DomainURL DomainURL service provider domain Returns: Type RuntimeProtoStubURL resolve(url) To verify if source is valid and to resolve target runtime url address if needed (eg protostub runtime url in case the message is to be dispatched to a remote endpoint). To verify if source is valid and to resolve target runtime url address if needed (eg protostub runtime url in case the message is to be dispatched to a remote endpoint). Parameters: Name Type Description url URL.URL url Returns: Promise Type Promise.&lt;URL.URL&gt; unregisterHyperty(HypertyURL) To unregister a previously registered Hyperty. To unregister a previously registered Hyperty Parameters: Name Type Description HypertyURL HypertyURL url url unregisterPEP(HypertyRuntimeURL) To unregister a previously registered protocol stub. To unregister a previously registered protocol stub Parameters: Name Type Description HypertyRuntimeURL HypertyRuntimeURL HypertyRuntimeURL unregisterStub(HypertyRuntimeURL) To unregister a previously registered protocol stub. To unregister a previously registered protocol stub Parameters: Name Type Description HypertyRuntimeURL HypertyRuntimeURL hypertyRuntimeURL × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"RegistryDataModel.html":{"id":"RegistryDataModel.html","title":"Class: RegistryDataModel","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: RegistryDataModel RegistryDataModel new RegistryDataModel() × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"RuntimeUA.html":{"id":"RuntimeUA.html","title":"Class: RuntimeUA","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: RuntimeUA RuntimeUA Runtime User Agent Interface will process all the dependecies of the core runtime; new RuntimeUA(sandboxFactory, domainURL) Create a new instance of Runtime User Agent Parameters: Name Type Description sandboxFactory sandboxFactory Specific implementation for the environment where the core runtime will run; domainURL domain specify the domain base for the runtime; Properties: Name Type Description sandboxFactory sandboxFactory Specific implementation of sandbox; runtimeCatalogue RuntimeCatalogue Catalogue of components can be installed; runtimeURL runtimeURL This identify the core runtime, should be unique; identityModule IdentityModule Identity Module; policyEngine PolicyEngine Policy Engine Module; registry Registry Registry Module; messageBus MessageBus Message Bus is used like a router to redirect the messages from one component to other(s) graphConnector GraphConnector Graph Connector handling GUID and contacts Version: 0.2.0 Author: &lt;p&gt;Vitor Silva [vitor-t-silva@telecom.pt]&lt;/p&gt; Methods checkForUpdate(url) Used to check for updates about components handled in the Catalogue including protocol stubs and Hyperties. Used to check for updates about components handled in the Catalogue including protocol stubs and Hyperties. check relationship with lifecycle management provided by Service Workers Parameters: Name Type Description url CatalogueURL url discoverHiperty(descriptor) Accomodate interoperability in H2H and proto on the fly for newly discovered devices in M2M. Accomodate interoperability in H2H and proto on the fly for newly discovered devices in M2M Parameters: Name Type Description descriptor CatalogueDataObject.HypertyDescriptor descriptor loadHyperty(hyperty) Deploy Hyperty from Catalogue URL. Deploy Hyperty from Catalogue URL Parameters: Name Type Description hyperty URL.HypertyCatalogueURL hypertyDescriptor url; loadStub(domain) Deploy Stub from Catalogue URL or domain url. Deploy Stub from Catalogue URL or domain url Parameters: Name Type Description domain URL.URL domain registerHyperty(Object, descriptor) Register Hyperty deployed by the App that is passed as input parameter. Register Hyperty deployed by the App that is passed as input parameter. To be used when App and Hyperties are from the same domain otherwise the RuntimeUA will raise an exception and the App has to use the loadHyperty(..) function. Parameters: Name Type Description Object Object hypertyInstance descriptor URL.HypertyCatalogueURL descriptor × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:25 pm using the DocStrap template. "},"Sandbox.html":{"id":"Sandbox.html","title":"Class: Sandbox","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: Sandbox Sandbox new Sandbox() Author: micaelpedrosa@gmail.com Base class to implement external sandbox component Methods deployComponent(componentSourceCode, componentURL, configuration) Deploy an instance of the component into the sandbox. Deploy an instance of the component into the sandbox. Parameters: Name Type Description componentSourceCode string Component source code (Hyperty, ProtoStub, etc) componentURL URL Hyperty, ProtoStub, or any other component address. configuration Config Config parameters of the component Returns: return deployed if successful, or any other string with an error Type Promise.&lt;string&gt; removeComponent(componentURL) Remove the instance of a previously deployed component. Remove the instance of a previously deployed component. Parameters: Name Type Description componentURL URL Hyperty, ProtoStub, or any other component address. Returns: return undeployed if successful, or any other string with an error Type Promise.&lt;string&gt; × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:26 pm using the DocStrap template. "},"SandboxRegistry.html":{"id":"SandboxRegistry.html","title":"Class: SandboxRegistry","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: SandboxRegistry SandboxRegistry new SandboxRegistry() Author: micaelpedrosa@gmail.com Base class to implement internal deploy manager of components. Methods _create(url, sourceCode, config) This method should be implemented by the internal sandbox code. This method should be implemented by the internal sandbox code. Parameters: Name Type Description url ComponentURL URL used for the instance sourceCode string Code of the component config Config Configuration parameters Returns: Returns instance of the component or throw an error &quot;throw 'error message'&quot; Type Object × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:26 pm using the DocStrap template. "},"SyncherManager.html":{"id":"SyncherManager.html","title":"Class: SyncherManager","body":" Documentation Modules utils Classes AddressAllocationBloomFilterEventEmitterGlobalRegistryRecordGraphConnectorGraphConnectorContactDataHypertyDiscoveryHypertyInstanceIdentityModuleMessageBusMiniBusObjectAllocationPipelinePolicyEngineProtoStubQoSUARegistryRegistryDataModelRuntimeUASandboxSandboxRegistrySyncherManager Class: SyncherManager SyncherManager new SyncherManager() Author: micaelpedrosa@gmail.com Core Syncronization system. × Search results Close Documentation generated by JSDoc 3.4.0 on February 12th 2016, 12:00:26 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>

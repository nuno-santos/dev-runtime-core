{"version":3,"sources":["MessageNodeCtx.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","MessageNodeCtx","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/json/stringify","2","core-js/library/fn/object/create","3","core-js/library/fn/object/define-property","4","core-js/library/fn/object/get-prototype-of","5","core-js/library/fn/object/keys","6","core-js/library/fn/object/set-prototype-of","7","core-js/library/fn/symbol","8","instance","Constructor","TypeError","9","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","10","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","value","__proto__","babel-runtime/core-js/object/create","babel-runtime/core-js/object/set-prototype-of","11","_typeof2","_typeof3","ReferenceError","../helpers/typeof","12","_Symbol","babel-runtime/core-js/symbol","13","core","it","JSON","stringify","apply","arguments","../../modules/$.core","14","$","P","D","create","../../modules/$","15","desc","setDesc","16","Object","getPrototypeOf","../../modules/es6.object.get-prototype-of","17","keys","../../modules/es6.object.keys","18","setPrototypeOf","../../modules/es6.object.set-prototype-of","19","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","20","21","isObject","./$.is-object","22","toString","slice","23","version","__e","24","aFunction","fn","that","undefined","b","c","./$.a-function","25","26","defineProperty","get","./$.fails","27","getKeys","getSymbols","symbols","isEnum","push","./$","28","ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","B","IS_WRAP","W","C","param","Function","./$.core","./$.ctx","./$.global","29","exec","30","toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject","31","Math","__g","32","hasOwnProperty","33","createDesc","object","./$.descriptors","./$.property-desc","34","cof","propertyIsEnumerable","split","./$.cof","35","Array","isArray","arg","36","37","$Object","getProto","getDesc","getOwnPropertyDescriptor","setDescs","getOwnPropertySymbols","each","forEach","38","el","O","index","39","40","fails","KEY","exp","./$.export","41","bitmap","42","./$.hide","43","anObject","check","proto","set","test","buggy","./$.an-object","44","def","has","TAG","tag","stat","./$.has","./$.wks","45","SHARED","store","46","IObject","defined","./$.defined","./$.iobject","47","48","id","px","random","concat","49","uid","./$.shared","./$.uid","50","toObject","$getPrototypeOf","./$.object-sap","./$.to-object","51","$keys","52","./$.set-proto","53","54","DESCRIPTORS","redefine","$fails","shared","setToStringTag","wks","keyOf","$names","enumKeys","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","protoDesc","wrap","sym","_k","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","$getOwnPropertySymbols","$stringify","replacer","$replacer","args","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.enum-keys","./$.get-names","./$.is-array","./$.keyof","./$.library","./$.redefine","./$.set-to-string-tag","55","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","Context","loadPolicies","addSubscriptionPolicy","isToVerify","getApplicablePolicies","applyPolicies","authorise","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","56","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_Context2","_Context3","_utils","CommonCtx","_Context","_this2","_this","policies","groups","message","policiesResult","applicablePolicies","pdp","evaluate","body","auth","pep","enforce","date","Date","day","String","getDate","month","getMonth","getFullYear","scope","groupName","myGroups","members","now","minutes","getMinutes","parseInt","getHours","getDay","_dateAttribute","_getDate","params","_domainAttribute","divideEmail","identity","userProfile","username","domain","_sourceAttribute","_timeAttribute","_getTime","_weekdayAttribute","_getWeekDay","../../utils/utils","../Context","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","57","_CommonCtx2","_CommonCtx3","_CommonCtx","myPolicies","messageAccepted","groupAttribute","_getList","group","./CommonCtx","58","divideURL","url","re","subst","parts","replace","email","indexOfAt","indexOf","substring","emptyObject","_keys2","deepClone","parse","_stringify2","getUserURLFromEmail","userEmail","getUserEmailFromURL","userURL","convertToUserURL","identifier","dividedURL","isDataObjectURL","schemasToIgnore","splitURL","urlSchema","_keys","babel-runtime/core-js/json/stringify","babel-runtime/core-js/object/keys"],"mappings":"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","file":"MessageNodeCtx.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.MessageNodeCtx = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":13}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":14}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":15}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":16}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":17}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":18}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":19}],8:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":3}],10:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/create\":2,\"babel-runtime/core-js/object/set-prototype-of\":6}],11:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":12}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/symbol\":7}],13:[function(require,module,exports){\nvar core = require('../../modules/$.core');\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n};\n},{\"../../modules/$.core\":23}],14:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n},{\"../../modules/$\":37}],15:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n},{\"../../modules/$\":37}],16:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.get-prototype-of\":50}],17:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/$.core').Object.keys;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.keys\":51}],18:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.set-prototype-of\":52}],19:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.to-string\":53,\"../../modules/es6.symbol\":54}],20:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],21:[function(require,module,exports){\nvar isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./$.is-object\":36}],22:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],23:[function(require,module,exports){\nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],24:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./$.a-function\":20}],25:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],26:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./$.fails\":29}],27:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n},{\"./$\":37}],28:[function(require,module,exports){\nvar global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n},{\"./$.core\":23,\"./$.ctx\":24,\"./$.global\":31}],29:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],30:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n},{\"./$\":37,\"./$.to-iobject\":46}],31:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],32:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],33:[function(require,module,exports){\nvar $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./$\":37,\"./$.descriptors\":26,\"./$.property-desc\":41}],34:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./$.cof\":22}],35:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./$.cof\":22}],36:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],37:[function(require,module,exports){\nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n},{}],38:[function(require,module,exports){\nvar $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./$\":37,\"./$.to-iobject\":46}],39:[function(require,module,exports){\nmodule.exports = true;\n},{}],40:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./$.core\":23,\"./$.export\":28,\"./$.fails\":29}],41:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],42:[function(require,module,exports){\nmodule.exports = require('./$.hide');\n},{\"./$.hide\":33}],43:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./$\":37,\"./$.an-object\":21,\"./$.ctx\":24,\"./$.is-object\":36}],44:[function(require,module,exports){\nvar def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./$\":37,\"./$.has\":32,\"./$.wks\":49}],45:[function(require,module,exports){\nvar global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./$.global\":31}],46:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./$.defined\":25,\"./$.iobject\":34}],47:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./$.defined\":25}],48:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],49:[function(require,module,exports){\nvar store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n},{\"./$.global\":31,\"./$.shared\":45,\"./$.uid\":48}],50:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./$.object-sap\":40,\"./$.to-object\":47}],51:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('keys', function($keys){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./$.object-sap\":40,\"./$.to-object\":47}],52:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n},{\"./$.export\":28,\"./$.set-proto\":43}],53:[function(require,module,exports){\n\n},{}],54:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./$\":37,\"./$.an-object\":21,\"./$.descriptors\":26,\"./$.enum-keys\":27,\"./$.export\":28,\"./$.fails\":29,\"./$.get-names\":30,\"./$.global\":31,\"./$.has\":32,\"./$.is-array\":35,\"./$.keyof\":38,\"./$.library\":39,\"./$.property-desc\":41,\"./$.redefine\":42,\"./$.set-to-string-tag\":44,\"./$.shared\":45,\"./$.to-iobject\":46,\"./$.uid\":48,\"./$.wks\":49}],55:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Context=function(){function Context(){(0,_classCallCheck3.default)(this,Context);if(this.constructor===Context){throw new TypeError('Can not construct abstract class.');}if(this.constructor===Context.prototype.constructor){throw new TypeError('Please implement abstract method constructor.');}}(0,_createClass3.default)(Context,null,[{key:'loadPolicies',value:function loadPolicies(){if(this===Context){throw new TypeError('Can not call static abstract method loadPolicies.');}else if(this.loadPolicies===Context.loadPolicies){throw new TypeError('Please implement static abstract method loadPolicies.');}else {throw new TypeError('Do not call static abstract method loadPolicies from child.');}}},{key:'addSubscriptionPolicy',value:function addSubscriptionPolicy(){if(this===Context){throw new TypeError('Can not call static abstract method addSubscriptionPolicy.');}else if(this.addSubscriptionPolicy===Context.addSubscriptionPolicy){throw new TypeError('Please implement static abstract method addSubscriptionPolicy.');}else {throw new TypeError('Do not call static abstract method addSubscriptionPolicy from child.');}}},{key:'isToVerify',value:function isToVerify(){if(this===Context){throw new TypeError('Can not call static abstract method isToVerify.');}else if(this.isToVerify===Context.isToVerify){throw new TypeError('Please implement static abstract method isToVerify.');}else {throw new TypeError('Do not call static abstract method isToVerify from child.');}}},{key:'getApplicablePolicies',value:function getApplicablePolicies(){if(this===Context){throw new TypeError('Can not call static abstract method getApplicablePolicies.');}else if(this.getApplicablePolicies===Context.getApplicablePolicies){throw new TypeError('Please implement static abstract method getApplicablePolicies.');}else {throw new TypeError('Do not call static abstract method getApplicablePolicies from child.');}}},{key:'applyPolicies',value:function applyPolicies(){if(this===Context){throw new TypeError('Can not call static abstract method applyPolicies.');}else if(this.applyPolicies===Context.applyPolicies){throw new TypeError('Please implement static abstract method applyPolicies.');}else {throw new TypeError('Do not call static abstract method applyPolicies from child.');}}},{key:'authorise',value:function authorise(){if(this===Context){throw new TypeError('Can not call static abstract method authorise.');}else if(this.authorise===Context.authorise){throw new TypeError('Please implement static abstract method authorise.');}else {throw new TypeError('Do not call static abstract method authorise from child.');}}}]);return Context;}();exports.default=Context;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9}],56:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _Context2=require('../Context');var _Context3=_interopRequireDefault(_Context2);var _utils=require('../../utils/utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} //import persistenceManager from '../../persistence/PersistenceManager';\nvar CommonCtx=function(_Context){(0,_inherits3.default)(CommonCtx,_Context);function CommonCtx(){(0,_classCallCheck3.default)(this,CommonCtx);var _this2=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(CommonCtx).call(this));var _this=_this2;_this.policies=_this.loadPolicies();_this.groups={};return _this2;}(0,_createClass3.default)(CommonCtx,[{key:'applyPolicies',value:function applyPolicies(message){var _this=this;var policiesResult=[true,[]];var applicablePolicies=_this.getApplicablePolicies(message);policiesResult=_this.pdp.evaluate(message,applicablePolicies);message.body.auth=applicablePolicies.length!==0;_this.pep.enforce(policiesResult);return {message:message,policiesResult:policiesResult};}},{key:'_getDate',value:function _getDate(){var date=new Date();var day=String(date.getDate());if(day.length===1){day='0'+day;}var month=String(date.getMonth()+1);if(month.length===1){month='0'+month;}return day+'/'+month+'/'+date.getFullYear();}},{key:'_getList',value:function _getList(scope,groupName){var _this=this;var myGroups=_this.groups;var members=[];if(myGroups[scope]!==undefined&&myGroups[scope][groupName]!==undefined){members=myGroups[scope][groupName];}return members;}},{key:'_getTime',value:function _getTime(){var now=new Date();var minutes=String(now.getMinutes());if(minutes.length===1){minutes='0'+minutes;}return parseInt(String(now.getHours())+minutes);}},{key:'_getWeekDay',value:function _getWeekDay(){return String(new Date().getDay());}},{key:'date',set:function set(now){var _this=this;if(!now.message){_this._dateAttribute=typeof now==='string'?now:_this._getDate();}},get:function get(){var _this=this;return _this._dateAttribute;}},{key:'domain',set:function set(params){var _this=this;_this._domainAttribute=(0,_utils.divideEmail)(params.message.body.identity.userProfile.username).domain;},get:function get(){var _this=this;return _this._domainAttribute;}},{key:'source',set:function set(params){var _this=this;_this._sourceAttribute=params.message.body.identity.userProfile.username;},get:function get(){var _this=this;return _this._sourceAttribute;}},{key:'time',set:function set(now){var _this=this;if(!now.message){_this._timeAttribute=now?now:_this._getTime();}},get:function get(){var _this=this;return _this._timeAttribute;}},{key:'weekday',set:function set(now){var _this=this;if(!now.message){_this._weekdayAttribute=now?now:_this._getWeekDay();}},get:function get(){var _this=this;return _this._weekdayAttribute;}}]);return CommonCtx;}(_Context3.default);exports.default=CommonCtx;module.exports=exports['default'];\n\n},{\"../../utils/utils\":58,\"../Context\":55,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],57:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CommonCtx2=require('./CommonCtx');var _CommonCtx3=_interopRequireDefault(_CommonCtx2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var MessageNodeCtx=function(_CommonCtx){(0,_inherits3.default)(MessageNodeCtx,_CommonCtx);function MessageNodeCtx(){(0,_classCallCheck3.default)(this,MessageNodeCtx);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(MessageNodeCtx).call(this));}(0,_createClass3.default)(MessageNodeCtx,[{key:'loadPolicies',value:function loadPolicies(){return {};} /**\n  * Returns the policies associated with a scope.\n  * @param   {String} scope\n  * @return  {Array}  policies\n  */ //TODO: can policies depend on the hyperty name? Domain Registry interaction\n},{key:'getApplicablePolicies',value:function getApplicablePolicies(){var _this=this;var myPolicies=_this.policies;var policies=[];for(var i in myPolicies){policies.push.apply(policies,myPolicies[i]);}return policies;}},{key:'authorise',value:function authorise(message){var _this=this;message.body=message.body||{};var result=void 0;var isToVerify=_this.isToVerify(message);if(isToVerify){result=_this.applyPolicies(message);var messageAccepted=result.policiesResult[0];return messageAccepted;}else {return true;}} //TODO: verify if scheme is not 'runtime', 'hyperty-runtime' or 'domain'\n},{key:'isToVerify',value:function isToVerify(){return true;}},{key:'group',set:function set(params){var _this=this;_this.groupAttribute=_this._getList(params.scope,params.group);},get:function get(){var _this=this;return _this.groupAttribute;}}]);return MessageNodeCtx;}(_CommonCtx3.default);exports.default=MessageNodeCtx;module.exports=exports['default'];\n\n},{\"./CommonCtx\":56,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],58:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);exports.divideURL=divideURL;exports.divideEmail=divideEmail;exports.emptyObject=emptyObject;exports.deepClone=deepClone;exports.getUserURLFromEmail=getUserURLFromEmail;exports.getUserEmailFromURL=getUserEmailFromURL;exports.convertToUserURL=convertToUserURL;exports.isDataObjectURL=isDataObjectURL;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Support module with some functions will be useful\n * @module utils\n */ /**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n */ /**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */function divideURL(url){if(!url)throw Error('URL is needed to split'); // let re = /([a-zA-Z-]*)?:\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?])*(.+)*/gi;\nvar re=/([a-zA-Z-]*):\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;var subst='$1,$2,$3';var parts=url.replace(re,subst).split(','); // If the url has no protocol, the default protocol set is https\nif(parts[0]===url){parts[0]='https';parts[1]=url;}var result={type:parts[0],domain:parts[1],identity:parts[2]};return result;}function divideEmail(email){var indexOfAt=email.indexOf('@');var result={username:email.substring(0,indexOfAt),domain:email.substring(indexOfAt+1,email.length)};return result;} /**\n * Check if an Object is empty\n * @param  {Object} object Object to be checked\n * @return {Boolean}       status of Object, empty or not (true|false);\n */function emptyObject(object){return (0,_keys2.default)(object).length>0?false:true;} /**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */function deepClone(obj){ //TODO: simple but inefficient JSON deep clone...\nif(obj)return JSON.parse((0,_stringify2.default)(obj));} /**\n * Obtains the user URL that corresponds to a given email\n * @param  {string} userEmail The user email\n * @return {URL.URL} userURL The user URL\n */function getUserURLFromEmail(userEmail){var indexOfAt=userEmail.indexOf('@');return 'user://'+userEmail.substring(indexOfAt+1,userEmail.length)+'/'+userEmail.substring(0,indexOfAt);} /**\n * Obtains the user email that corresponds to a given URL\n * @param  {URL.URL} userURL The user URL\n * @return {string} userEmail The user email\n */function getUserEmailFromURL(userURL){var url=divideURL(userURL);return url.identity.replace('/','')+'@'+url.domain; // identity field has '/exampleID' instead of 'exampleID'\n} /**\n * Check if the user identifier is already in the URL format, if not, convert to URL format\n * @param  {string}   identifier  user identifier\n * @return {string}   userURL    the user URL\n */function convertToUserURL(identifier){ // check if the identifier is already in the url format\nif(identifier.substring(0,7)==='user://'){var dividedURL=divideURL(identifier); //check if the url is well formated\nif(dividedURL.domain&&dividedURL.identity){return identifier;}else {throw 'userURL with wrong format';} //if not, convert the user email to URL format\n}else {return getUserURLFromEmail(identifier);}}function isDataObjectURL(url){var schemasToIgnore=['domain-idp','runtime','domain','hyperty'];var splitURL=url.split('://');var urlSchema=splitURL[0];return schemasToIgnore.indexOf(urlSchema)===-1;}\n\n},{\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/core-js/object/keys\":5}]},{},[57])(57)\n});"],"sourceRoot":"/source/"}
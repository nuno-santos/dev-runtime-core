{"version":3,"sources":["policy/context/CommonCtx.js"],"names":["_utils","require","CommonCtx","_classCallCheck3","default","this","defaultBehavior","groups","_defaultBehavior","behavior","now","date","Date","day","String","getDate","length","month","getMonth","_date","getFullYear","params","undefined","message","body","identity","_domain","divideEmail","userProfile","username","domain","_source","_this","minutes","getMinutes","_time","parseInt","getHours","_weekday","getDay"],"mappings":"0XAAAA,OAAAC,QAAA,qBAEMC,qBAEJ,QAAAA,MAAc,EAAAC,iBAAAC,SAAAC,KAAAH,GACZG,KAAKC,iBAAkB,EACvBD,KAAKE,mFAIL,MAAOF,MAAKG,+BAGMC,GAClBJ,KAAKG,iBAAmBC,6BAGjBC,GACP,GAAIC,GAAO,GAAIC,MACXC,EAAMC,OAAOH,EAAKI,UACH,KAAfF,EAAIG,SACNH,EAAM,IAAMA,EAEd,IAAII,GAAQH,OAAOH,EAAKO,WAAa,EAChB,KAAjBD,EAAMD,SACRC,EAAQ,IAAMA,GAGhBZ,KAAKc,MAAQN,EAAM,IAAMI,EAAQ,IAAMN,EAAKS,8BA6B5C,MAAOf,MAAKc,mCA1BHE,GAC4BC,SAAjCD,EAAOE,QAAQC,KAAKC,WACtBpB,KAAKqB,SAAU,EAAA1B,OAAA2B,aAAYN,EAAOE,QAAQC,KAAKC,SAASG,YAAYC,UAAUC,wBA4BhF,MAAOzB,MAAKqB,qCAxBHL,GAC4BC,SAAjCD,EAAOE,QAAQC,KAAKC,WACtBpB,KAAK0B,QAAUV,EAAOE,QAAQC,KAAKC,SAASG,YAAYC,0BA0B1D,GAAIG,GAAQ3B,IACZ,OAAO2B,GAAMD,mCAvBNrB,GACPA,EAAM,GAAIE,KACV,IAAIqB,GAAUnB,OAAOJ,EAAIwB,aACF,KAAnBD,EAAQjB,SACViB,EAAU,IAAMA,GAElB5B,KAAK8B,MAAQC,SAAStB,OAAOJ,EAAI2B,YAAcJ,mBAqB/C,GAAID,GAAQ3B,IACZ,OAAO2B,GAAMG,oCAnBHzB,GACVL,KAAKiC,SAAWxB,QAAO,GAAIF,OAAO2B,0BAsBlC,MAAOlC,MAAKiC,kCAKDpC","file":"policy/context/CommonCtx.js","sourcesContent":["import {divideEmail} from '../../utils/utils';\n\nclass CommonCtx {\n\n  constructor() {\n    this.defaultBehavior = true;\n    this.groups = {};\n  }\n\n  get defaultBehavior() {\n    return this._defaultBehavior;\n  }\n\n  set defaultBehavior(behavior) {\n    this._defaultBehavior = behavior;\n  }\n\n  set date(now) {\n    let date = new Date();\n    let day = String(date.getDate());\n    if (day.length === 1) {\n      day = '0' + day;\n    }\n    let month = String(date.getMonth() + 1);\n    if (month.length === 1) {\n      month = '0' + month;\n    }\n\n    this._date = day + '/' + month + '/' + date.getFullYear();\n  }\n\n  set domain(params) {\n    if (params.message.body.identity !== undefined) {\n      this._domain = divideEmail(params.message.body.identity.userProfile.username).domain;\n    }\n  }\n\n  set source(params) {\n    if (params.message.body.identity !== undefined) {\n      this._source = params.message.body.identity.userProfile.username;\n    }\n  }\n\n  set time(now) {\n    now = new Date();\n    let minutes = String(now.getMinutes());\n    if (minutes.length === 1) {\n      minutes = '0' + minutes;\n    }\n    this._time = parseInt(String(now.getHours()) + minutes);\n  }\n\n  set weekday(now) {\n    this._weekday = String(new Date().getDay());\n  }\n\n  get date() {\n    return this._date;\n  }\n\n  get domain() {\n    return this._domain;\n  }\n\n  get source() {\n    let _this = this;\n    return _this._source;\n  }\n\n  get time() {\n    let _this = this;\n    return _this._time;\n  }\n\n  get weekday() {\n    return this._weekday;\n  }\n\n}\n\nexport default CommonCtx;\n"],"sourceRoot":"/source/"}
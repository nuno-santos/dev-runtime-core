/**
* Copyright 2016 PT Inovação e Sistemas SA
* Copyright 2016 INESC-ID
* Copyright 2016 QUOBIS NETWORKS SL
* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V
* Copyright 2016 ORANGE SA
* Copyright 2016 Deutsche Telekom AG
* Copyright 2016 Apizee
* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
**/

// Distribution file for MessageNodeCtx.js 
// version: 0.6.0
// Last build: Thu Sep 22 2016 17:41:57 GMT+0100 (WEST)

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.MessageNodeCtx=e()}}(function(){return function e(t,r,n){function o(s,u){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":16}],2:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":17}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":18}],4:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":19}],5:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":20}],6:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":21}],7:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":22}],8:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":23}],9:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":24}],10:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=e("../core-js/object/define-property"),i=n(o);r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":3}],12:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor").default;r.default=function(e,t,r){for(var o=!0;o;){var i=e,s=t,u=r;o=!1,null===i&&(i=Function.prototype);var a=n(i,s);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(u)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=s,r=u,o=!0,a=l=void 0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":4}],13:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create").default,o=e("babel-runtime/core-js/object/set-prototype-of").default;r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":2,"babel-runtime/core-js/object/set-prototype-of":7}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var o=e("../helpers/typeof"),i=n(o);r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":15}],15:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/symbol").default;r.default=function(e){return e&&e.constructor===n?"symbol":typeof e},r.__esModule=!0},{"babel-runtime/core-js/symbol":9}],16:[function(e,t,r){var n=e("../../modules/$.core");t.exports=function(e){return(n.JSON&&n.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},{"../../modules/$.core":30}],17:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":55}],18:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":55}],19:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":55,"../../modules/es6.object.get-own-property-descriptor":80}],20:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/$.core").Object.getPrototypeOf},{"../../modules/$.core":30,"../../modules/es6.object.get-prototype-of":81}],21:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":30,"../../modules/es6.object.keys":82}],22:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":30,"../../modules/es6.object.set-prototype-of":83}],23:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":30,"../modules/es6.object.to-string":84,"../modules/es6.promise":85,"../modules/es6.string.iterator":86,"../modules/web.dom.iterable":88}],24:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":30,"../../modules/es6.object.to-string":84,"../../modules/es6.symbol":87}],25:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],26:[function(e,t,r){t.exports=function(){}},{}],27:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":48}],28:[function(e,t,r){var n=e("./$.cof"),o=e("./$.wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[o])?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},{"./$.cof":29,"./$.wks":77}],29:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],30:[function(e,t,r){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},{}],31:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":25}],32:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],33:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":37}],34:[function(e,t,r){var n=e("./$.is-object"),o=e("./$.global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./$.global":40,"./$.is-object":48}],35:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var o,i=r(e),s=n.isEnum,u=0;i.length>u;)s.call(e,o=i[u++])&&t.push(o);return t}},{"./$":55}],36:[function(e,t,r){var n=e("./$.global"),o=e("./$.core"),i=e("./$.ctx"),s="prototype",u=function(e,t,r){var a,c,l,f=e&u.F,p=e&u.G,d=e&u.S,b=e&u.P,h=e&u.B,y=e&u.W,m=p?o:o[t]||(o[t]={}),v=p?n:d?n[t]:(n[t]||{})[s];p&&(r=t);for(a in r)c=!f&&v&&a in v,c&&a in m||(l=c?v[a]:r[a],m[a]=p&&"function"!=typeof v[a]?r[a]:h&&c?i(l,n):y&&v[a]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(l):b&&"function"==typeof l?i(Function.call,l):l,b&&((m[s]||(m[s]={}))[a]=l))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},{"./$.core":30,"./$.ctx":31,"./$.global":40}],37:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],38:[function(e,t,r){var n=e("./$.ctx"),o=e("./$.iter-call"),i=e("./$.is-array-iter"),s=e("./$.an-object"),u=e("./$.to-length"),a=e("./core.get-iterator-method");t.exports=function(e,t,r,c){var l,f,p,d=a(e),b=n(r,c,t?2:1),h=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(i(d))for(l=u(e.length);l>h;h++)t?b(s(f=e[h])[0],f[1]):b(e[h]);else for(p=d.call(e);!(f=p.next()).done;)o(p,b,f.value,t)}},{"./$.an-object":27,"./$.ctx":31,"./$.is-array-iter":46,"./$.iter-call":49,"./$.to-length":74,"./core.get-iterator-method":78}],39:[function(e,t,r){var n=e("./$.to-iobject"),o=e("./$").getNames,i={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return s.slice()}};t.exports.get=function(e){return s&&"[object Window]"==i.call(e)?u(e):o(n(e))}},{"./$":55,"./$.to-iobject":73}],40:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],41:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],42:[function(e,t,r){var n=e("./$"),o=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return n.setDesc(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":55,"./$.descriptors":33,"./$.property-desc":60}],43:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":40}],44:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],45:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":29}],46:[function(e,t,r){var n=e("./$.iterators"),o=e("./$.wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./$.iterators":54,"./$.wks":77}],47:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":29}],48:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],49:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},{"./$.an-object":27}],50:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.property-desc"),i=e("./$.set-to-string-tag"),s={};e("./$.hide")(s,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n.create(s,{next:o(1,r)}),i(e,t+" Iterator")}},{"./$":55,"./$.hide":42,"./$.property-desc":60,"./$.set-to-string-tag":66,"./$.wks":77}],51:[function(e,t,r){"use strict";var n=e("./$.library"),o=e("./$.export"),i=e("./$.redefine"),s=e("./$.hide"),u=e("./$.has"),a=e("./$.iterators"),c=e("./$.iter-create"),l=e("./$.set-to-string-tag"),f=e("./$").getProto,p=e("./$.wks")("iterator"),d=!([].keys&&"next"in[].keys()),b="@@iterator",h="keys",y="values",m=function(){return this};t.exports=function(e,t,r,v,$,g,j){c(r,t,v);var _,k,x=function(e){if(!d&&e in P)return P[e];switch(e){case h:return function(){return new r(this,e)};case y:return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",C=$==y,O=!1,P=e.prototype,M=P[p]||P[b]||$&&P[$],S=M||x($);if(M){var R=f(S.call(new e));l(R,w,!0),!n&&u(P,b)&&s(R,p,m),C&&M.name!==y&&(O=!0,S=function(){return M.call(this)})}if(n&&!j||!d&&!O&&P[p]||s(P,p,S),a[t]=S,a[w]=m,$)if(_={values:C?S:x(y),keys:g?S:x(h),entries:C?x("entries"):S},j)for(k in _)k in P||i(P,k,_[k]);else o(o.P+o.F*(d||O),t,_);return _}},{"./$":55,"./$.export":36,"./$.has":41,"./$.hide":42,"./$.iter-create":50,"./$.iterators":54,"./$.library":57,"./$.redefine":62,"./$.set-to-string-tag":66,"./$.wks":77}],52:[function(e,t,r){var n=e("./$.wks")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){r=!0},i[n]=function(){return s},e(i)}catch(e){}return r}},{"./$.wks":77}],53:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],54:[function(e,t,r){t.exports={}},{}],55:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],56:[function(e,t,r){var n=e("./$"),o=e("./$.to-iobject");t.exports=function(e,t){for(var r,i=o(e),s=n.getKeys(i),u=s.length,a=0;u>a;)if(i[r=s[a++]]===t)return r}},{"./$":55,"./$.to-iobject":73}],57:[function(e,t,r){t.exports=!0},{}],58:[function(e,t,r){var n,o,i,s=e("./$.global"),u=e("./$.task").set,a=s.MutationObserver||s.WebKitMutationObserver,c=s.process,l=s.Promise,f="process"==e("./$.cof")(c),p=function(){var e,t,r;for(f&&(e=c.domain)&&(c.domain=null,e.exit());n;)t=n.domain,r=n.fn,t&&t.enter(),r(),t&&t.exit(),n=n.next;o=void 0,e&&e.enter()};if(f)i=function(){c.nextTick(p)};else if(a){var d=1,b=document.createTextNode("");new a(p).observe(b,{characterData:!0}),i=function(){b.data=d=-d}}else i=l&&l.resolve?function(){l.resolve().then(p)}:function(){u.call(s,p)};t.exports=function(e){var t={fn:e,next:void 0,domain:f&&c.domain};o&&(o.next=t),n||(n=t,i()),o=t}},{"./$.cof":29,"./$.global":40,"./$.task":71}],59:[function(e,t,r){var n=e("./$.export"),o=e("./$.core"),i=e("./$.fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./$.core":30,"./$.export":36,"./$.fails":37}],60:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],61:[function(e,t,r){var n=e("./$.redefine");t.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},{"./$.redefine":62}],62:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":42}],63:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],64:[function(e,t,r){var n=e("./$").getDesc,o=e("./$.is-object"),i=e("./$.an-object"),s=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,o){try{o=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),o(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:s}},{"./$":55,"./$.an-object":27,"./$.ctx":31,"./$.is-object":48}],65:[function(e,t,r){"use strict";var n=e("./$.core"),o=e("./$"),i=e("./$.descriptors"),s=e("./$.wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[s]&&o.setDesc(t,s,{configurable:!0,get:function(){return this}})}},{"./$":55,"./$.core":30,"./$.descriptors":33,"./$.wks":77}],66:[function(e,t,r){var n=e("./$").setDesc,o=e("./$.has"),i=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./$":55,"./$.has":41,"./$.wks":77}],67:[function(e,t,r){var n=e("./$.global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":40}],68:[function(e,t,r){var n=e("./$.an-object"),o=e("./$.a-function"),i=e("./$.wks")("species");t.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},{"./$.a-function":25,"./$.an-object":27,"./$.wks":77}],69:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],70:[function(e,t,r){var n=e("./$.to-integer"),o=e("./$.defined");t.exports=function(e){return function(t,r){var i,s,u=String(o(t)),a=n(r),c=u.length;return a<0||a>=c?e?"":void 0:(i=u.charCodeAt(a),i<55296||i>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):i:e?u.slice(a,a+2):(i-55296<<10)+(s-56320)+65536)}}},{"./$.defined":32,"./$.to-integer":72}],71:[function(e,t,r){var n,o,i,s=e("./$.ctx"),u=e("./$.invoke"),a=e("./$.html"),c=e("./$.dom-create"),l=e("./$.global"),f=l.process,p=l.setImmediate,d=l.clearImmediate,b=l.MessageChannel,h=0,y={},m="onreadystatechange",v=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},$=function(e){v.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++h]=function(){u("function"==typeof e?e:Function(e),t)},n(h),h},d=function(e){delete y[e]},"process"==e("./$.cof")(f)?n=function(e){f.nextTick(s(v,e,1))}:b?(o=new b,i=o.port2,o.port1.onmessage=$,n=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",$,!1)):n=m in c("script")?function(e){a.appendChild(c("script"))[m]=function(){a.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),t.exports={set:p,clear:d}},{"./$.cof":29,"./$.ctx":31,"./$.dom-create":34,"./$.global":40,"./$.html":43,"./$.invoke":44}],72:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],73:[function(e,t,r){var n=e("./$.iobject"),o=e("./$.defined");t.exports=function(e){return n(o(e))}},{"./$.defined":32,"./$.iobject":45}],74:[function(e,t,r){var n=e("./$.to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./$.to-integer":72}],75:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":32}],76:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],77:[function(e,t,r){var n=e("./$.shared")("wks"),o=e("./$.uid"),i=e("./$.global").Symbol;t.exports=function(e){return n[e]||(n[e]=i&&i[e]||(i||o)("Symbol."+e))}},{"./$.global":40,"./$.shared":67,"./$.uid":76}],78:[function(e,t,r){var n=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"./$.classof":28,"./$.core":30,"./$.iterators":54,"./$.wks":77}],79:[function(e,t,r){"use strict";var n=e("./$.add-to-unscopables"),o=e("./$.iter-step"),i=e("./$.iterators"),s=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./$.add-to-unscopables":26,"./$.iter-define":51,"./$.iter-step":53,"./$.iterators":54,"./$.to-iobject":73}],80:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":59,"./$.to-iobject":73}],81:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("getPrototypeOf",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":59,"./$.to-object":75}],82:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":59,"./$.to-object":75}],83:[function(e,t,r){var n=e("./$.export");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":36,"./$.set-proto":64}],84:[function(e,t,r){},{}],85:[function(e,t,r){"use strict";var n,o=e("./$"),i=e("./$.library"),s=e("./$.global"),u=e("./$.ctx"),a=e("./$.classof"),c=e("./$.export"),l=e("./$.is-object"),f=e("./$.an-object"),p=e("./$.a-function"),d=e("./$.strict-new"),b=e("./$.for-of"),h=e("./$.set-proto").set,y=e("./$.same-value"),m=e("./$.wks")("species"),v=e("./$.species-constructor"),$=e("./$.microtask"),g="Promise",j=s.process,_="process"==a(j),k=s[g],x=function(e){var t=new k(function(){});return e&&(t.constructor=Object),k.resolve(t)===t},w=function(){function t(e){var r=new k(e);return h(r,t.prototype),r}var r=!1;try{if(r=k&&k.resolve&&x(),h(t,k),t.prototype=o.create(k.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.descriptors")){var n=!1;k.resolve(o.setDesc({},"then",{get:function(){n=!0}})),r=n}}catch(e){r=!1}return r}(),C=function(e,t){return!(!i||e!==k||t!==n)||y(e,t)},O=function(e){var t=f(e)[m];return void 0!=t?t:e},P=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},M=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=p(t),this.reject=p(r)},S=function(e){try{e()}catch(e){return{error:e}}},R=function(e,t){if(!e.n){e.n=!0;var r=e.c;$(function(){for(var n=e.v,o=1==e.s,i=0,u=function(t){var r,i,s=o?t.ok:t.fail,u=t.resolve,a=t.reject;try{s?(o||(e.h=!0),r=s===!0?n:s(n),r===t.promise?a(TypeError("Promise-chain cycle")):(i=P(r))?i.call(r,u,a):u(r)):a(n)}catch(e){a(e)}};r.length>i;)u(r[i++]);r.length=0,e.n=!1,t&&setTimeout(function(){var t,r,o=e.p;A(o)&&(_?j.emit("unhandledRejection",n,o):(t=s.onunhandledrejection)?t({promise:o,reason:n}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",n)),e.a=void 0},1)})}},A=function(e){var t,r=e._d,n=r.a||r.c,o=0;if(r.h)return!1;for(;n.length>o;)if(t=n[o++],t.fail||!A(t.promise))return!1;return!0},U=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),R(t,!0))},E=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=P(e))?$(function(){var n={r:r,d:!1};try{t.call(e,u(E,n,1),u(U,n,1))}catch(e){U.call(n,e)}}):(r.v=e,r.s=1,R(r,!1))}catch(e){U.call({r:r,d:!1},e)}}};w||(k=function(e){p(e);var t=this._d={p:d(this,k,g),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(u(E,t,1),u(U,t,1))}catch(e){U.call(t,e)}},e("./$.redefine-all")(k.prototype,{then:function(e,t){var r=new M(v(this,k)),n=r.promise,o=this._d;return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,o.c.push(r),o.a&&o.a.push(r),o.s&&R(o,!1),n},catch:function(e){return this.then(void 0,e)}})),c(c.G+c.W+c.F*!w,{Promise:k}),e("./$.set-to-string-tag")(k,g),e("./$.set-species")(g),n=e("./$.core")[g],c(c.S+c.F*!w,g,{reject:function(e){var t=new M(this),r=t.reject;return r(e),t.promise}}),c(c.S+c.F*(!w||x(!0)),g,{resolve:function(e){if(e instanceof k&&C(e.constructor,this))return e;var t=new M(this),r=t.resolve;return r(e),t.promise}}),c(c.S+c.F*!(w&&e("./$.iter-detect")(function(e){k.all(e).catch(function(){})})),g,{all:function(e){var t=O(this),r=new M(t),n=r.resolve,i=r.reject,s=[],u=S(function(){b(e,!1,s.push,s);var r=s.length,u=Array(r);r?o.each.call(s,function(e,o){var s=!1;t.resolve(e).then(function(e){s||(s=!0,u[o]=e,--r||n(u))},i)}):n(u)});return u&&i(u.error),r.promise},race:function(e){var t=O(this),r=new M(t),n=r.reject,o=S(function(){b(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./$":55,"./$.a-function":25,"./$.an-object":27,"./$.classof":28,"./$.core":30,"./$.ctx":31,"./$.descriptors":33,"./$.export":36,"./$.for-of":38,"./$.global":40,"./$.is-object":48,"./$.iter-detect":52,"./$.library":57,"./$.microtask":58,"./$.redefine-all":61,"./$.same-value":63,"./$.set-proto":64,"./$.set-species":65,"./$.set-to-string-tag":66,"./$.species-constructor":68,"./$.strict-new":69,"./$.wks":77}],86:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":51,"./$.string-at":70}],87:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.global"),i=e("./$.has"),s=e("./$.descriptors"),u=e("./$.export"),a=e("./$.redefine"),c=e("./$.fails"),l=e("./$.shared"),f=e("./$.set-to-string-tag"),p=e("./$.uid"),d=e("./$.wks"),b=e("./$.keyof"),h=e("./$.get-names"),y=e("./$.enum-keys"),m=e("./$.is-array"),v=e("./$.an-object"),$=e("./$.to-iobject"),g=e("./$.property-desc"),j=n.getDesc,_=n.setDesc,k=n.create,x=h.get,w=o.Symbol,C=o.JSON,O=C&&C.stringify,P=!1,M=d("_hidden"),S=n.isEnum,R=l("symbol-registry"),A=l("symbols"),U="function"==typeof w,E=Object.prototype,F=s&&c(function(){return 7!=k(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=j(E,t);n&&delete E[t],_(e,t,r),n&&e!==E&&_(E,t,n)}:_,N=function(e){var t=A[e]=k(w.prototype);return t._k=e,s&&P&&F(E,e,{configurable:!0,set:function(t){i(this,M)&&i(this[M],e)&&(this[M][e]=!1),F(this,e,g(1,t))}}),t},L=function(e){return"symbol"==typeof e},D=function(e,t,r){return r&&i(A,t)?(r.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),r=k(r,{enumerable:g(0,!1)})):(i(e,M)||_(e,M,g(1,{})),e[M][t]=!0),F(e,t,r)):_(e,t,r)},T=function(e,t){v(e);for(var r,n=y(t=$(t)),o=0,i=n.length;i>o;)D(e,r=n[o++],t[r]);return e},I=function(e,t){return void 0===t?k(e):T(k(e),t)},H=function(e){var t=S.call(this,e);return!(t||!i(this,e)||!i(A,e)||i(this,M)&&this[M][e])||t},J=function(e,t){var r=j(e=$(e),t);return!r||!i(A,t)||i(e,M)&&e[M][t]||(r.enumerable=!0),r},B=function(e){for(var t,r=x($(e)),n=[],o=0;r.length>o;)i(A,t=r[o++])||t==M||n.push(t);return n},G=function(e){for(var t,r=x($(e)),n=[],o=0;r.length>o;)i(A,t=r[o++])&&n.push(A[t]);return n},W=function(e){if(void 0!==e&&!L(e)){for(var t,r,n=[e],o=1,i=arguments;i.length>o;)n.push(i[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&m(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!L(t))return t}),n[1]=t,O.apply(C,n)}},q=c(function(){var e=w();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))});U||(w=function(){if(L(this))throw TypeError("Symbol is not a constructor");return N(p(arguments.length>0?arguments[0]:void 0))},a(w.prototype,"toString",function(){return this._k}),L=function(e){return e instanceof w},n.create=I,n.isEnum=H,n.getDesc=J,n.setDesc=D,n.setDescs=T,n.getNames=h.get=B,n.getSymbols=G,s&&!e("./$.library")&&a(E,"propertyIsEnumerable",H,!0));var z={for:function(e){return i(R,e+="")?R[e]:R[e]=w(e)},keyFor:function(e){return b(R,e)},useSetter:function(){P=!0},useSimple:function(){P=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=d(e);z[e]=U?t:N(t)}),P=!0,u(u.G+u.W,{Symbol:w}),u(u.S,"Symbol",z),u(u.S+u.F*!U,"Object",{create:I,defineProperty:D,defineProperties:T,getOwnPropertyDescriptor:J,getOwnPropertyNames:B,getOwnPropertySymbols:G}),C&&u(u.S+u.F*(!U||q),"JSON",{stringify:W}),f(w,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},{"./$":55,"./$.an-object":27,"./$.descriptors":33,"./$.enum-keys":35,"./$.export":36,"./$.fails":37,"./$.get-names":39,"./$.global":40,"./$.has":41,"./$.is-array":47,"./$.keyof":56,"./$.library":57,"./$.property-desc":60,"./$.redefine":62,"./$.set-to-string-tag":66,"./$.shared":67,"./$.to-iobject":73,"./$.uid":76,"./$.wks":77}],88:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":54,"./es6.array.iterator":79}],89:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=function e(){(0,i.default)(this,e)};r.default=s,t.exports=r.default},{"babel-runtime/helpers/classCallCheck":10}],90:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),u=n(s),a=function(){function e(){(0,i.default)(this,e)}return(0,u.default)(e,[{key:"and",value:function(e){return e[0]&&e[1]}},{key:"between",value:function(e){var t=parseInt(e[0][0]),r=parseInt(e[0][1]),n=e[1];return r<t&&(n=n<t?n+=2400:n,r+=2400),n>t&&n<r}},{key:"equals",value:function(e){return"*"==e[0]||e[0]==e[1]}},{key:"greaterThan",value:function(e){return e[1]>e[0]}},{key:"in",value:function(e){return e[0].indexOf(e[1])>-1}},{key:"lessThan",value:function(e){return e[1]<e[0]}},{key:"not",value:function(e){return!e[0]}},{key:"or",value:function(e){return e[0]||e[1]}}]),e}();r.default=a,t.exports=r.default},{"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],91:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),u=n(s),a=e("./combiningAlgorithms/DenyOverrides"),c=n(a),l=e("./combiningAlgorithms/FirstApplicable"),f=n(l),p=function(){function e(t,r,n,o){(0,i.default)(this,e),this.actions=n,this.key=t,this.rules=r,this.combiningAlgorithm=o}return(0,u.default)(e,[{key:"enforceActions",value:function(e,t,r){for(var n in this.actions)e[this.actions[n]](t,r)}},{key:"evaluate",value:function(e,t){var r=[];for(var n in this.rules)r.push(this.rules[n].evaluate(e,t));return this.combiningAlgorithm.evaluate(r)}},{key:"combiningAlgorithm",get:function(){return this._combiningAlgorithm},set:function(e){if("denyOverrides"===e)this._combiningAlgorithm=new c.default;else{if("firstApplicable"!==e)throw Error("Unknown algorithm: "+e);this._combiningAlgorithm=new f.default}}}]),e}();r.default=p,t.exports=r.default},{"./combiningAlgorithms/DenyOverrides":93,"./combiningAlgorithms/FirstApplicable":94,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],92:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),u=n(s),a=e("../utils/utils"),c=e("./Operators"),l=n(c),f=function(){function e(t,r,n,o,s){(0,i.default)(this,e),this.operators=new l.default,this.authorise=t,this.condition=r,this.priority=n,this.scope=o,this.target=s}return(0,u.default)(e,[{key:"evaluate",value:function(e,t){var r=void 0;switch(this.scope){case"global":break;case"hyperty":if((0,a.isDataObjectURL)(t.from)){var n=e.runtimeRegistry.getReporterURLSynchonous((0,a.removePathFromURL)(t.from));void 0!==n&&(r=e.runtimeRegistry.getHypertyName(n))}else"hyperty"===t.from.split("://")[0]&&(r=e.runtimeRegistry.getHypertyName((0,a.removePathFromURL)(t.from)));if(r===this.target)break;if((0,a.isDataObjectURL)(t.to)){var o=e.runtimeRegistry.getReporterURLSynchonous((0,a.removePathFromURL)(t.to));void 0!==o&&(r=e.runtimeRegistry.getHypertyName(o))}else"hyperty"===t.to.split("://")[0]&&(r=e.runtimeRegistry.getHypertyName((0,a.removePathFromURL)(t.to)));if(r===this.target)break;return"Not Applicable";case"user":var i=void 0;if((0,a.isDataObjectURL)(t.from)){var s=e.runtimeRegistry.getReporterURLSynchonous((0,a.removePathFromURL)(t.from));i=e.runtimeRegistry.getHypertyOwner(s)}else"hyperty"===t.from.split("://")[0]&&(i=e.runtimeRegistry.getHypertyOwner((0,a.removePathFromURL)(t.from)));if(void 0!==i&&(i=(0,a.getUserEmailFromURL)(i)),i===this.target)break;if((0,a.isDataObjectURL)(t.to)){var u=e.runtimeRegistry.getReporterURLSynchonous((0,a.removePathFromURL)(t.to));i=e.runtimeRegistry.getHypertyOwner(u),void 0!==i&&(i=(0,a.getUserEmailFromURL)(i))}else"hyperty"===t.to.split("://")[0]&&(i=e.runtimeRegistry.getHypertyOwner((0,
a.removePathFromURL)(t.to)),void 0!==i&&(i=(0,a.getUserEmailFromURL)(i)));if(i===this.target)break;return"Not Applicable"}return this.condition.isApplicable(e,t,this.scope,this.target)?this.authorise:"Not Applicable"}}]),e}();r.default=f,t.exports=r.default},{"../utils/utils":101,"./Operators":90,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],93:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),u=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),b=e("../CombiningAlgorithm"),h=n(b),y=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,c.default)(t,[{key:"evaluate",value:function(e){return e.indexOf(!1)===-1&&(e.indexOf(!0)!==-1||"Not Applicable")}}]),t}(h.default);r.default=y,t.exports=r.default},{"../CombiningAlgorithm":89,"babel-runtime/core-js/object/get-prototype-of":5,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],94:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),u=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),b=e("../CombiningAlgorithm"),h=n(b),y=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,c.default)(t,[{key:"evaluate",value:function(e){for(var t in e)if("Not Applicable"!==e[t])return e[t];return"Not Applicable"}}]),t}(h.default);r.default=y,t.exports=r.default},{"../CombiningAlgorithm":89,"babel-runtime/core-js/object/get-prototype-of":5,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],95:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),u=n(s),a=e("./Condition"),c=n(a),l=e("../Operators"),f=n(l),p=e("./SubscriptionCondition"),d=n(p),b=function(){function e(t){(0,i.default)(this,e),this.operators=new f.default,this.condition=t}return(0,u.default)(e,[{key:"isApplicable",value:function(e,t,r,n,o,i,s){for(o||(o=this.condition[0],i=this.condition[1],s=this.condition[2]);!(i instanceof c.default)&!(i instanceof d.default)&"boolean"!=typeof i;)i=this.isApplicable(e,t,r,n,i[0],i[1],i[2]);if(void 0!==s)for(;!(s instanceof c.default)&!(s instanceof d.default)&"boolean"!=typeof s;)s=this.isApplicable(e,t,r,n,s[0],s[1],s[2]);var u="boolean"==typeof i?i:i.isApplicable(e,t,r,n),a=void 0;return void 0!==s&&(a="boolean"==typeof s?s:s.isApplicable(e,t,r,n)),this.operators[o]([u,a])}}]),e}();r.default=b,t.exports=r.default},{"../Operators":90,"./Condition":96,"./SubscriptionCondition":97,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],96:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),u=n(s),a=e("../Operators"),c=n(a),l=function(){function e(t,r,n){(0,i.default)(this,e),this.attribute=t,this.operator=r,this.params=n,this.operators=new c.default}return(0,u.default)(e,[{key:"isApplicable",value:function(e,t){e[this.attribute]={message:t};var r=e[this.attribute],n=void 0;if("in"===this.operator)if("preauthorised"===this.params){var o=t.to.split("/");o.pop(),o=o[0]+"//"+o[2],n=e.runtimeRegistry.getPreAuthSubscribers(o)}else n=e.policyEngine.getGroup(this.params);return n?this.operators[this.operator]([n,r]):this.operators[this.operator]([this.params,r])}}]),e}();r.default=l,t.exports=r.default},{"../Operators":90,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],97:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),u=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/get"),d=n(p),b=e("babel-runtime/helpers/inherits"),h=n(b),y=e("./Condition"),m=n(y),v=function(e){function t(e,r,n){return(0,u.default)(this,t),(0,f.default)(this,(0,i.default)(t).call(this,e,r,n))}return(0,h.default)(t,e),(0,c.default)(t,[{key:"isApplicable",value:function(e,r,n,o){var s="subscribe"===r.type,u=e.isFromRemoteSM(r.from);return!!(s&u)&&(0,d.default)((0,i.default)(t.prototype),"isApplicable",this).call(this,e,r)}}]),t}(m.default);r.default=v,t.exports=r.default},{"./Condition":96,"babel-runtime/core-js/object/get-prototype-of":5,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],98:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),i=n(o),s=e("babel-runtime/helpers/createClass"),u=n(s),a=e("../../utils/utils"),c=function(){function e(){(0,i.default)(this,e),this.defaultBehavior=!0,this.groups={}}return(0,u.default)(e,[{key:"defaultBehavior",get:function(){return this._defaultBehavior},set:function(e){this._defaultBehavior=e}},{key:"date",set:function(e){var t=new Date,r=String(t.getDate());1===r.length&&(r="0"+r);var n=String(t.getMonth()+1);1===n.length&&(n="0"+n),this._date=r+"/"+n+"/"+t.getFullYear()},get:function(){return this._date}},{key:"domain",set:function(e){void 0!==e.message.body.identity&&(this._domain=(0,a.divideEmail)(e.message.body.identity.userProfile.username).domain)},get:function(){return this._domain}},{key:"source",set:function(e){void 0!==e.message.body.identity&&(this._source=e.message.body.identity.userProfile.username)},get:function(){var e=this;return e._source}},{key:"time",set:function(e){e=new Date;var t=String(e.getMinutes());1===t.length&&(t="0"+t),this._time=parseInt(String(e.getHours())+t)},get:function(){var e=this;return e._time}},{key:"weekday",set:function(e){this._weekday=String((new Date).getDay())},get:function(){return this._weekday}}]),e}();r.default=c,t.exports=r.default},{"../../utils/utils":101,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11}],99:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/keys"),i=n(o),s=e("babel-runtime/core-js/promise"),u=n(s),a=e("babel-runtime/core-js/object/get-prototype-of"),c=n(a),l=e("babel-runtime/helpers/classCallCheck"),f=n(l),p=e("babel-runtime/helpers/createClass"),d=n(p),b=e("babel-runtime/helpers/possibleConstructorReturn"),h=n(b),y=e("babel-runtime/helpers/inherits"),m=n(y),v=e("./CommonCtx"),$=n(v),g=e("../conditions/Condition"),j=(n(g),e("../Rule")),_=(n(j),e("../policies/UserPolicy")),k=(n(_),function(e){function t(){(0,f.default)(this,t);var e=(0,h.default)(this,(0,c.default)(t).call(this));return e.serviceProviderPolicies={},e}return(0,m.default)(t,e),(0,d.default)(t,[{key:"authorise",value:function(e){var t=this;return new u.default(function(r,n){var o=t,i=void 0,s=o._isToVerify(e);if(s){var u={serviceProviderPolicy:o.getServiceProviderPolicy(e)};i=o.policyEngine.pdp.applyPolicies(e,u)}void 0===i||"Not Applicable"===i?r(e):n("Message blocked")})}},{key:"loadActivePolicy",value:function(){}},{key:"loadGroups",value:function(){}},{key:"loadSPPolicies",value:function(){}},{key:"loadUserPolicies",value:function(){}},{key:"getServiceProviderPolicy",value:function(){var e=void 0;if(0!==(0,i.default)(this.serviceProviderPolicies).length)for(var t in this.serviceProviderPolicies)e=this.serviceProviderPolicies[t];return e}},{key:"_isToVerify",value:function(){return!0}},{key:"saveActivePolicy",value:function(){}},{key:"saveGroups",value:function(){}},{key:"savePolicies",value:function(){}}]),t}($.default));r.default=k,t.exports=r.default},{"../Rule":92,"../conditions/Condition":96,"../policies/UserPolicy":100,"./CommonCtx":98,"babel-runtime/core-js/object/get-prototype-of":5,"babel-runtime/core-js/object/keys":6,"babel-runtime/core-js/promise":8,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],100:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/get-prototype-of"),i=n(o),s=e("babel-runtime/helpers/classCallCheck"),u=n(s),a=e("babel-runtime/helpers/createClass"),c=n(a),l=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(l),p=e("babel-runtime/helpers/inherits"),d=n(p),b=e("../conditions/AdvancedCondition"),h=n(b),y=e("../conditions/Condition"),m=n(y),v=e("../Policy"),$=n(v),g=e("../Rule"),j=n(g),_=e("../conditions/SubscriptionCondition"),k=n(_),x=function(e){function t(e,r,n,o){return(0,u.default)(this,t),o||(o="denyOverrides"),(0,f.default)(this,(0,i.default)(t).call(this,e,r,n,o))}return(0,d.default)(t,e),(0,c.default)(t,[{key:"createRule",value:function(e,t,r,n,o,i){if(!(r instanceof m.default))switch(e){case"advanced":r=new h.default(r);break;case"simple":r=new m.default(r[0],r[1],r[2]);break;case"subscription":r=new k.default(r[0],r[1],r[2])}void 0===i&&(i=this.getLastPriority()+1);var s=new j.default(t,r,i,n,o);this.rules.push(s)}},{key:"deleteRule",value:function(e){var t=this.rules.indexOf(e);this.rules.splice(t,1)}},{key:"getLastPriority",value:function(){var e=[];if(0!==this.rules.length){for(var t in this.rules)e.push(this.rules[t].priority);return Math.max.apply(Math,e)}return-1}},{key:"getRuleByPriority",value:function(e){for(var t in this.rules)if(this.rules[t].priority==e)return this.rules[t];throw Error("Rule with priority "+e+" does not exist!")}},{key:"hasSubscriptionRule",value:function(){for(var e in this.rules)if("global"===this.rules[e].scope){if(this.rules[e].condition instanceof k.default)return!0;if(this.rules[e].condition instanceof h.default)for(var t in this.rules[e].condition.condition)if(this.rules[e].condition.condition[t]instanceof k.default)return!0}return!1}},{key:"sortRules",value:function(){return this.rules.sort(function(e,t){var r=e.priority,n=t.priority;return r<n?-1:r>n?1:0})}}]),t}($.default);r.default=x,t.exports=r.default},{"../Policy":91,"../Rule":92,"../conditions/AdvancedCondition":95,"../conditions/Condition":96,"../conditions/SubscriptionCondition":97,"babel-runtime/core-js/object/get-prototype-of":5,"babel-runtime/helpers/classCallCheck":10,"babel-runtime/helpers/createClass":11,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/possibleConstructorReturn":14}],101:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e)throw Error("URL is needed to split");var t=/([a-zA-Z-]*):\/\/(?:\.)?([-a-zA-Z0-9@:%._\+~#=]{2,256})([-a-zA-Z0-9@:%._\+~#=\/]*)/gi,r="$1,$2,$3",n=e.replace(t,r).split(",");n[0]===e&&(n[0]="https",n[1]=e);var o={type:n[0],domain:n[1],identity:n[2]};return o}function i(e){var t=e.indexOf("@"),r={username:e.substring(0,t),domain:e.substring(t+1,e.length)};return r}function s(e){return!((0,y.default)(e).length>0)}function u(e){if(e)return JSON.parse((0,b.default)(e))}function a(e){var t=e.split("/");return t[0]+"//"+t[2]+"/"+t[3]}function c(e){var t=e.indexOf("@");return"user://"+e.substring(t+1,e.length)+"/"+e.substring(0,t)}function l(e){var t=o(e);return t.identity.replace("/","")+"@"+t.domain}function f(e){if("user://"===e.substring(0,7)){var t=o(e);if(t.domain&&t.identity)return e;throw"userURL with wrong format"}return c(e)}function p(e){var t=["domain-idp","runtime","domain","hyperty"],r=e.split("://"),n=r[0];return t.indexOf(n)===-1}Object.defineProperty(r,"__esModule",{value:!0});var d=e("babel-runtime/core-js/json/stringify"),b=n(d),h=e("babel-runtime/core-js/object/keys"),y=n(h);r.divideURL=o,r.divideEmail=i,r.emptyObject=s,r.deepClone=u,r.removePathFromURL=a,r.getUserURLFromEmail=c,r.getUserEmailFromURL=l,r.convertToUserURL=f,r.isDataObjectURL=p},{"babel-runtime/core-js/json/stringify":1,"babel-runtime/core-js/object/keys":6}]},{},[99])(99)});
//# sourceMappingURL=MessageNodeCtx.js.map

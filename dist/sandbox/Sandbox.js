"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SandboxType=void 0;var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),_SandboxRegistry=require("../sandbox/SandboxRegistry"),_SandboxRegistry2=_interopRequireDefault(_SandboxRegistry),_MiniBus2=require("../bus/MiniBus"),_MiniBus3=_interopRequireDefault(_MiniBus2),SandboxType=exports.SandboxType={APP:"app",NORMAL:"normal"},Sandbox=function(e){function r(){(0,_classCallCheck3.default)(this,r);var e=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(r).call(this));return e}return(0,_inherits3.default)(r,e),(0,_createClass3.default)(r,[{key:"deployComponent",value:function(e,r,t){var o=this;return new _promise2.default(function(s,i){var n={type:"create",from:_SandboxRegistry2.default.ExternalDeployAddress,to:_SandboxRegistry2.default.InternalDeployAddress,body:{url:r,sourceCode:e,config:t}};o.postMessage(n,function(e){200===e.body.code?s("deployed"):i(e.body.desc)})})}},{key:"removeComponent",value:function(e){var r=this;return new _promise2.default(function(t,o){var s={type:"delete",from:_SandboxRegistry2.default.ExternalDeployAddress,to:_SandboxRegistry2.default.InternalDeployAddress,body:{url:e}};r.postMessage(s,function(e){200===e.body.code?t("undeployed"):o(e.body.desc)})})}}]),r}(_MiniBus3.default);exports.default=Sandbox;
//# sourceMappingURL=Sandbox.js.map

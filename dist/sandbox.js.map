{"version":3,"sources":["sandbox.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","sandbox","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/object/create","2","core-js/library/fn/object/define-property","3","core-js/library/fn/object/get-prototype-of","4","core-js/library/fn/object/set-prototype-of","5","core-js/library/fn/promise","6","core-js/library/fn/symbol","7","instance","Constructor","TypeError","8","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","9","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","value","__proto__","babel-runtime/core-js/object/create","babel-runtime/core-js/object/set-prototype-of","10","_typeof2","_typeof3","ReferenceError","../helpers/typeof","11","_Symbol","babel-runtime/core-js/symbol","12","$","P","D","create","../../modules/$","13","it","desc","setDesc","14","Object","getPrototypeOf","../../modules/$.core","../../modules/es6.object.get-prototype-of","15","setPrototypeOf","../../modules/es6.object.set-prototype-of","16","Promise","../modules/$.core","../modules/es6.object.to-string","../modules/es6.promise","../modules/es6.string.iterator","../modules/web.dom.iterable","17","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","18","19","20","isObject","./$.is-object","21","cof","TAG","ARG","arguments","O","T","B","undefined","callee","./$.cof","./$.wks","22","toString","slice","23","core","version","__e","24","aFunction","fn","that","b","c","apply","./$.a-function","25","26","defineProperty","get","./$.fails","27","document","is","createElement","./$.global","28","keys","getKeys","getSymbols","symbols","isEnum","push","./$","29","ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","C","param","Function","./$.core","./$.ctx","30","exec","31","isArrayIter","anObject","toLength","getIterFn","iterable","entries","step","iterator","iterFn","index","next","done","./$.an-object","./$.is-array-iter","./$.iter-call","./$.to-length","./core.get-iterator-method","32","toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject","33","Math","__g","34","hasOwnProperty","35","createDesc","object","./$.descriptors","./$.property-desc","36","documentElement","37","args","un","38","propertyIsEnumerable","split","39","Iterators","ITERATOR","ArrayProto","Array","./$.iterators","40","isArray","arg","41","42","ret","43","setToStringTag","IteratorPrototype","NAME","./$.hide","./$.set-to-string-tag","44","LIBRARY","redefine","hide","has","$iterCreate","getProto","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","values","./$.export","./$.has","./$.iter-create","./$.library","./$.redefine","45","SAFE_CLOSING","riter","from","skipClosing","safe","arr","iter","46","47","48","$Object","getDesc","getOwnPropertyDescriptor","setDescs","getOwnPropertySymbols","each","forEach","49","el","50","51","head","last","notify","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","flush","parent","domain","exit","enter","nextTick","toggle","node","createTextNode","observe","characterData","data","resolve","then","task","./$.task","52","fails","KEY","exp","53","bitmap","54","src","55","56","x","y","57","check","test","buggy","58","DESCRIPTORS","SPECIES","59","def","tag","stat","60","SHARED","store","61","62","63","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./$.defined","./$.to-integer","64","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","id","listner","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","clear","./$.dom-create","./$.html","./$.invoke","65","ceil","floor","isNaN","66","IObject","./$.iobject","67","min","68","69","px","random","concat","70","uid","./$.shared","./$.uid","71","classof","getIteratorMethod","./$.classof","72","addToUnscopables","iterated","_t","_i","_k","Arguments","./$.add-to-unscopables","./$.iter-define","./$.iter-step","73","toObject","$getPrototypeOf","./$.object-sap","./$.to-object","74","./$.set-proto","75","76","Wrapper","strictNew","forOf","setProto","same","speciesConstructor","asap","PROMISE","testResolve","sub","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","getConstructor","isThenable","PromiseCapability","reject","promise","$$resolve","$$reject","perform","error","record","isReject","chain","v","ok","reaction","result","handler","fail","h","console","p","isUnhandled","emit","onunhandledrejection","reason","_d","$reject","d","$resolve","wrapper","executor","err","onFulfilled","onRejected","catch","capability","all","abrupt","remaining","results","alreadyCalled","race","./$.for-of","./$.iter-detect","./$.microtask","./$.redefine-all","./$.same-value","./$.set-species","./$.species-constructor","./$.strict-new","77","$at","point","./$.string-at","78","$fails","shared","wks","keyOf","$names","enumKeys","_create","$Symbol","$JSON","JSON","_stringify","stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","$stringify","replacer","$replacer","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.enum-keys","./$.get-names","./$.is-array","./$.keyof","79","NodeList","HTMLCollection","./es6.array.iterator","80","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","Bus","_this","_msgId","_subscriptions","_responseTimeOut","_responseCallbacks","_registerExternalListener","url","listener","item","MsgListener","itemList","msgId","responseListener","outUrl","inUrl","_this2","thisListn","addListener","msg","targetListn","thisListener","targetListener","unbind","remove","_publishOn","_callback","inMsg","responseCallback","responseId","responseFun","errorMsg","body","to","_onResponse","_publishOnDefault","subscriptions","callback","_url","subs","indexOf","splice","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","81","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_Bus2","_Bus3","MiniBus","_Bus","_genId","_responseCallback","_onPostMessage","startsWith","./Bus","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","82","SandboxRegistry","SandboxType","Sandbox","_Sandbox","_Sandbox2","_SandboxRegistry","_SandboxRegistry2","./sandbox/Sandbox","./sandbox/SandboxRegistry","83","_promise","_promise2","_MiniBus2","_MiniBus3","APP","NORMAL","_MiniBus","componentSourceCode","componentURL","configuration","deployMessage","ExternalDeployAddress","InternalDeployAddress","sourceCode","config","reply","removeMessage","../bus/MiniBus","../sandbox/SandboxRegistry","babel-runtime/core-js/promise","84","bus","_bus","_components","_onDeploy","_onRemove","responseMsg","responseCode","responseDesc","_responseMsg","removeAllListenersOf"],"mappings":"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","file":"sandbox.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.sandbox = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":12}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":13}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":14}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":15}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":16}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":17}],7:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":2}],9:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/create\":1,\"babel-runtime/core-js/object/set-prototype-of\":4}],10:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":11}],11:[function(require,module,exports){\n\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/symbol\":6}],12:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n},{\"../../modules/$\":48}],13:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n},{\"../../modules/$\":48}],14:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.get-prototype-of\":73}],15:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.set-prototype-of\":74}],16:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/$.core').Promise;\n},{\"../modules/$.core\":23,\"../modules/es6.object.to-string\":75,\"../modules/es6.promise\":76,\"../modules/es6.string.iterator\":77,\"../modules/web.dom.iterable\":79}],17:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n},{\"../../modules/$.core\":23,\"../../modules/es6.object.to-string\":75,\"../../modules/es6.symbol\":78}],18:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],19:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],20:[function(require,module,exports){\nvar isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./$.is-object\":41}],21:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./$.cof')\n  , TAG = require('./$.wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./$.cof\":22,\"./$.wks\":70}],22:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],23:[function(require,module,exports){\nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],24:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./$.a-function\":18}],25:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],26:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./$.fails\":30}],27:[function(require,module,exports){\nvar isObject = require('./$.is-object')\n  , document = require('./$.global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./$.global\":33,\"./$.is-object\":41}],28:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n},{\"./$\":48}],29:[function(require,module,exports){\nvar global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n},{\"./$.core\":23,\"./$.ctx\":24,\"./$.global\":33}],30:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],31:[function(require,module,exports){\nvar ctx         = require('./$.ctx')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , anObject    = require('./$.an-object')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that){\n  var iterFn = getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};\n},{\"./$.an-object\":20,\"./$.ctx\":24,\"./$.is-array-iter\":39,\"./$.iter-call\":42,\"./$.to-length\":67,\"./core.get-iterator-method\":71}],32:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n},{\"./$\":48,\"./$.to-iobject\":66}],33:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],34:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],35:[function(require,module,exports){\nvar $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./$\":48,\"./$.descriptors\":26,\"./$.property-desc\":53}],36:[function(require,module,exports){\nmodule.exports = require('./$.global').document && document.documentElement;\n},{\"./$.global\":33}],37:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],38:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./$.cof\":22}],39:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./$.iterators')\n  , ITERATOR   = require('./$.wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./$.iterators\":47,\"./$.wks\":70}],40:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./$.cof\":22}],41:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],42:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./$.an-object\":20}],43:[function(require,module,exports){\n'use strict';\nvar $              = require('./$')\n  , descriptor     = require('./$.property-desc')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./$\":48,\"./$.hide\":35,\"./$.property-desc\":53,\"./$.set-to-string-tag\":59,\"./$.wks\":70}],44:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./$\":48,\"./$.export\":29,\"./$.has\":34,\"./$.hide\":35,\"./$.iter-create\":43,\"./$.iterators\":47,\"./$.library\":50,\"./$.redefine\":55,\"./$.set-to-string-tag\":59,\"./$.wks\":70}],45:[function(require,module,exports){\nvar ITERATOR     = require('./$.wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./$.wks\":70}],46:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],47:[function(require,module,exports){\nmodule.exports = {};\n},{}],48:[function(require,module,exports){\nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n},{}],49:[function(require,module,exports){\nvar $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./$\":48,\"./$.to-iobject\":66}],50:[function(require,module,exports){\nmodule.exports = true;\n},{}],51:[function(require,module,exports){\nvar global    = require('./$.global')\n  , macrotask = require('./$.task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./$.cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain, fn;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    fn     = head.fn;\n    if(domain)domain.enter();\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};\n},{\"./$.cof\":22,\"./$.global\":33,\"./$.task\":64}],52:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./$.core\":23,\"./$.export\":29,\"./$.fails\":30}],53:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],54:[function(require,module,exports){\nvar redefine = require('./$.redefine');\nmodule.exports = function(target, src){\n  for(var key in src)redefine(target, key, src[key]);\n  return target;\n};\n},{\"./$.redefine\":55}],55:[function(require,module,exports){\nmodule.exports = require('./$.hide');\n},{\"./$.hide\":35}],56:[function(require,module,exports){\n// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n},{}],57:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./$\":48,\"./$.an-object\":20,\"./$.ctx\":24,\"./$.is-object\":41}],58:[function(require,module,exports){\n'use strict';\nvar core        = require('./$.core')\n  , $           = require('./$')\n  , DESCRIPTORS = require('./$.descriptors')\n  , SPECIES     = require('./$.wks')('species');\n\nmodule.exports = function(KEY){\n  var C = core[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./$\":48,\"./$.core\":23,\"./$.descriptors\":26,\"./$.wks\":70}],59:[function(require,module,exports){\nvar def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./$\":48,\"./$.has\":34,\"./$.wks\":70}],60:[function(require,module,exports){\nvar global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./$.global\":33}],61:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./$.an-object')\n  , aFunction = require('./$.a-function')\n  , SPECIES   = require('./$.wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./$.a-function\":18,\"./$.an-object\":20,\"./$.wks\":70}],62:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};\n},{}],63:[function(require,module,exports){\nvar toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./$.defined\":25,\"./$.to-integer\":65}],64:[function(require,module,exports){\nvar ctx                = require('./$.ctx')\n  , invoke             = require('./$.invoke')\n  , html               = require('./$.html')\n  , cel                = require('./$.dom-create')\n  , global             = require('./$.global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./$.cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./$.cof\":22,\"./$.ctx\":24,\"./$.dom-create\":27,\"./$.global\":33,\"./$.html\":36,\"./$.invoke\":37}],65:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],66:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./$.defined\":25,\"./$.iobject\":38}],67:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./$.to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./$.to-integer\":65}],68:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./$.defined\":25}],69:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],70:[function(require,module,exports){\nvar store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n},{\"./$.global\":33,\"./$.shared\":60,\"./$.uid\":69}],71:[function(require,module,exports){\nvar classof   = require('./$.classof')\n  , ITERATOR  = require('./$.wks')('iterator')\n  , Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./$.classof\":21,\"./$.core\":23,\"./$.iterators\":47,\"./$.wks\":70}],72:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./$.add-to-unscopables')\n  , step             = require('./$.iter-step')\n  , Iterators        = require('./$.iterators')\n  , toIObject        = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./$.add-to-unscopables\":19,\"./$.iter-define\":44,\"./$.iter-step\":46,\"./$.iterators\":47,\"./$.to-iobject\":66}],73:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./$.object-sap\":52,\"./$.to-object\":68}],74:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n},{\"./$.export\":29,\"./$.set-proto\":57}],75:[function(require,module,exports){\n\n},{}],76:[function(require,module,exports){\n'use strict';\nvar $          = require('./$')\n  , LIBRARY    = require('./$.library')\n  , global     = require('./$.global')\n  , ctx        = require('./$.ctx')\n  , classof    = require('./$.classof')\n  , $export    = require('./$.export')\n  , isObject   = require('./$.is-object')\n  , anObject   = require('./$.an-object')\n  , aFunction  = require('./$.a-function')\n  , strictNew  = require('./$.strict-new')\n  , forOf      = require('./$.for-of')\n  , setProto   = require('./$.set-proto').set\n  , same       = require('./$.same-value')\n  , SPECIES    = require('./$.wks')('species')\n  , speciesConstructor = require('./$.species-constructor')\n  , asap       = require('./$.microtask')\n  , PROMISE    = 'Promise'\n  , process    = global.process\n  , isNode     = classof(process) == 'process'\n  , P          = global[PROMISE]\n  , Wrapper;\n\nvar testResolve = function(sub){\n  var test = new P(function(){});\n  if(sub)test.constructor = Object;\n  return P.resolve(test) === test;\n};\n\nvar USE_NATIVE = function(){\n  var works = false;\n  function P2(x){\n    var self = new P(x);\n    setProto(self, P2.prototype);\n    return self;\n  }\n  try {\n    works = P && P.resolve && testResolve();\n    setProto(P2, P);\n    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n    // actual Firefox has broken subclass support, test that\n    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n      works = false;\n    }\n    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./$.descriptors')){\n      var thenableThenGotten = false;\n      P.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return works;\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // library wrapper special case\n  if(LIBRARY && a === P && b === Wrapper)return true;\n  return same(a, b);\n};\nvar getConstructor = function(C){\n  var S = anObject(C)[SPECIES];\n  return S != undefined ? S : C;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar PromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve),\n  this.reject  = aFunction(reject)\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(record, isReject){\n  if(record.n)return;\n  record.n = true;\n  var chain = record.c;\n  asap(function(){\n    var value = record.v\n      , ok    = record.s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , result, then;\n      try {\n        if(handler){\n          if(!ok)record.h = true;\n          result = handler === true ? value : handler(value);\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    chain.length = 0;\n    record.n = false;\n    if(isReject)setTimeout(function(){\n      var promise = record.p\n        , handler, console;\n      if(isUnhandled(promise)){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      } record.a = undefined;\n    }, 1);\n  });\n};\nvar isUnhandled = function(promise){\n  var record = promise._d\n    , chain  = record.a || record.c\n    , i      = 0\n    , reaction;\n  if(record.h)return false;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar $reject = function(value){\n  var record = this;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  record.v = value;\n  record.s = 2;\n  record.a = record.c.slice();\n  notify(record, true);\n};\nvar $resolve = function(value){\n  var record = this\n    , then;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  try {\n    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      asap(function(){\n        var wrapper = {r: record, d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      record.v = value;\n      record.s = 1;\n      notify(record, false);\n    }\n  } catch(e){\n    $reject.call({r: record, d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  P = function Promise(executor){\n    aFunction(executor);\n    var record = this._d = {\n      p: strictNew(this, P, PROMISE),         // <- promise\n      c: [],                                  // <- awaiting reactions\n      a: undefined,                           // <- checked in isUnhandled reactions\n      s: 0,                                   // <- state\n      d: false,                               // <- done\n      v: undefined,                           // <- value\n      h: false,                               // <- handled rejection\n      n: false                                // <- notify\n    };\n    try {\n      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n    } catch(err){\n      $reject.call(record, err);\n    }\n  };\n  require('./$.redefine-all')(P.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction = new PromiseCapability(speciesConstructor(this, P))\n        , promise  = reaction.promise\n        , record   = this._d;\n      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      record.c.push(reaction);\n      if(record.a)record.a.push(reaction);\n      if(record.s)notify(record, false);\n      return promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\nrequire('./$.set-to-string-tag')(P, PROMISE);\nrequire('./$.set-species')(PROMISE);\nWrapper = require('./$.core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = new PromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n    var capability = new PromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./$.iter-detect')(function(iter){\n  P.all(iter)['catch'](function(){});\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject\n      , values     = [];\n    var abrupt = perform(function(){\n      forOf(iterable, false, values.push, values);\n      var remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        var alreadyCalled = false;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled = true;\n          results[index] = value;\n          --remaining || resolve(results);\n        }, reject);\n      });\n      else resolve(results);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./$\":48,\"./$.a-function\":18,\"./$.an-object\":20,\"./$.classof\":21,\"./$.core\":23,\"./$.ctx\":24,\"./$.descriptors\":26,\"./$.export\":29,\"./$.for-of\":31,\"./$.global\":33,\"./$.is-object\":41,\"./$.iter-detect\":45,\"./$.library\":50,\"./$.microtask\":51,\"./$.redefine-all\":54,\"./$.same-value\":56,\"./$.set-proto\":57,\"./$.set-species\":58,\"./$.set-to-string-tag\":59,\"./$.species-constructor\":61,\"./$.strict-new\":62,\"./$.wks\":70}],77:[function(require,module,exports){\n'use strict';\nvar $at  = require('./$.string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./$.iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./$.iter-define\":44,\"./$.string-at\":63}],78:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./$\":48,\"./$.an-object\":20,\"./$.descriptors\":26,\"./$.enum-keys\":28,\"./$.export\":29,\"./$.fails\":30,\"./$.get-names\":32,\"./$.global\":33,\"./$.has\":34,\"./$.is-array\":40,\"./$.keyof\":49,\"./$.library\":50,\"./$.property-desc\":53,\"./$.redefine\":55,\"./$.set-to-string-tag\":59,\"./$.shared\":60,\"./$.to-iobject\":66,\"./$.uid\":69,\"./$.wks\":70}],79:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar Iterators = require('./$.iterators');\nIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n},{\"./$.iterators\":47,\"./es6.array.iterator\":72}],80:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n* @author micaelpedrosa@gmail.com\n* Minimal interface and implementation to send and receive messages. It can be reused in many type of components.\n* Components that need a message system should receive this class as a dependency or extend it.\n* Extensions should implement the following private methods: _onPostMessage and _registerExternalListener\n*/var Bus=function(){ /* private\n  _msgId: number;\n  _subscriptions: <url: MsgListener[]>\n\n  _responseTimeOut: number\n  _responseCallbacks: <url+id: (msg) => void>\n\n  */function Bus(){(0,_classCallCheck3.default)(this,Bus);var _this=this;_this._msgId=0;_this._subscriptions={};_this._responseTimeOut=5000; //default to 3s\n_this._responseCallbacks={};_this._registerExternalListener();} /**\n  * Register listener to receive message when \"msg.to === url\".\n  * Special url \"*\" for default listener is accepted to intercept all messages.\n  * @param {URL} url Address to intercept, tha is in the message \"to\"\n  * @param {Listener} listener listener\n  * @return {MsgListener} instance of MsgListener\n  */(0,_createClass3.default)(Bus,[{key:'addListener',value:function addListener(url,listener){var _this=this;var item=new MsgListener(_this._subscriptions,url,listener);var itemList=_this._subscriptions[url];if(!itemList){itemList=[];_this._subscriptions[url]=itemList;}itemList.push(item);return item;} /**\n   * Manually add a response listener. Only one listener per message ID should exist.\n   * ATENTION, there is no timeout for this listener.\n   * The listener should be removed with a removeResponseListener, failing to do this will result in a unreleased memory problem.\n   * @param {URL} url Origin address of the message sent, \"msg.from\".\n   * @param {number} msgId Message ID that is returned from the postMessage.\n   * @param {Function} responseListener Callback function for the response\n   */},{key:'addResponseListener',value:function addResponseListener(url,msgId,responseListener){this._responseCallbacks[url+msgId]=responseListener;} /**\n   * Remove the response listener.\n   * @param {URL} url Origin address of the message sent, \"msg.from\".\n   * @param {number} msgId  Message ID that is returned from the postMessage\n   */},{key:'removeResponseListener',value:function removeResponseListener(url,msgId){delete this._responseCallbacks[url+msgId];} /**\n   * Remove all existent listeners for the URL\n   * @param  {URL} url Address registered\n   */},{key:'removeAllListenersOf',value:function removeAllListenersOf(url){delete this._subscriptions[url];} /**\n   * Helper method to bind listeners (in both directions) into other MiniBus target.\n   * @param  {URL} outUrl Outbound URL, register listener for url in direction \"this -> target\"\n   * @param  {URL} inUrl Inbound URL, register listener for url in direction \"target -> this\"\n   * @param  {MiniBus} target The other target MiniBus\n   * @return {Bound} an object that contains the properties [thisListener, targetListener] and the unbind method.\n   */},{key:'bind',value:function bind(outUrl,inUrl,target){var _this2=this;var _this=this;var thisListn=_this.addListener(outUrl,function(msg){target.postMessage(msg);});var targetListn=target.addListener(inUrl,function(msg){_this.postMessage(msg);});return {thisListener:thisListn,targetListener:targetListn,unbind:function unbind(){_this2.thisListener.remove();_this2.targetListener.remove();}};} //publish on default listeners\n},{key:'_publishOnDefault',value:function _publishOnDefault(msg){ //is there any \"*\" (default) listeners?\nvar itemList=this._subscriptions['*'];if(itemList){this._publishOn(itemList,msg);}} //publish on a subscription list.\n},{key:'_publishOn',value:function _publishOn(itemList,msg){itemList.forEach(function(sub){sub._callback(msg);});}},{key:'_responseCallback',value:function _responseCallback(inMsg,responseCallback){var _this=this; //automatic management of response handlers\nif(responseCallback){(function(){var responseId=inMsg.from+inMsg.id;_this._responseCallbacks[responseId]=responseCallback;setTimeout(function(){var responseFun=_this._responseCallbacks[responseId];delete _this._responseCallbacks[responseId];if(responseFun){var errorMsg={id:inMsg.id,type:'response',body:{code:408,desc:'Response timeout!',value:inMsg}};responseFun(errorMsg);}},_this._responseTimeOut);})();}}},{key:'_onResponse',value:function _onResponse(msg){var _this=this;if(msg.type==='response'){var responseId=msg.to+msg.id;var responseFun=_this._responseCallbacks[responseId]; //if it's a provisional response, don't delete response listener\nif(msg.body.code>=200){delete _this._responseCallbacks[responseId];}if(responseFun){responseFun(msg);return true;}}return false;} //receive messages from external interface\n},{key:'_onMessage',value:function _onMessage(msg){var _this=this;if(!_this._onResponse(msg)){var itemList=_this._subscriptions[msg.to];if(itemList){_this._publishOn(itemList,msg);}else {_this._publishOnDefault(msg);}}}},{key:'_genId',value:function _genId(inMsg){ //TODO: how do we manage message ID's? Should it be a global runtime counter, or per URL address?\n//Global counter will not work, because there will be multiple MiniBus instances!\n//Per URL, can be a lot of data to maintain!\n//Maybe a counter per MiniBus instance. This is the assumed solution for now.\nif(!inMsg.id||inMsg.id===0){this._msgId++;inMsg.id=this._msgId;}} /**\n  * Send messages to local listeners, or if not exists to external listeners.\n  * It's has an optional mechanism for automatic management of response handlers.\n  * The response handler will be unregistered after receiving the response, or after response timeout (default to 3s).\n  * @param  {Message} msg Message to send. Message ID is automatically added to the message.\n  * @param  {Function} responseCallback Optional parameter, if the developer what's automatic response management.\n  * @return {number} Returns the message ID, in case it should be needed for manual management of the response handler.\n  */},{key:'postMessage',value:function postMessage(inMsg,responseCallback){} /**\n   * Not public available, used by the class extension implementation, to process messages from the public \"postMessage\" without a registered listener.\n   * Used to send the message to an external interface, like a WebWorker, IFrame, etc.\n   * @param  {Message.Message} msg Message\n   */},{key:'_onPostMessage',value:function _onPostMessage(msg){} /*implementation will send message to external system*/ /**\n   * Not public available, used by the class extension implementation, to process all messages that enter the MiniBus from an external interface, like a WebWorker, IFrame, etc.\n   * This method is called one time in the constructor to register external listeners.\n   * The implementation will probably call the \"_onMessage\" method to publish in the local listeners.\n   * DO NOT call \"postMessage\", there is a danger that the message enters in a cycle!\n   */},{key:'_registerExternalListener',value:function _registerExternalListener(){ /*implementation will register external listener and call \"this._onMessage(msg)\" */}}]);return Bus;}();var MsgListener=function(){ /* private\n  _subscriptions: <string: MsgListener[]>;\n  _url: string;\n  _callback: (msg) => void;\n  */function MsgListener(subscriptions,url,callback){(0,_classCallCheck3.default)(this,MsgListener);var _this=this;_this._subscriptions=subscriptions;_this._url=url;_this._callback=callback;}(0,_createClass3.default)(MsgListener,[{key:'remove',value:function remove(){var _this=this;var subs=_this._subscriptions[_this._url];if(subs){var index=subs.indexOf(_this);subs.splice(index,1); //if there are no listeners, remove the subscription entirely.\nif(subs.length===0){delete _this._subscriptions[_this._url];}}}},{key:'url',get:function get(){return this._url;}}]);return MsgListener;}();exports.default=Bus;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":7,\"babel-runtime/helpers/createClass\":8}],81:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _Bus2=require('./Bus');var _Bus3=_interopRequireDefault(_Bus2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var MiniBus=function(_Bus){(0,_inherits3.default)(MiniBus,_Bus);function MiniBus(){(0,_classCallCheck3.default)(this,MiniBus);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(MiniBus).call(this));}(0,_createClass3.default)(MiniBus,[{key:'postMessage',value:function postMessage(inMsg,responseCallback){var _this=this;_this._genId(inMsg);_this._responseCallback(inMsg,responseCallback); //always send to external (to core MessageBus)\n_this._onPostMessage(inMsg);return inMsg.id;}},{key:'_onMessage',value:function _onMessage(msg){var _this=this;if(!_this._onResponse(msg)){var itemList=_this._subscriptions[msg.to];if(itemList){_this._publishOn(itemList,msg);if(!msg.to.startsWith('hyperty')){_this._publishOnDefault(msg);}}else {_this._publishOnDefault(msg);}}}}]);return MiniBus;}(_Bus3.default); /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=MiniBus;module.exports=exports['default'];\n\n},{\"./Bus\":80,\"babel-runtime/core-js/object/get-prototype-of\":3,\"babel-runtime/helpers/classCallCheck\":7,\"babel-runtime/helpers/createClass\":8,\"babel-runtime/helpers/inherits\":9,\"babel-runtime/helpers/possibleConstructorReturn\":10}],82:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.SandboxRegistry=exports.SandboxType=exports.Sandbox=undefined;var _Sandbox=require('./sandbox/Sandbox');var _Sandbox2=_interopRequireDefault(_Sandbox);var _SandboxRegistry=require('./sandbox/SandboxRegistry');var _SandboxRegistry2=_interopRequireDefault(_SandboxRegistry);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.Sandbox=_Sandbox2.default;exports.SandboxType=_Sandbox.SandboxType;exports.SandboxRegistry=_SandboxRegistry2.default; /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n},{\"./sandbox/Sandbox\":83,\"./sandbox/SandboxRegistry\":84}],83:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.SandboxType=undefined;var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _SandboxRegistry=require('../sandbox/SandboxRegistry');var _SandboxRegistry2=_interopRequireDefault(_SandboxRegistry);var _MiniBus2=require('../bus/MiniBus');var _MiniBus3=_interopRequireDefault(_MiniBus2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} // import MessageFactory from '../../resources/MessageFactory';\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var SandboxType=exports.SandboxType={APP:'app',NORMAL:'normal'}; /**\n * @author micaelpedrosa@gmail.com\n * Base class to implement external sandbox component\n */var Sandbox=function(_MiniBus){(0,_inherits3.default)(Sandbox,_MiniBus);function Sandbox(){(0,_classCallCheck3.default)(this,Sandbox);var _this2=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(Sandbox).call(this));var _this=_this2; // Add Message Factory\n// let messageFactory = new MessageFactory();\n// _this.messageFactory = messageFactory;\nreturn _this2;} /**\n   * Deploy an instance of the component into the sandbox.\n   * @param  {string} componentSourceCode Component source code (Hyperty, ProtoStub, etc)\n   * @param  {URL} componentURL Hyperty, ProtoStub, or any other component address.\n   * @param  {Config} configuration Config parameters of the component\n   * @return {Promise<string>} return deployed if successful, or any other string with an error\n   */(0,_createClass3.default)(Sandbox,[{key:'deployComponent',value:function deployComponent(componentSourceCode,componentURL,configuration){var _this=this; // let messageFactory = _this.messageFactory;\nreturn new _promise2.default(function(resolve,reject){ //TODO: message format is not properly defined yet\nvar deployMessage={type:'create',from:_SandboxRegistry2.default.ExternalDeployAddress,to:_SandboxRegistry2.default.InternalDeployAddress,body:{url:componentURL,sourceCode:componentSourceCode,config:configuration}}; //send message into the sandbox internals and wait for reply\n_this.postMessage(deployMessage,function(reply){if(reply.body.code===200){ //is this response complaint with the spec?\nresolve('deployed');}else {reject(reply.body.desc);}});});} /**\n   * Remove the instance of a previously deployed component.\n   * @param  {URL} componentURL Hyperty, ProtoStub, or any other component address.\n   * @return {Promise<string>} return undeployed if successful, or any other string with an error\n   */},{key:'removeComponent',value:function removeComponent(componentURL){var _this=this;return new _promise2.default(function(resolve,reject){ //TODO: message format is not properly defined yet\nvar removeMessage={type:'delete',from:_SandboxRegistry2.default.ExternalDeployAddress,to:_SandboxRegistry2.default.InternalDeployAddress,body:{url:componentURL}}; //send message into the sandbox internals and wait for reply\n_this.postMessage(removeMessage,function(reply){if(reply.body.code===200){ //is this response complaint with the spec?\nresolve('undeployed');}else {reject(reply.body.desc);}});});}}]);return Sandbox;}(_MiniBus3.default);exports.default=Sandbox;\n\n},{\"../bus/MiniBus\":81,\"../sandbox/SandboxRegistry\":84,\"babel-runtime/core-js/object/get-prototype-of\":3,\"babel-runtime/core-js/promise\":5,\"babel-runtime/helpers/classCallCheck\":7,\"babel-runtime/helpers/createClass\":8,\"babel-runtime/helpers/inherits\":9,\"babel-runtime/helpers/possibleConstructorReturn\":10}],84:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * @author micaelpedrosa@gmail.com\n * Base class to implement internal deploy manager of components.\n */ // import MessageFactory from '../../resources/MessageFactory';\nvar SandboxRegistry=function(){ /* private\n  _components: <url: instance>\n  */function SandboxRegistry(bus){(0,_classCallCheck3.default)(this,SandboxRegistry);var _this=this;_this._bus=bus;_this._components={}; // Add Message Factory\n// let messageFactory = new MessageFactory();\n// _this.messageFactory = messageFactory;\nbus.addListener(SandboxRegistry.InternalDeployAddress,function(msg){ //console.log('SandboxRegistry-RCV: ', msg);\n// let responseMsg = {\n//   id: msg.id, type: 'response', from: SandboxRegistry.InternalDeployAddress, to: SandboxRegistry.ExternalDeployAddress\n// };\nswitch(msg.type){case 'create':_this._onDeploy(msg);break;case 'delete':_this._onRemove(msg);break;}});}(0,_createClass3.default)(SandboxRegistry,[{key:'_responseMsg',value:function _responseMsg(msg,code,value){var _this=this; // let messageFactory = _this.messageFactory;\nvar responseMsg={id:msg.id,type:'response',from:SandboxRegistry.InternalDeployAddress,to:SandboxRegistry.ExternalDeployAddress}; // Chanege the origin message, because the response;\n// msg.from = SandboxRegistry.InternalDeployAddress;\n// msg.to = SandboxRegistry.ExternalDeployAddress;\nvar body={};if(code)body.code=code;if(value)body.desc=value;responseMsg.body=body; // return messageFactory.createResponse(msg, code, value);\nreturn responseMsg;}},{key:'_onDeploy',value:function _onDeploy(msg){var _this=this;var config=msg.body.config;var componentURL=msg.body.url;var sourceCode=msg.body.sourceCode;var responseCode=void 0;var responseDesc=void 0;if(!_this._components.hasOwnProperty(componentURL)){try{_this._components[componentURL]=_this._create(componentURL,sourceCode,config);responseCode=200;}catch(error){responseCode=500;responseDesc=error;}}else {responseCode=500;responseDesc='Instance '+componentURL+' already exist!';} // Create response message with MessageFactory\nvar responseMsg=_this._responseMsg(msg,responseCode,responseDesc);_this._bus.postMessage(responseMsg);}},{key:'_onRemove',value:function _onRemove(msg){var _this=this;var componentURL=msg.body.url;var responseCode=void 0;var responseDesc=void 0;if(_this._components.hasOwnProperty(componentURL)){ //remove component from the pool and all listeners\ndelete _this._components[componentURL];_this._bus.removeAllListenersOf(componentURL);responseCode=200;}else {responseCode=500;responseDesc='Instance '+componentURL+' doesn\\'t exist!';}var responseMsg=_this._responseMsg(msg,responseCode,responseDesc);_this._bus.postMessage(responseMsg);} /**\n   * This method should be implemented by the internal sandbox code.\n   * @param  {ComponentURL} url URL used for the instance\n   * @param  {string} sourceCode Code of the component\n   * @param  {Config} config Configuration parameters\n   * @return {Object} Returns instance of the component or throw an error \"throw 'error message'\"\n   */},{key:'_create',value:function _create(url,sourceCode,config){ //implementation specific\n/* example code:\n      eval(sourceCode);\n      return activate(url, _this._bus, config);\n    */}},{key:'components',get:function get(){return this._components;}}]);return SandboxRegistry;}();SandboxRegistry.ExternalDeployAddress='hyperty-runtime://sandbox/external';SandboxRegistry.InternalDeployAddress='hyperty-runtime://sandbox/internal';exports.default=SandboxRegistry;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":7,\"babel-runtime/helpers/createClass\":8}]},{},[82])(82)\n});"],"sourceRoot":"/source/"}
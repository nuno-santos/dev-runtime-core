{"version":3,"sources":["identity/GuiFake.js"],"names":["GuiFake","url","messageBus","_classCallCheck3","default","this","_this","_url","_waitTime","_messageBus","addListener","msg","identities","body","value","replyMsg","id","type","to","from","setTimeout","postMessage"],"mappings":"2QAKMA,QAEJ,QAAAA,GAAYC,EAAKC,IAAY,EAAAC,iBAAAC,SAAAC,KAAAL,EAC3B,IAAIM,GAAQD,IAEZC,GAAMC,KAAON,EACbK,EAAME,UAAY,IAClBF,EAAMG,YAAcP,EAEpBI,EAAMG,YAAYC,YAAYJ,EAAMC,KAAM,SAAAI,GAExC,GAAIC,GAAaD,EAAIE,KAAKC,MAEtBC,GAAYC,GAAIL,EAAIK,GAAIC,KAAM,WAAYC,GAAIP,EAAIQ,KAAMA,KAAMR,EAAIO,GAAIL,MAAOC,MAAOF,EAAW,IAI5E,UAAnBD,EAAIE,KAAKC,MAEXM,WAAW,WACTd,EAAMG,YAAYY,YAAYN,IAC7BT,EAAME,WAETF,EAAMG,YAAYY,YAAYN,sBAOvBf","file":"identity/GuiFake.js","sourcesContent":["/**\n* fake class for the gui to select the identity,\n* TODO replace with the proper identity GUI\n*\n*/\nclass GuiFake {\n\n  constructor(url, messageBus) {\n    let _this = this;\n\n    _this._url = url;\n    _this._waitTime = 10000;\n    _this._messageBus = messageBus;\n\n    _this._messageBus.addListener(_this._url, msg => {\n\n      let identities = msg.body.value;\n\n      let replyMsg = {id: msg.id, type: 'response', to: msg.from, from: msg.to, body: {value: identities[0]}};\n\n      // to test on the identity side the listener without the timeout\n      // can represent the time the user takes to choose and identity\n      if (msg.body.value === 'wait') {\n\n        setTimeout(() => {\n          _this._messageBus.postMessage(replyMsg);\n        }, _this._waitTime);\n      } else {\n        _this._messageBus.postMessage(replyMsg);\n      }\n    });\n  }\n\n}\n\nexport default GuiFake;\n"],"sourceRoot":"/source/"}
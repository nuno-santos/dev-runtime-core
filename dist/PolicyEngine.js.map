{"version":3,"sources":["PolicyEngine.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","PolicyEngine","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/object/define-property","2","core-js/library/fn/symbol","3","core-js/library/fn/symbol/iterator","4","instance","Constructor","TypeError","5","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","6","_iterator","_iterator2","_symbol","_symbol2","_typeof","constructor","../core-js/symbol","../core-js/symbol/iterator","7","$Object","Object","it","desc","defineProperty","../../modules/_core","../../modules/es6.object.define-property","8","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","9","../../modules/_wks-ext","../../modules/es6.string.iterator","../../modules/web.dom.iterable","10","11","12","isObject","./_is-object","13","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","value","O","index","./_to-index","./_to-iobject","./_to-length","14","toString","slice","15","core","version","__e","16","aFunction","fn","that","undefined","b","c","apply","arguments","./_a-function","17","18","get","./_fails","19","document","is","createElement","./_global","20","split","21","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","push","./_object-gops","./_object-keys","./_object-pie","22","ctx","hide","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","C","Function","virtual","R","U","./_core","./_ctx","./_hide","23","exec","24","Math","__g","25","hasOwnProperty","26","dP","createDesc","object","./_descriptors","./_object-dp","./_property-desc","27","documentElement","28","./_dom-create","29","cof","propertyIsEnumerable","./_cof","30","Array","isArray","arg","31","32","create","setToStringTag","IteratorPrototype","NAME","next","./_object-create","./_set-to-string-tag","./_wks","33","LIBRARY","redefine","has","Iterators","$iterCreate","getPrototypeOf","ITERATOR","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","./_export","./_has","./_iter-create","./_iterators","./_library","./_object-gpo","./_redefine","34","done","35","36","37","38","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","./_uid","39","anObject","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","appendChild","src","contentWindow","open","write","close","Properties","./_an-object","./_enum-bug-keys","./_html","./_object-dps","./_shared-key","40","IE8_DOM_DEFINE","toPrimitive","Attributes","./_ie8-dom-define","./_to-primitive","41","42","gOPD","getOwnPropertyDescriptor","43","gOPN","windowNames","getOwnPropertyNames","getWindowNames","./_object-gopn","44","$keys","hiddenKeys","concat","./_object-keys-internal","45","getOwnPropertySymbols","46","toObject","ObjectProto","./_to-object","47","arrayIndexOf","names","./_array-includes","48","49","50","bitmap","51","52","def","tag","stat","53","shared","uid","./_shared","54","SHARED","store","55","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./_defined","./_to-integer","56","max","min","57","ceil","floor","isNaN","58","IObject","./_iobject","59","60","61","val","valueOf","62","px","random","63","wksExt","$Symbol","./_wks-ext","64","65","USE_SYMBOL","$exports","66","addToUnscopables","step","iterated","_t","_i","_k","Arguments","./_add-to-unscopables","./_iter-define","./_iter-step","67","68","69","$at","point","./_string-at","70","DESCRIPTORS","$fails","wks","wksDefine","keyOf","enumKeys","_create","gOPNExt","$GOPD","$DP","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","iterator","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","set","for","keyFor","useSetter","useSimple","replacer","$replacer","args","./_enum-keys","./_is-array","./_keyof","./_meta","./_object-gopd","./_object-gopn-ext","./_wks-define","71","72","73","TO_STRING_TAG","collections","Collection","./es6.array.iterator","74","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","Operators","_this","operators","setOperators","between","params","isBetween","in","indexOf","equals","or","and","not","start","end","now","parseInt","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","75","_typeof2","_typeof3","_Operators","_Operators2","PDP","context","message","policies","results","actions","policy","condition","verifiesCondition","verifiesAdvancedCondition","scope","verifiesSimpleCondition","authorise","newAction","method","authDecision","splitCondition","variable","operator","group","destination","to","left","right","resultLeft","resultRight","./Operators","babel-runtime/helpers/typeof","76","PEP","77","_PEP","_PEP2","_PDP","_PDP2","pdp","pep","newPolicies","myPolicies","newPolicy","j","existingPolicy","removePolicies","typeOfCondition","typeOfPolicyCondition","splice","areEqualArrays","array1","array2","numElements","myGroups","groups","groupsNames","groupName","members","addPolicies","shift","groupInPolicy","join","userEmail","createList","user","timeRestrictions","./PDP","./PEP"],"mappings":"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","file":"PolicyEngine.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.PolicyEngine = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":7}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":8}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":9}],4:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":1}],6:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":2,\"../core-js/symbol/iterator\":3}],7:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":15,\"../../modules/es6.object.define-property\":67}],8:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":15,\"../../modules/es6.object.to-string\":68,\"../../modules/es6.symbol\":70,\"../../modules/es7.symbol.async-iterator\":71,\"../../modules/es7.symbol.observable\":72}],9:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":64,\"../../modules/es6.string.iterator\":69,\"../../modules/web.dom.iterable\":73}],10:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],11:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],12:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":31}],13:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":56,\"./_to-iobject\":58,\"./_to-length\":59}],14:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],15:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],16:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":10}],17:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],18:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":23}],19:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":24,\"./_is-object\":31}],20:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],21:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":45,\"./_object-keys\":48,\"./_object-pie\":49}],22:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":15,\"./_ctx\":16,\"./_global\":24,\"./_hide\":26}],23:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],24:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],25:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],26:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":18,\"./_object-dp\":40,\"./_property-desc\":50}],27:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":24}],28:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":18,\"./_dom-create\":19,\"./_fails\":23}],29:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":14}],30:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":14}],31:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],32:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":26,\"./_object-create\":39,\"./_property-desc\":50,\"./_set-to-string-tag\":52,\"./_wks\":65}],33:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":22,\"./_has\":25,\"./_hide\":26,\"./_iter-create\":32,\"./_iterators\":35,\"./_library\":37,\"./_object-gpo\":46,\"./_redefine\":51,\"./_set-to-string-tag\":52,\"./_wks\":65}],34:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],35:[function(require,module,exports){\nmodule.exports = {};\n},{}],36:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":48,\"./_to-iobject\":58}],37:[function(require,module,exports){\nmodule.exports = true;\n},{}],38:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":23,\"./_has\":25,\"./_is-object\":31,\"./_object-dp\":40,\"./_uid\":62}],39:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":12,\"./_dom-create\":19,\"./_enum-bug-keys\":20,\"./_html\":27,\"./_object-dps\":41,\"./_shared-key\":53}],40:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":12,\"./_descriptors\":18,\"./_ie8-dom-define\":28,\"./_to-primitive\":61}],41:[function(require,module,exports){\nvar dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":12,\"./_descriptors\":18,\"./_object-dp\":40,\"./_object-keys\":48}],42:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":18,\"./_has\":25,\"./_ie8-dom-define\":28,\"./_object-pie\":49,\"./_property-desc\":50,\"./_to-iobject\":58,\"./_to-primitive\":61}],43:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":44,\"./_to-iobject\":58}],44:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":20,\"./_object-keys-internal\":47}],45:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],46:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":25,\"./_shared-key\":53,\"./_to-object\":60}],47:[function(require,module,exports){\nvar has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":13,\"./_has\":25,\"./_shared-key\":53,\"./_to-iobject\":58}],48:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":20,\"./_object-keys-internal\":47}],49:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],50:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],51:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":26}],52:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":25,\"./_object-dp\":40,\"./_wks\":65}],53:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":54,\"./_uid\":62}],54:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":24}],55:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":17,\"./_to-integer\":57}],56:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":57}],57:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],58:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":17,\"./_iobject\":29}],59:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":57}],60:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":17}],61:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":31}],62:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],63:[function(require,module,exports){\nvar global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":15,\"./_global\":24,\"./_library\":37,\"./_object-dp\":40,\"./_wks-ext\":64}],64:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":65}],65:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":24,\"./_shared\":54,\"./_uid\":62}],66:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":11,\"./_iter-define\":33,\"./_iter-step\":34,\"./_iterators\":35,\"./_to-iobject\":58}],67:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":18,\"./_export\":22,\"./_object-dp\":40}],68:[function(require,module,exports){\n\n},{}],69:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":33,\"./_string-at\":55}],70:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":12,\"./_descriptors\":18,\"./_enum-keys\":21,\"./_export\":22,\"./_fails\":23,\"./_global\":24,\"./_has\":25,\"./_hide\":26,\"./_is-array\":30,\"./_keyof\":36,\"./_library\":37,\"./_meta\":38,\"./_object-create\":39,\"./_object-dp\":40,\"./_object-gopd\":42,\"./_object-gopn\":44,\"./_object-gopn-ext\":43,\"./_object-gops\":45,\"./_object-keys\":48,\"./_object-pie\":49,\"./_property-desc\":50,\"./_redefine\":51,\"./_set-to-string-tag\":52,\"./_shared\":54,\"./_to-iobject\":58,\"./_to-primitive\":61,\"./_uid\":62,\"./_wks\":65,\"./_wks-define\":63,\"./_wks-ext\":64}],71:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":63}],72:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":63}],73:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":24,\"./_hide\":26,\"./_iterators\":35,\"./_wks\":65,\"./es6.array.iterator\":66}],74:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Operators = function () {\n  function Operators() {\n    (0, _classCallCheck3.default)(this, Operators);\n\n    var _this = this;\n    _this.operators = _this.setOperators();\n  }\n\n  (0, _createClass3.default)(Operators, [{\n    key: 'setOperators',\n    value: function setOperators() {\n      var _this = this;\n      var operators = {\n        between: function between(params) {\n          return _this.isBetween(params[0][0], params[0][1], params[1]);\n        },\n        in: function _in(params) {\n          return params[0].indexOf(params[1]) > -1;\n        },\n        equals: function equals(params) {\n          return params[0][0] === '*' || params[0][0] === params[1];\n        },\n\n        or: function or(params) {\n          return params[0] || params[1];\n        },\n        and: function and(params) {\n          return params[0] && params[1];\n        },\n        not: function not(params) {\n          return !params[0];\n        }\n      };\n      return operators;\n    }\n\n    /**\n    * Verifies if the current time is between the given start and end times.\n    * @param {Number}     start\n    * @param {Number}     end\n    * @return {Boolean}   boolean\n    */\n\n  }, {\n    key: 'isBetween',\n    value: function isBetween(start, end, now) {\n      start = parseInt(start);\n      end = parseInt(end);\n\n      if (end < start) {\n        now = now < start ? now += 2400 : now;\n        end += 2400;\n      }\n\n      return now > start && now < end;\n    }\n  }]);\n  return Operators;\n}();\n\nexports.default = Operators;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":4,\"babel-runtime/helpers/createClass\":5}],75:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Operators = require('./Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* The Policy Decision Point (PDP) decides if a message is to be authorised by checking a set of\n* policies. The resource to be verified is specified in the first word of the 'condition' field of\n* a Policy object. The implementation that verifies if the message is compliant with a policy is\n* specified in a hashtable to allow dynamic definition of the implementation, providing\n* extensibility to the Policy Engine functionalities.\n*/\n\nvar PDP = function () {\n\n  /**\n  * This method is invoked by the Policy Engine and instantiates the Policy Decision Point. It\n  * initialises or loads from the Persistence Manager the object 'myGroups' to store the user's\n  * groups.\n  * @param  {Registry}    muchruntimeRegistry\n  */\n\n  function PDP(context) {\n    (0, _classCallCheck3.default)(this, PDP);\n\n    var _this = this;\n    _this.context = context;\n    _this.operators = new _Operators2.default(context);\n  }\n\n  /**\n  * Verifies if the given message is compliant with the given policies. If one of the policies\n  * evaluates to 'false', then the message is not authorised. Returns the final authorisation\n  * decision and a set of actions that policies may require.\n  * @param {Message}  message\n  * @param {URL}      hypertyToVerify\n  * @param {Array}    policies\n  * @return {Array}   [authDecision, actions]\n  */\n\n\n  (0, _createClass3.default)(PDP, [{\n    key: 'evaluate',\n    value: function evaluate(message, policies) {\n      var _this = this;\n      var results = [true];\n      var actions = [];\n      for (var i in policies) {\n        var policy = policies[i];\n        var condition = policy.condition;\n        var verifiesCondition = false;\n        if ((typeof condition === 'undefined' ? 'undefined' : (0, _typeof3.default)(condition)) === 'object') {\n          verifiesCondition = _this.verifiesAdvancedCondition(condition[0], condition[1], condition[2], policy.scope, message);\n        } else {\n          verifiesCondition = _this.verifiesSimpleCondition(condition, policy.scope, message);\n        }\n\n        if (verifiesCondition) {\n          results.push(policy.authorise);\n        }\n        if (policy.actions !== []) {\n          for (var _i in policy.actions) {\n            var newAction = {\n              method: policy.actions[_i].method,\n              params: message\n            };\n            actions.push(newAction);\n          }\n        }\n      }\n\n      var authDecision = results.indexOf(false) === -1;\n      return [authDecision, actions];\n    }\n  }, {\n    key: 'verifiesSimpleCondition',\n    value: function verifiesSimpleCondition(condition, scope, message) {\n      var _this = this;\n      var splitCondition = condition.split(' ');\n      var variable = splitCondition[0];\n      var operator = splitCondition[1];\n\n      var params = void 0;\n      if (operator === 'in') {\n        _this.context.group = { scope: scope, group: splitCondition[2], destination: message.to };\n        params = _this.context.group;\n      } else {\n        params = splitCondition.slice(2);\n      }\n      _this.context[variable] = { message: message };\n      var value = _this.context[variable];\n      return _this.operators.operators[operator]([params, value]);\n    }\n  }, {\n    key: 'verifiesAdvancedCondition',\n    value: function verifiesAdvancedCondition(operator, left, right, scope, message) {\n      var _this = this;\n      while ((typeof left === 'undefined' ? 'undefined' : (0, _typeof3.default)(left)) === 'object') {\n        left = _this.verifiesAdvancedCondition(left[0], left[1], left[2], scope, message);\n      }\n      if (right !== undefined) {\n        while ((typeof right === 'undefined' ? 'undefined' : (0, _typeof3.default)(right)) === 'object') {\n          right = _this.verifiesAdvancedCondition(right[0], right[1], right[2], scope, message);\n        }\n      }\n\n      var resultLeft = typeof left === 'boolean' ? left : _this.verifiesSimpleCondition(left, scope, message);\n\n      var resultRight = void 0;\n      if (right !== undefined) {\n        resultRight = typeof right === 'boolean' ? right : _this.verifiesSimpleCondition(right, scope, message);\n      }\n\n      return _this.operators.operators[operator]([resultLeft, resultRight]);\n    }\n  }]);\n  return PDP;\n}();\n\nexports.default = PDP;\nmodule.exports = exports['default'];\n\n},{\"./Operators\":74,\"babel-runtime/helpers/classCallCheck\":4,\"babel-runtime/helpers/createClass\":5,\"babel-runtime/helpers/typeof\":6}],76:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PEP = function () {\n  function PEP(context) {\n    (0, _classCallCheck3.default)(this, PEP);\n\n    var _this = this;\n    _this.context = context;\n  }\n\n  (0, _createClass3.default)(PEP, [{\n    key: \"enforce\",\n    value: function enforce(result) {\n      var _this = this;\n      var authDecision = result[0];\n      var actions = result[1];\n\n      for (var i in actions) {\n        _this.context[actions[i].method](actions[i].params, authDecision);\n      }\n    }\n\n    /*sendAutomaticMessage() {}\n     forwardToID() {}\n     forwardToHyperty() {}*/\n\n  }]);\n  return PEP;\n}();\n\nexports.default = PEP;\nmodule.exports = exports[\"default\"];\n\n},{\"babel-runtime/helpers/classCallCheck\":4,\"babel-runtime/helpers/createClass\":5}],77:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _PEP = require('./PEP');\n\nvar _PEP2 = _interopRequireDefault(_PEP);\n\nvar _PDP = require('./PDP');\n\nvar _PDP2 = _interopRequireDefault(_PDP);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* The Policy Engine intercepts all the messages sent through the Message Bus and applies the\n* policies defined by the service provider and the user.\n*/\n//jshint browser:true, jquery: true\n\n//import persistenceManager from 'service-framework/dist/PersistenceManager';\n\nvar PolicyEngine = function () {\n\n  /**\n  * This method is invoked by the RuntimeUA and instantiates the Policy Engine. A Policy Decision\n  * Point (PDP) and a Policy Enforcement Point (PEP) are initialised for the evaluation of policies\n  * and the enforcement of additional actions, respectively.\n  * @param  {IdentityModule}    identityModule\n  * @param  {Registry}          runtimeRegistry\n  */\n\n  function PolicyEngine(context) {\n    (0, _classCallCheck3.default)(this, PolicyEngine);\n\n    var _this = this;\n    _this.context = context;\n    _this.context.pdp = new _PDP2.default(context);\n    _this.context.pep = new _PEP2.default(context);\n  }\n\n  /**\n  * Associates the given policies with a scope. The possible scopes are 'global', 'hyperty' and\n  * 'user'.\n  * @param  {Policy[]}  policies\n  * @param  {String}    scope\n  */\n\n\n  (0, _createClass3.default)(PolicyEngine, [{\n    key: 'addPolicies',\n    value: function addPolicies(newPolicies) {\n      var _this = this;\n\n      var myPolicies = _this.context.policies;\n      if (myPolicies === undefined) {\n        myPolicies = {};\n      }\n\n      for (var i in newPolicies) {\n        var newPolicy = newPolicies[i];\n        var scope = newPolicy.scope;\n        if (myPolicies[scope] === undefined) {\n          myPolicies[scope] = [];\n        }\n        for (var j in myPolicies[scope]) {\n          var existingPolicy = myPolicies[scope][j];\n          if (existingPolicy.condition === newPolicy.condition) {\n            _this.removePolicies(newPolicies[i].condition);\n            break;\n          }\n        }\n        myPolicies[scope].push(newPolicies[i]);\n      }\n\n      _this.context.policies = myPolicies;\n    }\n\n    /**\n    * Removes the policy with the given ID from the given scope. If policyID is '*', removes all policies associated with the given scope.\n    * @param  {String}  policyID\n    * @param  {String}  scope\n    */\n\n  }, {\n    key: 'removePolicies',\n    value: function removePolicies(scope, condition) {\n      var _this = this;\n      var myPolicies = _this.context.policies;\n\n      if (scope !== '*') {\n\n        if (scope in myPolicies) {\n          if (condition !== '*') {\n            var policies = myPolicies[scope];\n            var typeOfCondition = typeof condition === 'undefined' ? 'undefined' : (0, _typeof3.default)(condition);\n            for (var i in policies) {\n              var typeOfPolicyCondition = (0, _typeof3.default)(policies[i].condition);\n              if (typeOfCondition === typeOfPolicyCondition) {\n                if (typeOfCondition === 'string') {\n                  if (policies[i].condition === condition) {\n                    policies.splice(i, 1);\n                    break;\n                  }\n                } else {\n                  //typeof condition = object (advanced policy)\n                  if (_this.areEqualArrays(policies[i].condition, condition)) {\n                    policies.splice(i, 1);\n                  }\n                }\n              }\n            }\n          } else {\n            delete myPolicies[scope];\n          }\n\n          _this.context.policies = myPolicies;\n        }\n      } else {\n        _this.context.policies = {};\n      }\n    }\n  }, {\n    key: 'areEqualArrays',\n    value: function areEqualArrays(array1, array2) {\n      if (array1.length !== array2.length) {\n        return false;\n      }\n\n      var numElements = array1.length;\n      for (var i = 0; i < numElements; i++) {\n        if (array1[i] instanceof Array && array2[i] instanceof Array) {\n          if (!array1[i].equals(array2[i])) {\n            return false;\n          }\n        } else if (array1[i] !== array2[i]) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n    * This method is executed when a message is intercepted in the Message Bus. The first step is the\n    * assignment of the identity associated with the message. The second step is the evaluation of the\n    * applicable policies in order to obtain an authorisation decision: if a policy evaluates to\n    * false, then the message is unauthorised. The third step is the enforcement of the actions that\n    * policies may require. Finally, the message is stamped as authorised or not and is returned to\n    * the Message Bus, where it will be forwarded or blocked.\n    * @param  {Message}  message\n    */\n\n  }, {\n    key: 'authorise',\n    value: function authorise(message) {\n      var _this = this;\n      return _this.context.authorise(message);\n    }\n  }, {\n    key: 'getGroupsNames',\n    value: function getGroupsNames(scope) {\n      var _this = this;\n      var myGroups = _this.context.groups;\n      var groupsNames = [];\n      if (myGroups[scope] !== {}) {\n        for (var groupName in myGroups[scope]) {\n          groupsNames.push(groupName);\n        }\n      }\n      return groupsNames;\n    }\n\n    /**\n    * Retrieves the group with the given group name from the PDP.\n    * @param  {String}  groupName\n    * @return {Array}   group\n    */\n\n  }, {\n    key: 'getList',\n    value: function getList(scope, groupName) {\n      var _this = this;\n      var myGroups = _this.context.groups;\n      var members = [];\n      if (myGroups[scope] !== undefined && myGroups[scope][groupName] !== undefined) {\n        members = myGroups[scope][groupName];\n      }\n      return members;\n    }\n\n    /**\n    * Creates a group with the given name.\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'createList',\n    value: function createList(scope, type, groupName) {\n      var _this = this;\n\n      var myGroups = _this.context.groups;\n      if (myGroups[scope] === undefined) {\n        myGroups[scope] = {};\n      }\n      myGroups[scope][groupName] = [];\n\n      var policy = {\n        authorise: false,\n        condition: type + ' in ' + groupName,\n        scope: scope,\n        actions: []\n      };\n      _this.addPolicies([policy]);\n\n      return myGroups;\n    }\n  }, {\n    key: 'deleteGroup',\n    value: function deleteGroup(scope, groupName) {\n      var _this = this;\n\n      var myGroups = _this.context.groups;\n      delete myGroups[scope][groupName];\n\n      var myPolicies = _this.context.policies;\n\n      var policies = myPolicies[scope];\n      for (var i in policies) {\n        var condition = policies[i].condition.split(' ');\n        condition.shift();\n        var groupInPolicy = condition.join(' ');\n        if (groupInPolicy === groupName) {\n          delete policies[i];\n          break;\n        }\n      }\n    }\n\n    /**\n    * Adds the given user email to the group with the given name.\n    * @param  {String}  userEmail\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'addToList',\n    value: function addToList(scope, type, groupName, userEmail) {\n      var _this = this;\n\n      var myGroups = _this.context.groups;\n      if (myGroups[scope] === undefined) {\n        myGroups[scope] = {};\n      }\n      if (myGroups[scope][groupName] === undefined) {\n        myGroups = _this.createList(scope, type, groupName);\n      }\n      if (myGroups[scope][groupName].indexOf(userEmail) === -1) {\n        myGroups[scope][groupName].push(userEmail);\n      }\n    }\n\n    /**\n    * Removes the given user email from the group with the given name.\n    * @param  {String}  userEmail\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'removeFromGroup',\n    value: function removeFromGroup(scope, groupName, userEmail) {\n      var _this = this;\n\n      var myGroups = _this.context.groups;\n      var group = myGroups[scope][groupName];\n\n      for (var i in group) {\n        if (group[i] === userEmail) {\n          group.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: 'getTimeslots',\n    value: function getTimeslots() {\n      var _this = this;\n      var policies = _this.context.policies.user;\n      var timeRestrictions = [];\n      for (var i in policies) {\n        if (policies[i].condition.split(' ')[0] === 'time') {\n          timeRestrictions.push(policies[i].condition);\n        }\n      }\n      return timeRestrictions;\n    }\n  }, {\n    key: 'getTimeslotById',\n    value: function getTimeslotById(condition) {\n      var _this = this;\n      var policies = _this.context.policies.user;\n      for (var i in policies) {\n        if (policies[i].condition === condition) {\n          return policies[i];\n        }\n      }\n    }\n  }]);\n  return PolicyEngine;\n}();\n\nexports.default = PolicyEngine;\nmodule.exports = exports['default'];\n\n},{\"./PDP\":75,\"./PEP\":76,\"babel-runtime/helpers/classCallCheck\":4,\"babel-runtime/helpers/createClass\":5,\"babel-runtime/helpers/typeof\":6}]},{},[77])(77)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJzcmMvcG9saWN5L09wZXJhdG9ycy5qcyIsInNyYy9wb2xpY3kvUERQLmpzIiwic3JjL3BvbGljeS9QRVAuanMiLCJzcmMvcG9saWN5L1BvbGljeUVuZ2luZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JFQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RUFBZ0IsQ0FBaEI7QUFDQTtBQUNEO0FBQ0Y7QUFDRjs7O21DQUVjO0FBQ2IsVUFBSSxRQUFRLElBQVo7QUFDQSxVQUFJLFdBQVcsTUFBTSxPQUFOLENBQWMsUUFBZCxDQUF1QixJQUF0QztBQUNBLFVBQUksbUJBQW1CLEVBQXZCO0FBQ0EsV0FBSyxJQUFJLENBQVQsSUFBYyxRQUFkLEVBQXdCO0FBQ3RCLFlBQUksU0FBUyxDQUFULEVBQVksU0FBWixDQUFzQixLQUF0QixDQUE0QixHQUE1QixFQUFpQyxDQUFqQyxNQUF3QyxNQUE1QyxFQUFvRDtBQUNsRCwyQkFBaUIsSUFBakIsQ0FBc0IsU0FBUyxDQUFULEVBQVksU0FBbEM7QUFDRDtBQUNGO0FBQ0QsYUFBTyxnQkFBUDtBQUNEOzs7b0NBRWUsUyxFQUFXO0FBQ3pCLFVBQUksUUFBUSxJQUFaO0FBQ0EsVUFBSSxXQUFXLE1BQU0sT0FBTixDQUFjLFFBQWQsQ0FBdUIsSUFBdEM7QUFDQSxXQUFLLElBQUksQ0FBVCxJQUFjLFFBQWQsRUFBd0I7QUFDdEIsWUFBSSxTQUFTLENBQVQsRUFBWSxTQUFaLEtBQTBCLFNBQTlCLEVBQXlDO0FBQ3ZDLGlCQUFPLFNBQVMsQ0FBVCxDQUFQO0FBQ0Q7QUFDRjtBQUNGOzs7OztrQkFJWSxZIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9OyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTsiLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59OyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59OyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07IiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7IiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSBwSUUuZlxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuICAgICwgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuU1xuICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuICAgICwgSVNfV1JBUCAgID0gdHlwZSAmICRleHBvcnQuV1xuICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcbiAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZihJU19QUk9UTyl7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07IiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7IiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07IiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIEl0ZXJhdG9ycyAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCAkaXRlckNyZWF0ZSAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIElURVJBVE9SICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG4gICAgLCBWQUxVRVNfQlVHID0gZmFsc2VcbiAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG4gICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuICAgICwgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmVcbiAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoJGFueU5hdGl2ZSl7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcbiAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7fTsiLCJ2YXIgZ2V0S2V5cyAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlOyIsInZhciBNRVRBICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJylcbiAgLCBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgaGFzICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHNldERlc2MgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGlkICAgICAgID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcbiAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfX0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG4gIGlmKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSlzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogICAgICBNRVRBLFxuICBORUVEOiAgICAgZmFsc2UsXG4gIGZhc3RLZXk6ICBmYXN0S2V5LFxuICBnZXRXZWFrOiAgZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59OyIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBkUHMgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpXG4gICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcbiAgICAsIGx0ICAgICA9ICc8J1xuICAgICwgZ3QgICAgID0gJz4nXG4gICAgLCBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuICB2YXIgcmVzdWx0O1xuICBpZihPICE9PSBudWxsKXtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07IiwidmFyIGRQICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcyl7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGkgPSAwXG4gICAgLCBQO1xuICB3aGlsZShsZW5ndGggPiBpKWRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTsiLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07IiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGdPUE4gICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZlxuICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07IiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczsiLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59OyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTsiLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTsiLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7IiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBoYXMgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59OyIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpXG4gICwgdWlkICAgID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07IiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07IiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTsiLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07IiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTsiLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07IiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07IiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07IiwidmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZihuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKWRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHt2YWx1ZTogd2tzRXh0LmYobmFtZSl9KTtcbn07IiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7IiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKVxuICAsIHN0ZXAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGtpbmQgID0gdGhpcy5fa1xuICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTsiLCIiLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIERFU0NSSVBUT1JTICAgID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBNRVRBICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVlcbiAgLCAkZmFpbHMgICAgICAgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBzaGFyZWQgICAgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgdWlkICAgICAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIHdrcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIHdrc0RlZmluZSAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpXG4gICwga2V5T2YgICAgICAgICAgPSByZXF1aXJlKCcuL19rZXlvZicpXG4gICwgZW51bUtleXMgICAgICAgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKVxuICAsIGlzQXJyYXkgICAgICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIF9jcmVhdGUgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZ09QTkV4dCAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKVxuICAsICRHT1BEICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKVxuICAsICREUCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCAka2V5cyAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BEICAgICAgICAgICA9ICRHT1BELmZcbiAgLCBkUCAgICAgICAgICAgICA9ICREUC5mXG4gICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCAkSlNPTiAgICAgICAgICA9IGdsb2JhbC5KU09OXG4gICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcbiAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG4gICwgaXNFbnVtICAgICAgICAgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuICAsIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKVxuICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcbiAgLCBPUFN5bWJvbHMgICAgICA9IHNoYXJlZCgnb3Atc3ltYm9scycpXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3RbUFJPVE9UWVBFXVxuICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuICAsIFFPYmplY3QgICAgICAgID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBkUCh0aGlzLCAnYScsIHt2YWx1ZTogN30pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKWRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24odGFnKXtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZihoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICBpdCAgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdPUE4odG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgSVNfT1AgID0gaXQgPT09IE9iamVjdFByb3RvXG4gICAgLCBuYW1lcyAgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCFVU0VfTkFUSVZFKXtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8pJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSl7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH1cbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzRGVmaW5lKHN5bWJvbHNbaSsrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG4gICAgdGhyb3cgVHlwZUVycm9yKGtleSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoe2E6IFN9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuICAgIGlmKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKXJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIHZhciBhcmdzID0gW2l0XVxuICAgICAgLCBpICAgID0gMVxuICAgICAgLCByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYoIWlzU3ltYm9sKHZhbHVlKSlyZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpOyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpOyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnb2JzZXJ2YWJsZScpOyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGlkZSAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIEl0ZXJhdG9ycyAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIFRPX1NUUklOR19UQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxuZm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cbiAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cbiAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn0iLCJjbGFzcyBPcGVyYXRvcnMge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMub3BlcmF0b3JzID0gX3RoaXMuc2V0T3BlcmF0b3JzKCk7XG4gIH1cblxuICBzZXRPcGVyYXRvcnMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgb3BlcmF0b3JzID0ge1xuICAgICAgYmV0d2VlbjogKHBhcmFtcykgPT4geyByZXR1cm4gX3RoaXMuaXNCZXR3ZWVuKHBhcmFtc1swXVswXSwgcGFyYW1zWzBdWzFdLCBwYXJhbXNbMV0pOyB9LFxuICAgICAgaW46IChwYXJhbXMpID0+IHsgcmV0dXJuIHBhcmFtc1swXS5pbmRleE9mKHBhcmFtc1sxXSkgPiAtMTsgfSxcbiAgICAgIGVxdWFsczogKHBhcmFtcykgPT4geyByZXR1cm4gcGFyYW1zWzBdWzBdID09PSAnKicgfHwgcGFyYW1zWzBdWzBdID09PSBwYXJhbXNbMV07IH0sXG5cbiAgICAgIG9yOiAocGFyYW1zKSA9PiB7IHJldHVybiBwYXJhbXNbMF0gfHwgcGFyYW1zWzFdOyB9LFxuICAgICAgYW5kOiAocGFyYW1zKSA9PiB7IHJldHVybiBwYXJhbXNbMF0gJiYgcGFyYW1zWzFdOyB9LFxuICAgICAgbm90OiAocGFyYW1zKSA9PiB7IHJldHVybiAhcGFyYW1zWzBdOyB9XG4gICAgfTtcbiAgICByZXR1cm4gb3BlcmF0b3JzO1xuICB9XG5cbiAgLyoqXG4gICogVmVyaWZpZXMgaWYgdGhlIGN1cnJlbnQgdGltZSBpcyBiZXR3ZWVuIHRoZSBnaXZlbiBzdGFydCBhbmQgZW5kIHRpbWVzLlxuICAqIEBwYXJhbSB7TnVtYmVyfSAgICAgc3RhcnRcbiAgKiBAcGFyYW0ge051bWJlcn0gICAgIGVuZFxuICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgYm9vbGVhblxuICAqL1xuICBpc0JldHdlZW4oc3RhcnQsIGVuZCwgbm93KSB7XG4gICAgc3RhcnQgPSBwYXJzZUludChzdGFydCk7XG4gICAgZW5kID0gcGFyc2VJbnQoZW5kKTtcblxuICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgbm93ID0gKG5vdyA8IHN0YXJ0KSA/IG5vdyArPSAyNDAwIDogbm93O1xuICAgICAgZW5kICs9IDI0MDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIChub3cgPiBzdGFydCAmJiBub3cgPCBlbmQpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3BlcmF0b3JzO1xuIiwiaW1wb3J0IE9wZXJhdG9ycyBmcm9tICcuL09wZXJhdG9ycyc7XG5cbi8qKlxuKiBUaGUgUG9saWN5IERlY2lzaW9uIFBvaW50IChQRFApIGRlY2lkZXMgaWYgYSBtZXNzYWdlIGlzIHRvIGJlIGF1dGhvcmlzZWQgYnkgY2hlY2tpbmcgYSBzZXQgb2ZcbiogcG9saWNpZXMuIFRoZSByZXNvdXJjZSB0byBiZSB2ZXJpZmllZCBpcyBzcGVjaWZpZWQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgdGhlICdjb25kaXRpb24nIGZpZWxkIG9mXG4qIGEgUG9saWN5IG9iamVjdC4gVGhlIGltcGxlbWVudGF0aW9uIHRoYXQgdmVyaWZpZXMgaWYgdGhlIG1lc3NhZ2UgaXMgY29tcGxpYW50IHdpdGggYSBwb2xpY3kgaXNcbiogc3BlY2lmaWVkIGluIGEgaGFzaHRhYmxlIHRvIGFsbG93IGR5bmFtaWMgZGVmaW5pdGlvbiBvZiB0aGUgaW1wbGVtZW50YXRpb24sIHByb3ZpZGluZ1xuKiBleHRlbnNpYmlsaXR5IHRvIHRoZSBQb2xpY3kgRW5naW5lIGZ1bmN0aW9uYWxpdGllcy5cbiovXG5jbGFzcyBQRFAge1xuXG4gIC8qKlxuICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgYnkgdGhlIFBvbGljeSBFbmdpbmUgYW5kIGluc3RhbnRpYXRlcyB0aGUgUG9saWN5IERlY2lzaW9uIFBvaW50LiBJdFxuICAqIGluaXRpYWxpc2VzIG9yIGxvYWRzIGZyb20gdGhlIFBlcnNpc3RlbmNlIE1hbmFnZXIgdGhlIG9iamVjdCAnbXlHcm91cHMnIHRvIHN0b3JlIHRoZSB1c2VyJ3NcbiAgKiBncm91cHMuXG4gICogQHBhcmFtICB7UmVnaXN0cnl9ICAgIG11Y2hydW50aW1lUmVnaXN0cnlcbiAgKi9cbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgX3RoaXMub3BlcmF0b3JzID0gbmV3IE9wZXJhdG9ycyhjb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAqIFZlcmlmaWVzIGlmIHRoZSBnaXZlbiBtZXNzYWdlIGlzIGNvbXBsaWFudCB3aXRoIHRoZSBnaXZlbiBwb2xpY2llcy4gSWYgb25lIG9mIHRoZSBwb2xpY2llc1xuICAqIGV2YWx1YXRlcyB0byAnZmFsc2UnLCB0aGVuIHRoZSBtZXNzYWdlIGlzIG5vdCBhdXRob3Jpc2VkLiBSZXR1cm5zIHRoZSBmaW5hbCBhdXRob3Jpc2F0aW9uXG4gICogZGVjaXNpb24gYW5kIGEgc2V0IG9mIGFjdGlvbnMgdGhhdCBwb2xpY2llcyBtYXkgcmVxdWlyZS5cbiAgKiBAcGFyYW0ge01lc3NhZ2V9ICBtZXNzYWdlXG4gICogQHBhcmFtIHtVUkx9ICAgICAgaHlwZXJ0eVRvVmVyaWZ5XG4gICogQHBhcmFtIHtBcnJheX0gICAgcG9saWNpZXNcbiAgKiBAcmV0dXJuIHtBcnJheX0gICBbYXV0aERlY2lzaW9uLCBhY3Rpb25zXVxuICAqL1xuICBldmFsdWF0ZShtZXNzYWdlLCBwb2xpY2llcykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHJlc3VsdHMgPSBbdHJ1ZV07XG4gICAgbGV0IGFjdGlvbnMgPSBbXTtcbiAgICBmb3IgKGxldCBpIGluIHBvbGljaWVzKSB7XG4gICAgICBsZXQgcG9saWN5ID0gcG9saWNpZXNbaV07XG4gICAgICBsZXQgY29uZGl0aW9uID0gcG9saWN5LmNvbmRpdGlvbjtcbiAgICAgIGxldCB2ZXJpZmllc0NvbmRpdGlvbiA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiBjb25kaXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZlcmlmaWVzQ29uZGl0aW9uID0gX3RoaXMudmVyaWZpZXNBZHZhbmNlZENvbmRpdGlvbihjb25kaXRpb25bMF0sIGNvbmRpdGlvblsxXSwgY29uZGl0aW9uWzJdLCBwb2xpY3kuc2NvcGUsIG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyaWZpZXNDb25kaXRpb24gPSBfdGhpcy52ZXJpZmllc1NpbXBsZUNvbmRpdGlvbihjb25kaXRpb24sIHBvbGljeS5zY29wZSwgbWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2ZXJpZmllc0NvbmRpdGlvbikge1xuICAgICAgICByZXN1bHRzLnB1c2gocG9saWN5LmF1dGhvcmlzZSk7XG4gICAgICB9XG4gICAgICBpZiAocG9saWN5LmFjdGlvbnMgIT09IFtdKSB7XG4gICAgICAgIGZvciAobGV0IGkgaW4gcG9saWN5LmFjdGlvbnMpIHtcbiAgICAgICAgICBsZXQgbmV3QWN0aW9uID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBwb2xpY3kuYWN0aW9uc1tpXS5tZXRob2QsXG4gICAgICAgICAgICBwYXJhbXM6IG1lc3NhZ2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIGFjdGlvbnMucHVzaChuZXdBY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGF1dGhEZWNpc2lvbiA9IHJlc3VsdHMuaW5kZXhPZihmYWxzZSkgPT09IC0xO1xuICAgIHJldHVybiBbYXV0aERlY2lzaW9uLCBhY3Rpb25zXTtcbiAgfVxuXG4gIHZlcmlmaWVzU2ltcGxlQ29uZGl0aW9uKGNvbmRpdGlvbiwgc2NvcGUsIG1lc3NhZ2UpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBzcGxpdENvbmRpdGlvbiA9IGNvbmRpdGlvbi5zcGxpdCgnICcpO1xuICAgIGxldCB2YXJpYWJsZSA9IHNwbGl0Q29uZGl0aW9uWzBdO1xuICAgIGxldCBvcGVyYXRvciA9IHNwbGl0Q29uZGl0aW9uWzFdO1xuXG4gICAgbGV0IHBhcmFtcztcbiAgICBpZiAob3BlcmF0b3IgPT09ICdpbicpIHtcbiAgICAgIF90aGlzLmNvbnRleHQuZ3JvdXAgPSB7c2NvcGU6IHNjb3BlLCBncm91cDogc3BsaXRDb25kaXRpb25bMl0sIGRlc3RpbmF0aW9uOiBtZXNzYWdlLnRvfTtcbiAgICAgIHBhcmFtcyA9IF90aGlzLmNvbnRleHQuZ3JvdXA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcyA9IHNwbGl0Q29uZGl0aW9uLnNsaWNlKDIpO1xuICAgIH1cbiAgICBfdGhpcy5jb250ZXh0W3ZhcmlhYmxlXSA9IHttZXNzYWdlOiBtZXNzYWdlfTtcbiAgICBsZXQgdmFsdWUgPSBfdGhpcy5jb250ZXh0W3ZhcmlhYmxlXTtcbiAgICByZXR1cm4gX3RoaXMub3BlcmF0b3JzLm9wZXJhdG9yc1tvcGVyYXRvcl0oW3BhcmFtcywgdmFsdWVdKTtcbiAgfVxuXG4gIHZlcmlmaWVzQWR2YW5jZWRDb25kaXRpb24ob3BlcmF0b3IsIGxlZnQsIHJpZ2h0LCBzY29wZSwgbWVzc2FnZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgd2hpbGUgKHR5cGVvZiBsZWZ0ID09PSAnb2JqZWN0Jykge1xuICAgICAgbGVmdCA9IF90aGlzLnZlcmlmaWVzQWR2YW5jZWRDb25kaXRpb24obGVmdFswXSwgbGVmdFsxXSwgbGVmdFsyXSwgc2NvcGUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAocmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd2hpbGUgKHR5cGVvZiByaWdodCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmlnaHQgPSBfdGhpcy52ZXJpZmllc0FkdmFuY2VkQ29uZGl0aW9uKHJpZ2h0WzBdLCByaWdodFsxXSwgcmlnaHRbMl0sIHNjb3BlLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0TGVmdCA9ICh0eXBlb2YgbGVmdCA9PT0gJ2Jvb2xlYW4nKSA/IGxlZnQgOiBfdGhpcy52ZXJpZmllc1NpbXBsZUNvbmRpdGlvbihsZWZ0LCBzY29wZSwgbWVzc2FnZSk7XG5cbiAgICBsZXQgcmVzdWx0UmlnaHQ7XG4gICAgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc3VsdFJpZ2h0ID0gKHR5cGVvZiByaWdodCA9PT0gJ2Jvb2xlYW4nKSA/IHJpZ2h0IDogX3RoaXMudmVyaWZpZXNTaW1wbGVDb25kaXRpb24ocmlnaHQsIHNjb3BlLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXMub3BlcmF0b3JzLm9wZXJhdG9yc1tvcGVyYXRvcl0oW3Jlc3VsdExlZnQsIHJlc3VsdFJpZ2h0XSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUERQO1xuIiwiY2xhc3MgUEVQIHtcblxuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIGVuZm9yY2UocmVzdWx0KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgYXV0aERlY2lzaW9uID0gcmVzdWx0WzBdO1xuICAgIGxldCBhY3Rpb25zID0gcmVzdWx0WzFdO1xuXG4gICAgZm9yIChsZXQgaSBpbiBhY3Rpb25zKSB7XG4gICAgICBfdGhpcy5jb250ZXh0W2FjdGlvbnNbaV0ubWV0aG9kXShhY3Rpb25zW2ldLnBhcmFtcywgYXV0aERlY2lzaW9uKTtcbiAgICB9XG4gIH1cblxuICAvKnNlbmRBdXRvbWF0aWNNZXNzYWdlKCkge31cblxuICBmb3J3YXJkVG9JRCgpIHt9XG5cbiAgZm9yd2FyZFRvSHlwZXJ0eSgpIHt9Ki9cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQRVA7XG4iLCIvL2pzaGludCBicm93c2VyOnRydWUsIGpxdWVyeTogdHJ1ZVxuXG4vL2ltcG9ydCBwZXJzaXN0ZW5jZU1hbmFnZXIgZnJvbSAnc2VydmljZS1mcmFtZXdvcmsvZGlzdC9QZXJzaXN0ZW5jZU1hbmFnZXInO1xuXG5pbXBvcnQgUEVQIGZyb20gJy4vUEVQJztcbmltcG9ydCBQRFAgZnJvbSAnLi9QRFAnO1xuXG4vKipcbiogVGhlIFBvbGljeSBFbmdpbmUgaW50ZXJjZXB0cyBhbGwgdGhlIG1lc3NhZ2VzIHNlbnQgdGhyb3VnaCB0aGUgTWVzc2FnZSBCdXMgYW5kIGFwcGxpZXMgdGhlXG4qIHBvbGljaWVzIGRlZmluZWQgYnkgdGhlIHNlcnZpY2UgcHJvdmlkZXIgYW5kIHRoZSB1c2VyLlxuKi9cbmNsYXNzIFBvbGljeUVuZ2luZSB7XG5cbiAgLyoqXG4gICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCBieSB0aGUgUnVudGltZVVBIGFuZCBpbnN0YW50aWF0ZXMgdGhlIFBvbGljeSBFbmdpbmUuIEEgUG9saWN5IERlY2lzaW9uXG4gICogUG9pbnQgKFBEUCkgYW5kIGEgUG9saWN5IEVuZm9yY2VtZW50IFBvaW50IChQRVApIGFyZSBpbml0aWFsaXNlZCBmb3IgdGhlIGV2YWx1YXRpb24gb2YgcG9saWNpZXNcbiAgKiBhbmQgdGhlIGVuZm9yY2VtZW50IG9mIGFkZGl0aW9uYWwgYWN0aW9ucywgcmVzcGVjdGl2ZWx5LlxuICAqIEBwYXJhbSAge0lkZW50aXR5TW9kdWxlfSAgICBpZGVudGl0eU1vZHVsZVxuICAqIEBwYXJhbSAge1JlZ2lzdHJ5fSAgICAgICAgICBydW50aW1lUmVnaXN0cnlcbiAgKi9cbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgX3RoaXMuY29udGV4dC5wZHAgPSBuZXcgUERQKGNvbnRleHQpO1xuICAgIF90aGlzLmNvbnRleHQucGVwID0gbmV3IFBFUChjb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAqIEFzc29jaWF0ZXMgdGhlIGdpdmVuIHBvbGljaWVzIHdpdGggYSBzY29wZS4gVGhlIHBvc3NpYmxlIHNjb3BlcyBhcmUgJ2dsb2JhbCcsICdoeXBlcnR5JyBhbmRcbiAgKiAndXNlcicuXG4gICogQHBhcmFtICB7UG9saWN5W119ICBwb2xpY2llc1xuICAqIEBwYXJhbSAge1N0cmluZ30gICAgc2NvcGVcbiAgKi9cbiAgYWRkUG9saWNpZXMobmV3UG9saWNpZXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IG15UG9saWNpZXMgPSBfdGhpcy5jb250ZXh0LnBvbGljaWVzO1xuICAgIGlmIChteVBvbGljaWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG15UG9saWNpZXMgPSB7fTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpIGluIG5ld1BvbGljaWVzKSB7XG4gICAgICBsZXQgbmV3UG9saWN5ID0gbmV3UG9saWNpZXNbaV07XG4gICAgICBsZXQgc2NvcGUgPSBuZXdQb2xpY3kuc2NvcGU7XG4gICAgICBpZiAobXlQb2xpY2llc1tzY29wZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBteVBvbGljaWVzW3Njb3BlXSA9IFtdO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaiBpbiBteVBvbGljaWVzW3Njb3BlXSkge1xuICAgICAgICBsZXQgZXhpc3RpbmdQb2xpY3kgPSBteVBvbGljaWVzW3Njb3BlXVtqXTtcbiAgICAgICAgaWYgKGV4aXN0aW5nUG9saWN5LmNvbmRpdGlvbiA9PT0gbmV3UG9saWN5LmNvbmRpdGlvbikge1xuICAgICAgICAgIF90aGlzLnJlbW92ZVBvbGljaWVzKG5ld1BvbGljaWVzW2ldLmNvbmRpdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG15UG9saWNpZXNbc2NvcGVdLnB1c2gobmV3UG9saWNpZXNbaV0pO1xuICAgIH1cblxuICAgIF90aGlzLmNvbnRleHQucG9saWNpZXMgPSBteVBvbGljaWVzO1xuICB9XG5cbiAgLyoqXG4gICogUmVtb3ZlcyB0aGUgcG9saWN5IHdpdGggdGhlIGdpdmVuIElEIGZyb20gdGhlIGdpdmVuIHNjb3BlLiBJZiBwb2xpY3lJRCBpcyAnKicsIHJlbW92ZXMgYWxsIHBvbGljaWVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gc2NvcGUuXG4gICogQHBhcmFtICB7U3RyaW5nfSAgcG9saWN5SURcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICBzY29wZVxuICAqL1xuICByZW1vdmVQb2xpY2llcyhzY29wZSwgY29uZGl0aW9uKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgbXlQb2xpY2llcyA9IF90aGlzLmNvbnRleHQucG9saWNpZXM7XG5cbiAgICBpZiAoc2NvcGUgIT09ICcqJykge1xuXG4gICAgICBpZiAoc2NvcGUgaW4gbXlQb2xpY2llcykge1xuICAgICAgICBpZiAoY29uZGl0aW9uICE9PSAnKicpIHtcbiAgICAgICAgICBsZXQgcG9saWNpZXMgPSBteVBvbGljaWVzW3Njb3BlXTtcbiAgICAgICAgICBsZXQgdHlwZU9mQ29uZGl0aW9uID0gdHlwZW9mIGNvbmRpdGlvbjtcbiAgICAgICAgICBmb3IgKGxldCBpIGluIHBvbGljaWVzKSB7XG4gICAgICAgICAgICBsZXQgdHlwZU9mUG9saWN5Q29uZGl0aW9uID0gdHlwZW9mIHBvbGljaWVzW2ldLmNvbmRpdGlvbjtcbiAgICAgICAgICAgIGlmICh0eXBlT2ZDb25kaXRpb24gPT09IHR5cGVPZlBvbGljeUNvbmRpdGlvbikge1xuICAgICAgICAgICAgICBpZiAodHlwZU9mQ29uZGl0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmIChwb2xpY2llc1tpXS5jb25kaXRpb24gPT09IGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICAgICAgcG9saWNpZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgeyAvL3R5cGVvZiBjb25kaXRpb24gPSBvYmplY3QgKGFkdmFuY2VkIHBvbGljeSlcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYXJlRXF1YWxBcnJheXMocG9saWNpZXNbaV0uY29uZGl0aW9uLCBjb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICBwb2xpY2llcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBteVBvbGljaWVzW3Njb3BlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmNvbnRleHQucG9saWNpZXMgPSBteVBvbGljaWVzO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmNvbnRleHQucG9saWNpZXMgPSB7fTtcbiAgICB9XG4gIH1cblxuICBhcmVFcXVhbEFycmF5cyhhcnJheTEsIGFycmF5Mikge1xuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IG51bUVsZW1lbnRzID0gYXJyYXkxLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUVsZW1lbnRzOyBpKyspIHtcbiAgICAgIGlmIChhcnJheTFbaV0gaW5zdGFuY2VvZiBBcnJheSAmJiBhcnJheTJbaV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5MVtpXS5lcXVhbHMoYXJyYXkyW2ldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICogVGhpcyBtZXRob2QgaXMgZXhlY3V0ZWQgd2hlbiBhIG1lc3NhZ2UgaXMgaW50ZXJjZXB0ZWQgaW4gdGhlIE1lc3NhZ2UgQnVzLiBUaGUgZmlyc3Qgc3RlcCBpcyB0aGVcbiAgKiBhc3NpZ25tZW50IG9mIHRoZSBpZGVudGl0eSBhc3NvY2lhdGVkIHdpdGggdGhlIG1lc3NhZ2UuIFRoZSBzZWNvbmQgc3RlcCBpcyB0aGUgZXZhbHVhdGlvbiBvZiB0aGVcbiAgKiBhcHBsaWNhYmxlIHBvbGljaWVzIGluIG9yZGVyIHRvIG9idGFpbiBhbiBhdXRob3Jpc2F0aW9uIGRlY2lzaW9uOiBpZiBhIHBvbGljeSBldmFsdWF0ZXMgdG9cbiAgKiBmYWxzZSwgdGhlbiB0aGUgbWVzc2FnZSBpcyB1bmF1dGhvcmlzZWQuIFRoZSB0aGlyZCBzdGVwIGlzIHRoZSBlbmZvcmNlbWVudCBvZiB0aGUgYWN0aW9ucyB0aGF0XG4gICogcG9saWNpZXMgbWF5IHJlcXVpcmUuIEZpbmFsbHksIHRoZSBtZXNzYWdlIGlzIHN0YW1wZWQgYXMgYXV0aG9yaXNlZCBvciBub3QgYW5kIGlzIHJldHVybmVkIHRvXG4gICogdGhlIE1lc3NhZ2UgQnVzLCB3aGVyZSBpdCB3aWxsIGJlIGZvcndhcmRlZCBvciBibG9ja2VkLlxuICAqIEBwYXJhbSAge01lc3NhZ2V9ICBtZXNzYWdlXG4gICovXG4gIGF1dGhvcmlzZShtZXNzYWdlKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gX3RoaXMuY29udGV4dC5hdXRob3Jpc2UobWVzc2FnZSk7XG4gIH1cblxuICBnZXRHcm91cHNOYW1lcyhzY29wZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG15R3JvdXBzID0gX3RoaXMuY29udGV4dC5ncm91cHM7XG4gICAgbGV0IGdyb3Vwc05hbWVzID0gW107XG4gICAgaWYgKG15R3JvdXBzW3Njb3BlXSAhPT0ge30pIHtcbiAgICAgIGZvciAobGV0IGdyb3VwTmFtZSBpbiBteUdyb3Vwc1tzY29wZV0pIHtcbiAgICAgICAgZ3JvdXBzTmFtZXMucHVzaChncm91cE5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JvdXBzTmFtZXM7XG4gIH1cblxuICAvKipcbiAgKiBSZXRyaWV2ZXMgdGhlIGdyb3VwIHdpdGggdGhlIGdpdmVuIGdyb3VwIG5hbWUgZnJvbSB0aGUgUERQLlxuICAqIEBwYXJhbSAge1N0cmluZ30gIGdyb3VwTmFtZVxuICAqIEByZXR1cm4ge0FycmF5fSAgIGdyb3VwXG4gICovXG4gIGdldExpc3Qoc2NvcGUsIGdyb3VwTmFtZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IG15R3JvdXBzID0gX3RoaXMuY29udGV4dC5ncm91cHM7XG4gICAgbGV0IG1lbWJlcnMgPSBbXTtcbiAgICBpZiAobXlHcm91cHNbc2NvcGVdICE9PSB1bmRlZmluZWQgJiYgbXlHcm91cHNbc2NvcGVdW2dyb3VwTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWVtYmVycyA9IG15R3JvdXBzW3Njb3BlXVtncm91cE5hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gbWVtYmVycztcbiAgfVxuXG4gIC8qKlxuICAqIENyZWF0ZXMgYSBncm91cCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAqIEBwYXJhbSAge1N0cmluZ30gIGdyb3VwTmFtZVxuICAqL1xuICBjcmVhdGVMaXN0KHNjb3BlLCB0eXBlLCBncm91cE5hbWUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IG15R3JvdXBzID0gX3RoaXMuY29udGV4dC5ncm91cHM7XG4gICAgaWYgKG15R3JvdXBzW3Njb3BlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBteUdyb3Vwc1tzY29wZV0gPSB7fTtcbiAgICB9XG4gICAgbXlHcm91cHNbc2NvcGVdW2dyb3VwTmFtZV0gPSBbXTtcblxuICAgIGxldCBwb2xpY3kgPSB7XG4gICAgICBhdXRob3Jpc2U6IGZhbHNlLFxuICAgICAgY29uZGl0aW9uOiB0eXBlICsgJyBpbiAnICsgZ3JvdXBOYW1lLFxuICAgICAgc2NvcGU6IHNjb3BlLFxuICAgICAgYWN0aW9uczogW11cbiAgICB9O1xuICAgIF90aGlzLmFkZFBvbGljaWVzKFtwb2xpY3ldKTtcblxuICAgIHJldHVybiBteUdyb3VwcztcbiAgfVxuXG4gIGRlbGV0ZUdyb3VwKHNjb3BlLCBncm91cE5hbWUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IG15R3JvdXBzID0gX3RoaXMuY29udGV4dC5ncm91cHM7XG4gICAgZGVsZXRlIG15R3JvdXBzW3Njb3BlXVtncm91cE5hbWVdO1xuXG4gICAgbGV0IG15UG9saWNpZXMgPSBfdGhpcy5jb250ZXh0LnBvbGljaWVzO1xuXG4gICAgbGV0IHBvbGljaWVzID0gbXlQb2xpY2llc1tzY29wZV07XG4gICAgZm9yIChsZXQgaSBpbiBwb2xpY2llcykge1xuICAgICAgbGV0IGNvbmRpdGlvbiA9IHBvbGljaWVzW2ldLmNvbmRpdGlvbi5zcGxpdCgnICcpO1xuICAgICAgY29uZGl0aW9uLnNoaWZ0KCk7XG4gICAgICBsZXQgZ3JvdXBJblBvbGljeSA9IGNvbmRpdGlvbi5qb2luKCcgJyk7XG4gICAgICBpZiAoZ3JvdXBJblBvbGljeSA9PT0gZ3JvdXBOYW1lKSB7XG4gICAgICAgIGRlbGV0ZSBwb2xpY2llc1tpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogQWRkcyB0aGUgZ2l2ZW4gdXNlciBlbWFpbCB0byB0aGUgZ3JvdXAgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICB1c2VyRW1haWxcbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICBncm91cE5hbWVcbiAgKi9cbiAgYWRkVG9MaXN0KHNjb3BlLCB0eXBlLCBncm91cE5hbWUsIHVzZXJFbWFpbCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG5cbiAgICBsZXQgbXlHcm91cHMgPSBfdGhpcy5jb250ZXh0Lmdyb3VwcztcbiAgICBpZiAobXlHcm91cHNbc2NvcGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG15R3JvdXBzW3Njb3BlXSA9IHt9O1xuICAgIH1cbiAgICBpZiAobXlHcm91cHNbc2NvcGVdW2dyb3VwTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbXlHcm91cHMgPSBfdGhpcy5jcmVhdGVMaXN0KHNjb3BlLCB0eXBlLCBncm91cE5hbWUpO1xuICAgIH1cbiAgICBpZiAobXlHcm91cHNbc2NvcGVdW2dyb3VwTmFtZV0uaW5kZXhPZih1c2VyRW1haWwpID09PSAtMSkge1xuICAgICAgbXlHcm91cHNbc2NvcGVdW2dyb3VwTmFtZV0ucHVzaCh1c2VyRW1haWwpO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICogUmVtb3ZlcyB0aGUgZ2l2ZW4gdXNlciBlbWFpbCBmcm9tIHRoZSBncm91cCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJFbWFpbFxuICAqIEBwYXJhbSAge1N0cmluZ30gIGdyb3VwTmFtZVxuICAqL1xuICByZW1vdmVGcm9tR3JvdXAoc2NvcGUsIGdyb3VwTmFtZSwgdXNlckVtYWlsKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgIGxldCBteUdyb3VwcyA9IF90aGlzLmNvbnRleHQuZ3JvdXBzO1xuICAgIGxldCBncm91cCA9IG15R3JvdXBzW3Njb3BlXVtncm91cE5hbWVdO1xuXG4gICAgZm9yIChsZXQgaSBpbiBncm91cCkge1xuICAgICAgaWYgKGdyb3VwW2ldID09PSB1c2VyRW1haWwpIHtcbiAgICAgICAgZ3JvdXAuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRUaW1lc2xvdHMoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgcG9saWNpZXMgPSBfdGhpcy5jb250ZXh0LnBvbGljaWVzLnVzZXI7XG4gICAgbGV0IHRpbWVSZXN0cmljdGlvbnMgPSBbXTtcbiAgICBmb3IgKGxldCBpIGluIHBvbGljaWVzKSB7XG4gICAgICBpZiAocG9saWNpZXNbaV0uY29uZGl0aW9uLnNwbGl0KCcgJylbMF0gPT09ICd0aW1lJykge1xuICAgICAgICB0aW1lUmVzdHJpY3Rpb25zLnB1c2gocG9saWNpZXNbaV0uY29uZGl0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRpbWVSZXN0cmljdGlvbnM7XG4gIH1cblxuICBnZXRUaW1lc2xvdEJ5SWQoY29uZGl0aW9uKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgcG9saWNpZXMgPSBfdGhpcy5jb250ZXh0LnBvbGljaWVzLnVzZXI7XG4gICAgZm9yIChsZXQgaSBpbiBwb2xpY2llcykge1xuICAgICAgaWYgKHBvbGljaWVzW2ldLmNvbmRpdGlvbiA9PT0gY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybiBwb2xpY2llc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY3lFbmdpbmU7XG4iXX0=\n"],"sourceRoot":"/source/"}
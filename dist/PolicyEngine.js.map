{"version":3,"sources":["PolicyEngine.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","PolicyEngine","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/json/stringify","2","core-js/library/fn/object/create","3","core-js/library/fn/object/define-property","4","core-js/library/fn/object/get-prototype-of","5","core-js/library/fn/object/keys","6","core-js/library/fn/object/set-prototype-of","7","core-js/library/fn/promise","8","core-js/library/fn/symbol","9","instance","Constructor","TypeError","10","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","11","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","value","__proto__","babel-runtime/core-js/object/create","babel-runtime/core-js/object/set-prototype-of","12","_typeof2","_typeof3","ReferenceError","../helpers/typeof","13","_Symbol","babel-runtime/core-js/symbol","14","core","it","JSON","stringify","apply","arguments","../../modules/$.core","15","$","P","D","create","../../modules/$","16","desc","setDesc","17","Object","getPrototypeOf","../../modules/es6.object.get-prototype-of","18","keys","../../modules/es6.object.keys","19","setPrototypeOf","../../modules/es6.object.set-prototype-of","20","Promise","../modules/$.core","../modules/es6.object.to-string","../modules/es6.promise","../modules/es6.string.iterator","../modules/web.dom.iterable","21","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","22","23","24","isObject","./$.is-object","25","cof","TAG","ARG","O","T","B","undefined","callee","./$.cof","./$.wks","26","toString","slice","27","version","__e","28","aFunction","fn","that","b","c","./$.a-function","29","30","defineProperty","get","./$.fails","31","document","is","createElement","./$.global","32","getKeys","getSymbols","symbols","isEnum","push","./$","33","ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","C","param","Function","./$.core","./$.ctx","34","exec","35","isArrayIter","anObject","toLength","getIterFn","iterable","entries","step","iterator","iterFn","index","next","done","./$.an-object","./$.is-array-iter","./$.iter-call","./$.to-length","./core.get-iterator-method","36","toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject","37","Math","__g","38","hasOwnProperty","39","createDesc","object","./$.descriptors","./$.property-desc","40","documentElement","41","args","un","42","propertyIsEnumerable","split","43","Iterators","ITERATOR","ArrayProto","Array","./$.iterators","44","isArray","arg","45","46","ret","47","setToStringTag","IteratorPrototype","NAME","./$.hide","./$.set-to-string-tag","48","LIBRARY","redefine","hide","has","$iterCreate","getProto","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","values","./$.export","./$.has","./$.iter-create","./$.library","./$.redefine","49","SAFE_CLOSING","riter","from","skipClosing","safe","arr","iter","50","51","52","$Object","getDesc","getOwnPropertyDescriptor","setDescs","getOwnPropertySymbols","each","forEach","53","el","54","55","head","last","notify","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","flush","parent","domain","exit","enter","nextTick","toggle","node","createTextNode","observe","characterData","data","resolve","then","task","./$.task","56","fails","KEY","exp","57","bitmap","58","src","59","60","x","y","61","check","test","buggy","62","DESCRIPTORS","SPECIES","63","def","tag","stat","64","SHARED","store","65","66","67","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./$.defined","./$.to-integer","68","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","id","listner","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","clear","./$.dom-create","./$.html","./$.invoke","69","ceil","floor","isNaN","70","IObject","./$.iobject","71","min","72","73","px","random","concat","74","uid","./$.shared","./$.uid","75","classof","getIteratorMethod","./$.classof","76","addToUnscopables","iterated","_t","_i","_k","Arguments","./$.add-to-unscopables","./$.iter-define","./$.iter-step","77","toObject","$getPrototypeOf","./$.object-sap","./$.to-object","78","$keys","79","./$.set-proto","80","81","Wrapper","strictNew","forOf","setProto","same","speciesConstructor","asap","PROMISE","testResolve","sub","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","getConstructor","isThenable","PromiseCapability","reject","promise","$$resolve","$$reject","perform","error","record","isReject","chain","v","ok","reaction","result","handler","fail","h","console","p","isUnhandled","emit","onunhandledrejection","reason","_d","$reject","d","$resolve","wrapper","executor","err","onFulfilled","onRejected","catch","capability","all","abrupt","remaining","results","alreadyCalled","race","./$.for-of","./$.iter-detect","./$.microtask","./$.redefine-all","./$.same-value","./$.set-species","./$.species-constructor","./$.strict-new","82","$at","point","./$.string-at","83","$fails","shared","wks","keyOf","$names","enumKeys","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","$stringify","replacer","$replacer","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.enum-keys","./$.get-names","./$.is-array","./$.keyof","84","NodeList","HTMLCollection","./es6.array.iterator","85","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","timeout","len","clearTimeout","Item","fun","array","noop","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","binding","cwd","chdir","dir","umask","86","PersistenceManager","../../modules/_core","fs","_","w","sort","m","path","flags","mode","autoClose","destroy","fd","read","I","gracefulify","FileReadStream","FileWriteStream","createReadStream","createWriteStream","readFile","writeFile","appendFile","readdir","substr","ReadStream","WriteStream","open","shift","debuglog","NODE_DEBUG","format","join","equal","TEST_GRACEFUL_FS_GLOBAL_PATCH","close","closeSync","./fs.js","./legacy-streams.js","./polyfills.js","assert","util","readable","paused","bufferSize","encoding","setEncoding","start","end","_read","bytesWritten","busy","_queue","_open","Stream","stream","match","lutimes","chown","fchown","lchown","chmod","fchmod","lchmod","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","platform","rename","Date","now","readSync","O_WRONLY","O_SYMLINK","openSync","futimes","lutimesSync","futimesSync","getuid","constants","reset","hash","k1","rem","h1","MurmurHash3","__super__","sync","readdirSync","statSync","isDirectory","rmdirSync","unlinkSync","message","captureStackTrace","oldValue","newValue","url","storageArea","_location","quota","_bytesInUse","_keys","_metaKeyMap","_eventUrl","pid","_init","_QUOTA_EXCEEDED_ERR","decodeURIComponent","_getStat","size","mkdirSync","setItem","EventEmitter","listenerCount","getItem","encodeURIComponent","readFileSync","removeItem","splice","_getBytesInUse","_deleteLocation","parse","LocalStorage","JSONStorage","QUOTA_EXCEEDED_ERR","events","write-file-atomic","pop","map","first","./bind-actor.js","asyncMap","bindActor","./async-map","./bind-actor","./chain","gid","unlink","writeFileSync","renameSync","graceful-fs","imurmurhash","slide","getVersion","delete","./universal-localstorage","babel-runtime/core-js/json/stringify","localStorage","sessionStorage","setTime","getTime","toGMTString","cookie","substring","indexOf","./rem-localstorage","node-localstorage","_process","87","_classCallCheck2","_classCallCheck3","CombiningAlgorithm","babel-runtime/helpers/classCallCheck","88","_createClass2","_createClass3","Operators","params","parseInt","babel-runtime/helpers/createClass","89","_Operators","_Operators2","_RuntimeCoreCtx","_RuntimeCoreCtx2","PDP","context","operators","policies","evaluateSPPolicy","serviceProviderPolicy","evaluateUserPolicy","userPolicy","policy","evaluate","userPolicies","_context","_operators","./Operators","./context/RuntimeCoreCtx","90","PEP","authDecision","enforceActions","91","_DenyOverrides","_DenyOverrides2","_FirstApplicable","_FirstApplicable2","Policy","rules","actions","combiningAlgorithm","isActive","rule","_rules","scope","condition","_actions","_combiningAlgorithm","_isActive","_key","./combiningAlgorithms/DenyOverrides","./combiningAlgorithms/FirstApplicable","92","_PEP","_PEP2","_PDP","_PDP2","policyEngine","pdp","pep","serviceProviderPolicies","activeUserPolicy","_this","authorise","myGroups","groups","groupsNames","groupName","members","userEmail","createGroup","group","_pdp","_pep","./PDP","./PEP","93","Rule","isApplicable","_authorise","decision","_condition","_scope","_target","94","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_CombiningAlgorithm2","_CombiningAlgorithm3","DenyOverrides","_CombiningAlgorithm","individualResults","../CombiningAlgorithm","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","95","FirstApplicable","96","Condition","attribute","operator","dataObjectURL","to","runtimeRegistry","getPreAuthSubscribers","_attribute","_operator","_params","../Operators","97","_Condition2","_Condition3","SubscriptionCondition","_Condition","isSubscription","isFromRemoteSM","applicable","hypertyURL","getHypertyName","hyperty","getReporterURLSynchonous","getURL","owner","getHypertyOwner","body","resource","./Condition","98","_utils","CommonCtx","defaultBehavior","_defaultBehavior","behavior","_serviceProviderPolicies","_date","date","day","getDate","month","getMonth","getFullYear","_domain","divideEmail","identity","userProfile","username","_source","_time","_now","minutes","getMinutes","getHours","_weekday","getDay","../../utils/utils","99","_promise","_promise2","_CommonCtx2","_CommonCtx3","_PersistenceManager","_PersistenceManager2","_Rule","_Rule2","_UserPolicy","_UserPolicy2","_SubscriptionCondition","_SubscriptionCondition2","RuntimeCoreCtx","_CommonCtx","idModule","_this2","log","isToVerify","_isToVerify","isIncomingMessage","_isIncomingMessage","isToCypher","_isToCypherModule","decrypt","getServiceProviderPolicy","applyPolicies","enforcePolicies","auth","isToSetID","_isToSetID","_getIdentity","encrypt","_policies","decryptMessage","msg","subsIndex","isDataObjectSubscription","doMutualAuthentication","subscriber","encryptMessage","isIncoming","toHyperty","fromHyperty","splitFrom","runtimeURL","schemasToIgnore","fromSchema","splitURL","getIdentityOfHyperty","divideURL","splitTo","toSchema","isCreate","isFromHyperty","isToHyperty","isToDataObject","isDataObjectURL","isHandshake","registerSubscriber","_activeUserPolicy","_dataObjectScheme","_idModule","_policyEngine","acceptAnySubscriptionRule","addPolicy","_runtimeRegistry","registry","_subscription","../Rule","../conditions/SubscriptionCondition","../policies/UserPolicy","./CommonCtx","babel-runtime/core-js/promise","service-framework/dist/PersistenceManager","100","_Policy2","_Policy3","UserPolicy","_Policy","../Policy","101","re","subst","parts","replace","email","indexOfAt","emptyObject","_keys2","deepClone","_stringify2","getUserURLFromEmail","getUserEmailFromURL","userURL","convertToUserURL","identifier","dividedURL","urlSchema","babel-runtime/core-js/object/keys"],"mappings":"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","file":"PolicyEngine.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.PolicyEngine = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":14}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":15}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":16}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":17}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":18}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":19}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":20}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":21}],9:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":3}],11:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/create\":2,\"babel-runtime/core-js/object/set-prototype-of\":6}],12:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":13}],13:[function(require,module,exports){\n\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/symbol\":8}],14:[function(require,module,exports){\nvar core = require('../../modules/$.core');\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n};\n},{\"../../modules/$.core\":27}],15:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n},{\"../../modules/$\":52}],16:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n},{\"../../modules/$\":52}],17:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;\n},{\"../../modules/$.core\":27,\"../../modules/es6.object.get-prototype-of\":77}],18:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/$.core').Object.keys;\n},{\"../../modules/$.core\":27,\"../../modules/es6.object.keys\":78}],19:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n},{\"../../modules/$.core\":27,\"../../modules/es6.object.set-prototype-of\":79}],20:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/$.core').Promise;\n},{\"../modules/$.core\":27,\"../modules/es6.object.to-string\":80,\"../modules/es6.promise\":81,\"../modules/es6.string.iterator\":82,\"../modules/web.dom.iterable\":84}],21:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n},{\"../../modules/$.core\":27,\"../../modules/es6.object.to-string\":80,\"../../modules/es6.symbol\":83}],22:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],23:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],24:[function(require,module,exports){\nvar isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./$.is-object\":45}],25:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./$.cof')\n  , TAG = require('./$.wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./$.cof\":26,\"./$.wks\":74}],26:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],27:[function(require,module,exports){\nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],28:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./$.a-function\":22}],29:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],30:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./$.fails\":34}],31:[function(require,module,exports){\nvar isObject = require('./$.is-object')\n  , document = require('./$.global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./$.global\":37,\"./$.is-object\":45}],32:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n},{\"./$\":52}],33:[function(require,module,exports){\nvar global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n},{\"./$.core\":27,\"./$.ctx\":28,\"./$.global\":37}],34:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],35:[function(require,module,exports){\nvar ctx         = require('./$.ctx')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , anObject    = require('./$.an-object')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that){\n  var iterFn = getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};\n},{\"./$.an-object\":24,\"./$.ctx\":28,\"./$.is-array-iter\":43,\"./$.iter-call\":46,\"./$.to-length\":71,\"./core.get-iterator-method\":75}],36:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n},{\"./$\":52,\"./$.to-iobject\":70}],37:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],38:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],39:[function(require,module,exports){\nvar $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./$\":52,\"./$.descriptors\":30,\"./$.property-desc\":57}],40:[function(require,module,exports){\nmodule.exports = require('./$.global').document && document.documentElement;\n},{\"./$.global\":37}],41:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],42:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./$.cof\":26}],43:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./$.iterators')\n  , ITERATOR   = require('./$.wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./$.iterators\":51,\"./$.wks\":74}],44:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./$.cof\":26}],45:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],46:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./$.an-object\":24}],47:[function(require,module,exports){\n'use strict';\nvar $              = require('./$')\n  , descriptor     = require('./$.property-desc')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./$\":52,\"./$.hide\":39,\"./$.property-desc\":57,\"./$.set-to-string-tag\":63,\"./$.wks\":74}],48:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./$\":52,\"./$.export\":33,\"./$.has\":38,\"./$.hide\":39,\"./$.iter-create\":47,\"./$.iterators\":51,\"./$.library\":54,\"./$.redefine\":59,\"./$.set-to-string-tag\":63,\"./$.wks\":74}],49:[function(require,module,exports){\nvar ITERATOR     = require('./$.wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./$.wks\":74}],50:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],51:[function(require,module,exports){\nmodule.exports = {};\n},{}],52:[function(require,module,exports){\nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n},{}],53:[function(require,module,exports){\nvar $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./$\":52,\"./$.to-iobject\":70}],54:[function(require,module,exports){\nmodule.exports = true;\n},{}],55:[function(require,module,exports){\nvar global    = require('./$.global')\n  , macrotask = require('./$.task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./$.cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain, fn;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    fn     = head.fn;\n    if(domain)domain.enter();\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};\n},{\"./$.cof\":26,\"./$.global\":37,\"./$.task\":68}],56:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./$.core\":27,\"./$.export\":33,\"./$.fails\":34}],57:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],58:[function(require,module,exports){\nvar redefine = require('./$.redefine');\nmodule.exports = function(target, src){\n  for(var key in src)redefine(target, key, src[key]);\n  return target;\n};\n},{\"./$.redefine\":59}],59:[function(require,module,exports){\nmodule.exports = require('./$.hide');\n},{\"./$.hide\":39}],60:[function(require,module,exports){\n// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n},{}],61:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./$\":52,\"./$.an-object\":24,\"./$.ctx\":28,\"./$.is-object\":45}],62:[function(require,module,exports){\n'use strict';\nvar core        = require('./$.core')\n  , $           = require('./$')\n  , DESCRIPTORS = require('./$.descriptors')\n  , SPECIES     = require('./$.wks')('species');\n\nmodule.exports = function(KEY){\n  var C = core[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./$\":52,\"./$.core\":27,\"./$.descriptors\":30,\"./$.wks\":74}],63:[function(require,module,exports){\nvar def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./$\":52,\"./$.has\":38,\"./$.wks\":74}],64:[function(require,module,exports){\nvar global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./$.global\":37}],65:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./$.an-object')\n  , aFunction = require('./$.a-function')\n  , SPECIES   = require('./$.wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./$.a-function\":22,\"./$.an-object\":24,\"./$.wks\":74}],66:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};\n},{}],67:[function(require,module,exports){\nvar toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./$.defined\":29,\"./$.to-integer\":69}],68:[function(require,module,exports){\nvar ctx                = require('./$.ctx')\n  , invoke             = require('./$.invoke')\n  , html               = require('./$.html')\n  , cel                = require('./$.dom-create')\n  , global             = require('./$.global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./$.cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./$.cof\":26,\"./$.ctx\":28,\"./$.dom-create\":31,\"./$.global\":37,\"./$.html\":40,\"./$.invoke\":41}],69:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],70:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./$.defined\":29,\"./$.iobject\":42}],71:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./$.to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./$.to-integer\":69}],72:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./$.defined\":29}],73:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],74:[function(require,module,exports){\nvar store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n},{\"./$.global\":37,\"./$.shared\":64,\"./$.uid\":73}],75:[function(require,module,exports){\nvar classof   = require('./$.classof')\n  , ITERATOR  = require('./$.wks')('iterator')\n  , Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./$.classof\":25,\"./$.core\":27,\"./$.iterators\":51,\"./$.wks\":74}],76:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./$.add-to-unscopables')\n  , step             = require('./$.iter-step')\n  , Iterators        = require('./$.iterators')\n  , toIObject        = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./$.add-to-unscopables\":23,\"./$.iter-define\":48,\"./$.iter-step\":50,\"./$.iterators\":51,\"./$.to-iobject\":70}],77:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./$.object-sap\":56,\"./$.to-object\":72}],78:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('keys', function($keys){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./$.object-sap\":56,\"./$.to-object\":72}],79:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n},{\"./$.export\":33,\"./$.set-proto\":61}],80:[function(require,module,exports){\n\n},{}],81:[function(require,module,exports){\n'use strict';\nvar $          = require('./$')\n  , LIBRARY    = require('./$.library')\n  , global     = require('./$.global')\n  , ctx        = require('./$.ctx')\n  , classof    = require('./$.classof')\n  , $export    = require('./$.export')\n  , isObject   = require('./$.is-object')\n  , anObject   = require('./$.an-object')\n  , aFunction  = require('./$.a-function')\n  , strictNew  = require('./$.strict-new')\n  , forOf      = require('./$.for-of')\n  , setProto   = require('./$.set-proto').set\n  , same       = require('./$.same-value')\n  , SPECIES    = require('./$.wks')('species')\n  , speciesConstructor = require('./$.species-constructor')\n  , asap       = require('./$.microtask')\n  , PROMISE    = 'Promise'\n  , process    = global.process\n  , isNode     = classof(process) == 'process'\n  , P          = global[PROMISE]\n  , Wrapper;\n\nvar testResolve = function(sub){\n  var test = new P(function(){});\n  if(sub)test.constructor = Object;\n  return P.resolve(test) === test;\n};\n\nvar USE_NATIVE = function(){\n  var works = false;\n  function P2(x){\n    var self = new P(x);\n    setProto(self, P2.prototype);\n    return self;\n  }\n  try {\n    works = P && P.resolve && testResolve();\n    setProto(P2, P);\n    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n    // actual Firefox has broken subclass support, test that\n    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n      works = false;\n    }\n    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./$.descriptors')){\n      var thenableThenGotten = false;\n      P.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return works;\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // library wrapper special case\n  if(LIBRARY && a === P && b === Wrapper)return true;\n  return same(a, b);\n};\nvar getConstructor = function(C){\n  var S = anObject(C)[SPECIES];\n  return S != undefined ? S : C;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar PromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve),\n  this.reject  = aFunction(reject)\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(record, isReject){\n  if(record.n)return;\n  record.n = true;\n  var chain = record.c;\n  asap(function(){\n    var value = record.v\n      , ok    = record.s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , result, then;\n      try {\n        if(handler){\n          if(!ok)record.h = true;\n          result = handler === true ? value : handler(value);\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    chain.length = 0;\n    record.n = false;\n    if(isReject)setTimeout(function(){\n      var promise = record.p\n        , handler, console;\n      if(isUnhandled(promise)){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      } record.a = undefined;\n    }, 1);\n  });\n};\nvar isUnhandled = function(promise){\n  var record = promise._d\n    , chain  = record.a || record.c\n    , i      = 0\n    , reaction;\n  if(record.h)return false;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar $reject = function(value){\n  var record = this;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  record.v = value;\n  record.s = 2;\n  record.a = record.c.slice();\n  notify(record, true);\n};\nvar $resolve = function(value){\n  var record = this\n    , then;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  try {\n    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      asap(function(){\n        var wrapper = {r: record, d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      record.v = value;\n      record.s = 1;\n      notify(record, false);\n    }\n  } catch(e){\n    $reject.call({r: record, d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  P = function Promise(executor){\n    aFunction(executor);\n    var record = this._d = {\n      p: strictNew(this, P, PROMISE),         // <- promise\n      c: [],                                  // <- awaiting reactions\n      a: undefined,                           // <- checked in isUnhandled reactions\n      s: 0,                                   // <- state\n      d: false,                               // <- done\n      v: undefined,                           // <- value\n      h: false,                               // <- handled rejection\n      n: false                                // <- notify\n    };\n    try {\n      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n    } catch(err){\n      $reject.call(record, err);\n    }\n  };\n  require('./$.redefine-all')(P.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction = new PromiseCapability(speciesConstructor(this, P))\n        , promise  = reaction.promise\n        , record   = this._d;\n      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      record.c.push(reaction);\n      if(record.a)record.a.push(reaction);\n      if(record.s)notify(record, false);\n      return promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\nrequire('./$.set-to-string-tag')(P, PROMISE);\nrequire('./$.set-species')(PROMISE);\nWrapper = require('./$.core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = new PromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n    var capability = new PromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./$.iter-detect')(function(iter){\n  P.all(iter)['catch'](function(){});\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject\n      , values     = [];\n    var abrupt = perform(function(){\n      forOf(iterable, false, values.push, values);\n      var remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        var alreadyCalled = false;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled = true;\n          results[index] = value;\n          --remaining || resolve(results);\n        }, reject);\n      });\n      else resolve(results);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./$\":52,\"./$.a-function\":22,\"./$.an-object\":24,\"./$.classof\":25,\"./$.core\":27,\"./$.ctx\":28,\"./$.descriptors\":30,\"./$.export\":33,\"./$.for-of\":35,\"./$.global\":37,\"./$.is-object\":45,\"./$.iter-detect\":49,\"./$.library\":54,\"./$.microtask\":55,\"./$.redefine-all\":58,\"./$.same-value\":60,\"./$.set-proto\":61,\"./$.set-species\":62,\"./$.set-to-string-tag\":63,\"./$.species-constructor\":65,\"./$.strict-new\":66,\"./$.wks\":74}],82:[function(require,module,exports){\n'use strict';\nvar $at  = require('./$.string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./$.iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./$.iter-define\":48,\"./$.string-at\":67}],83:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./$\":52,\"./$.an-object\":24,\"./$.descriptors\":30,\"./$.enum-keys\":32,\"./$.export\":33,\"./$.fails\":34,\"./$.get-names\":36,\"./$.global\":37,\"./$.has\":38,\"./$.is-array\":44,\"./$.keyof\":53,\"./$.library\":54,\"./$.property-desc\":57,\"./$.redefine\":59,\"./$.set-to-string-tag\":63,\"./$.shared\":64,\"./$.to-iobject\":70,\"./$.uid\":73,\"./$.wks\":74}],84:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar Iterators = require('./$.iterators');\nIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n},{\"./$.iterators\":51,\"./es6.array.iterator\":76}],85:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],86:[function(require,module,exports){\n(function (process,global){\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n// Distribution file for PersistenceManager.js \n// version: 0.3.0\n// Last build: Wed Jun 29 2016 18:18:30 GMT+0100 (WEST)\n\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.PersistenceManager=t()}}(function(){return function t(e,n,o){function r(s,c){if(!n[s]){if(!e[s]){var a=\"function\"==typeof require&&require;if(!c&&a)return a(s,!0);if(i)return i(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n?n:t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var i=\"function\"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,n){e.exports={\"default\":t(\"core-js/library/fn/json/stringify\"),__esModule:!0}},{\"core-js/library/fn/json/stringify\":2}],2:[function(t,e,n){var o=t(\"../../modules/_core\"),r=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(t){return r.stringify.apply(r,arguments)}},{\"../../modules/_core\":3}],3:[function(t,e,n){var o=e.exports={version:\"2.4.0\"};\"number\"==typeof __e&&(__e=o)},{}],4:[function(t,e,n){\"use strict\";function o(t){if(null===t||\"object\"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var r=t(\"fs\");e.exports=o(r)},{fs:void 0}],5:[function(t,e,n){function o(){}function r(t){function e(t,e,n){function o(t,e,n){return v(t,e,function(r){!r||\"EMFILE\"!==r.code&&\"ENFILE\"!==r.code?(\"function\"==typeof n&&n.apply(this,arguments),s()):i([o,[t,e,n]])})}return\"function\"==typeof e&&(n=e,e=null),o(t,e,n)}function n(t,e,n,o){function r(t,e,n,o){return g(t,e,n,function(c){!c||\"EMFILE\"!==c.code&&\"ENFILE\"!==c.code?(\"function\"==typeof o&&o.apply(this,arguments),s()):i([r,[t,e,n,o]])})}return\"function\"==typeof n&&(o=n,n=null),r(t,e,n,o)}function o(t,e,n,o){function r(t,e,n,o){return _(t,e,n,function(c){!c||\"EMFILE\"!==c.code&&\"ENFILE\"!==c.code?(\"function\"==typeof o&&o.apply(this,arguments),s()):i([r,[t,e,n,o]])})}return\"function\"==typeof n&&(o=n,n=null),r(t,e,n,o)}function c(t,e){function n(){return w(t,function(o,r){r&&r.sort&&r.sort(),!o||\"EMFILE\"!==o.code&&\"ENFILE\"!==o.code?(\"function\"==typeof e&&e.apply(this,arguments),s()):i([n,[t,e]])})}return n(t,e)}function f(t,e){return this instanceof f?(E.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function l(){var t=this;m(t.path,t.flags,t.mode,function(e,n){e?(t.autoClose&&t.destroy(),t.emit(\"error\",e)):(t.fd=n,t.emit(\"open\",n),t.read())})}function h(t,e){return this instanceof h?(b.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}function p(){var t=this;m(t.path,t.flags,t.mode,function(e,n){e?(t.destroy(),t.emit(\"error\",e)):(t.fd=n,t.emit(\"open\",n))})}function d(t,e){return new f(t,e)}function y(t,e){return new h(t,e)}function m(t,e,n,o){function r(t,e,n,o){return I(t,e,n,function(c,a){!c||\"EMFILE\"!==c.code&&\"ENFILE\"!==c.code?(\"function\"==typeof o&&o.apply(this,arguments),s()):i([r,[t,e,n,o]])})}return\"function\"==typeof n&&(o=n,n=null),r(t,e,n,o)}a(t),t.gracefulify=r,t.FileReadStream=f,t.FileWriteStream=h,t.createReadStream=d,t.createWriteStream=y;var v=t.readFile;t.readFile=e;var g=t.writeFile;t.writeFile=n;var _=t.appendFile;_&&(t.appendFile=o);var w=t.readdir;if(t.readdir=c,\"v0.8\"===process.version.substr(0,4)){var S=u(t);f=S.ReadStream,h=S.WriteStream}var E=t.ReadStream;f.prototype=Object.create(E.prototype),f.prototype.open=l;var b=t.WriteStream;h.prototype=Object.create(b.prototype),h.prototype.open=p,t.ReadStream=f,t.WriteStream=h;var I=t.open;return t.open=m,t}function i(t){h(\"ENQUEUE\",t[0].name,t[1]),f.push(t)}function s(){var t=f.shift();t&&(h(\"RETRY\",t[0].name,t[1]),t[0].apply(null,t[1]))}var c=t(\"fs\"),a=t(\"./polyfills.js\"),u=t(\"./legacy-streams.js\"),f=[],l=t(\"util\"),h=o;l.debuglog?h=l.debuglog(\"gfs4\"):/\\bgfs4\\b/i.test(process.env.NODE_DEBUG||\"\")&&(h=function(){var t=l.format.apply(l,arguments);t=\"GFS4: \"+t.split(/\\n/).join(\"\\nGFS4: \"),console.error(t)}),/\\bgfs4\\b/i.test(process.env.NODE_DEBUG||\"\")&&process.on(\"exit\",function(){h(f),t(\"assert\").equal(f.length,0)}),e.exports=r(t(\"./fs.js\")),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(e.exports=r(c)),e.exports.close=c.close=function(t){return function(e,n){return t.call(c,e,function(t){t||s(),\"function\"==typeof n&&n.apply(this,arguments)})}}(c.close),e.exports.closeSync=c.closeSync=function(t){return function(e){var n=t.apply(c,arguments);return s(),n}}(c.closeSync)},{\"./fs.js\":4,\"./legacy-streams.js\":6,\"./polyfills.js\":7,assert:void 0,fs:void 0,util:void 0}],6:[function(t,e,n){function o(t){function e(n,o){if(!(this instanceof e))return new e(n,o);r.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags=\"r\",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),c=0,a=s.length;c<a;c++){var u=s[c];this[u]=o[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if(\"number\"!=typeof this.start)throw TypeError(\"start must be a Number\");if(void 0===this.end)this.end=1/0;else if(\"number\"!=typeof this.end)throw TypeError(\"end must be a Number\");if(this.start>this.end)throw new Error(\"start must be <= end\");this.pos=this.start}return null!==this.fd?void process.nextTick(function(){i._read()}):void t.open(this.path,this.flags,this.mode,function(t,e){return t?(i.emit(\"error\",t),void(i.readable=!1)):(i.fd=e,i.emit(\"open\",e),void i._read())})}function n(e,o){if(!(this instanceof n))return new n(e,o);r.call(this),this.path=e,this.fd=null,this.writable=!0,this.flags=\"w\",this.encoding=\"binary\",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,c=i.length;s<c;s++){var a=i[s];this[a]=o[a]}if(void 0!==this.start){if(\"number\"!=typeof this.start)throw TypeError(\"start must be a Number\");if(this.start<0)throw new Error(\"start must be >= zero\");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}return{ReadStream:e,WriteStream:n}}var r=t(\"stream\").Stream;e.exports=o},{stream:void 0}],7:[function(t,e,n){function o(t){f.hasOwnProperty(\"O_SYMLINK\")&&process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)&&r(t),t.lutimes||i(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=s(t.chmod),t.fchmod=s(t.fchmod),t.lchmod=s(t.lchmod),t.chownSync=c(t.chownSync),t.fchownSync=c(t.fchownSync),t.lchownSync=c(t.lchownSync),t.chmodSync=s(t.chmodSync),t.fchmodSync=s(t.fchmodSync),t.lchmodSync=s(t.lchmodSync),t.lchmod||(t.lchmod=function(t,e,n){process.nextTick(n)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(t,e,n,o){process.nextTick(o)},t.lchownSync=function(){}),\"win32\"===process.platform&&(t.rename=function(t){return function(e,n,o){var r=Date.now();t(e,n,function i(s){return s&&(\"EACCES\"===s.code||\"EPERM\"===s.code)&&Date.now()-r<1e3?t(e,n,i):void(o&&o(s))})}}(t.rename)),t.read=function(e){return function(n,o,r,i,s,c){var a;if(c&&\"function\"==typeof c){var u=0;a=function(f,l,h){return f&&\"EAGAIN\"===f.code&&u<10?(u++,e.call(t,n,o,r,i,s,a)):void c.apply(this,arguments)}}return e.call(t,n,o,r,i,s,a)}}(t.read),t.readSync=function(e){return function(n,o,r,i,s){for(var c=0;;)try{return e.call(t,n,o,r,i,s)}catch(a){if(\"EAGAIN\"===a.code&&c<10){c++;continue}throw a}}}(t.readSync)}function r(t){t.lchmod=function(e,n,o){o=o||noop,t.open(e,f.O_WRONLY|f.O_SYMLINK,n,function(e,r){return e?void o(e):void t.fchmod(r,n,function(e){t.close(r,function(t){o(e||t)})})})},t.lchmodSync=function(e,n){var o,r=t.openSync(e,f.O_WRONLY|f.O_SYMLINK,n),i=!0;try{o=t.fchmodSync(r,n),i=!1}finally{if(i)try{t.closeSync(r)}catch(s){}else t.closeSync(r)}return o}}function i(t){f.hasOwnProperty(\"O_SYMLINK\")?(t.lutimes=function(e,n,o,r){t.open(e,f.O_SYMLINK,function(e,i){return r=r||noop,e?r(e):void t.futimes(i,n,o,function(e){t.close(i,function(t){return r(e||t)})})})},t.lutimesSync=function(e,n,o){var r,i=t.openSync(e,f.O_SYMLINK),s=!0;try{r=t.futimesSync(i,n,o),s=!1}finally{if(s)try{t.closeSync(i)}catch(c){}else t.closeSync(i)}return r}):(t.lutimes=function(t,e,n,o){process.nextTick(o)},t.lutimesSync=function(){})}function s(t){return t?function(e,n,o,r){return t.call(u,e,n,o,function(t,e){a(t)&&(t=null),r(t,e)})}:t}function c(t){return t?function(e,n,o){try{return t.call(u,e,n,o)}catch(r){if(!a(r))throw r}}:t}function a(t){if(!t)return!0;if(\"ENOSYS\"===t.code)return!0;var e=!process.getuid||0!==process.getuid();return!(!e||\"EINVAL\"!==t.code&&\"EPERM\"!==t.code)}var u=t(\"./fs.js\"),f=t(\"constants\"),l=process.cwd,h=null;process.cwd=function(){return h||(h=l.call(process)),h};try{process.cwd()}catch(p){}var d=process.chdir;process.chdir=function(t){h=null,d.call(process,t)},e.exports=o},{\"./fs.js\":4,constants:void 0}],8:[function(t,e,n){!function(){function t(e,o){var r=this instanceof t?this:n;if(r.reset(o),\"string\"==typeof e&&e.length>0&&r.hash(e),r!==this)return r}var n;t.prototype.hash=function(t){var e,n,o,r,i;switch(i=t.length,this.len+=i,n=this.k1,o=0,this.rem){case 0:n^=i>o?65535&t.charCodeAt(o++):0;case 1:n^=i>o?(65535&t.charCodeAt(o++))<<8:0;case 2:n^=i>o?(65535&t.charCodeAt(o++))<<16:0;case 3:n^=i>o?(255&t.charCodeAt(o))<<24:0,n^=i>o?(65280&t.charCodeAt(o++))>>8:0}if(this.rem=i+this.rem&3,i-=this.rem,i>0){for(e=this.h1;;){if(n=11601*n+3432906752*(65535&n)&4294967295,n=n<<15|n>>>17,n=13715*n+461832192*(65535&n)&4294967295,e^=n,e=e<<13|e>>>19,e=5*e+3864292196&4294967295,o>=i)break;n=65535&t.charCodeAt(o++)^(65535&t.charCodeAt(o++))<<8^(65535&t.charCodeAt(o++))<<16,r=t.charCodeAt(o++),n^=(255&r)<<24^(65280&r)>>8}switch(n=0,this.rem){case 3:n^=(65535&t.charCodeAt(o+2))<<16;case 2:n^=(65535&t.charCodeAt(o+1))<<8;case 1:n^=65535&t.charCodeAt(o)}this.h1=e}return this.k1=n,this},t.prototype.result=function(){var t,e;return t=this.k1,e=this.h1,t>0&&(t=11601*t+3432906752*(65535&t)&4294967295,t=t<<15|t>>>17,t=13715*t+461832192*(65535&t)&4294967295,e^=t),e^=this.len,e^=e>>>16,e=51819*e+2246770688*(65535&e)&4294967295,e^=e>>>13,e=44597*e+3266445312*(65535&e)&4294967295,e^=e>>>16,e>>>0},t.prototype.reset=function(t){return this.h1=\"number\"==typeof t?t:0,this.rem=this.k1=this.len=0,this},n=new t,\"undefined\"!=typeof e?e.exports=t:this.MurmurHash3=t}()},{}],9:[function(t,e,n){(function(){var e,o,r,i,s,c,a,u,f,l,h,p,d,y,m=function(t,e){function n(){this.constructor=t}for(var o in e)v.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;d=t(\"path\"),p=t(\"fs\"),h=t(\"events\"),y=t(\"write-file-atomic\").sync,o=\"---.EMPTY_STRING.---\",a=function(t){var e,n,o,r,i;for(r=p.readdirSync(t),i=[],e=0,n=r.length;e<n;e++)o=r[e],i.push(f(d.join(t,o)));return i},f=function(t){return p.statSync(t).isDirectory()?(a(t),p.rmdirSync(t)):p.unlinkSync(t)},u=function(t){var e;return e=\"\"===t?o:t.toString()},s=function(t){function e(t){this.message=null!=t?t:\"Unknown error.\",null!=Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}return m(e,t),e.prototype.toString=function(){return this.name+\": \"+this.message},e}(Error),c=function(){function t(t,e,n,o,r){this.key=t,this.oldValue=e,this.newValue=n,this.url=o,this.storageArea=null!=r?r:\"localStorage\"}return t}(),i=function(){function t(e,n){if(this.key=e,this.index=n,!(this instanceof t))return new t(this.key,this.index)}return t}(),l=function(){var t;return t=function(){},t.prototype=Object.create(null),new t},r=function(t){function e(t,o){return this._location=t,this.quota=null!=o?o:5242880,this instanceof e?(this._location=d.resolve(this._location),null!=n[this._location]?n[this._location]:(this.length=0,this._bytesInUse=0,this._keys=[],this._metaKeyMap=l(),this._eventUrl=\"pid:\"+process.pid,this._init(),this._QUOTA_EXCEEDED_ERR=s,n[this._location]=this,n[this._location])):new e(this._location,this.quota)}var n;return m(e,t),n={},e.prototype._init=function(){var t,e,n,o,r,s,c,a;try{if(a=p.statSync(this._location),null!=a&&!a.isDirectory())throw new Error(\"A file exists at the location '\"+this._location+\"' when trying to create/open localStorage\");for(this._bytesInUse=0,this.length=0,n=p.readdirSync(this._location),r=o=0,c=n.length;o<c;r=++o)s=n[r],e=decodeURIComponent(s),this._keys.push(e),t=new i(s,r),this._metaKeyMap[e]=t,a=this._getStat(s),null!=(null!=a?a.size:void 0)&&(t.size=a.size,this._bytesInUse+=a.size);this.length=n.length}catch(u){p.mkdirSync(this._location)}},e.prototype.setItem=function(t,e){var n,o,r,a,f,l,p,m,v,g;if(f=h.EventEmitter.listenerCount(this,\"storage\"),m=null,f&&(m=this.getItem(t)),t=u(t),n=encodeURIComponent(t),a=d.join(this._location,n),v=e.toString(),g=v.length,l=this._metaKeyMap[t],r=!!l,p=r?l.size:0,this._bytesInUse-p+g>this.quota)throw new s;if(y(a,v,\"utf8\"),r||(l=new i(n,this._keys.push(t)-1),l.size=g,this._metaKeyMap[t]=l,this.length+=1,this._bytesInUse+=g),f)return o=new c(t,m,e,this._eventUrl),this.emit(\"storage\",o)},e.prototype.getItem=function(t){var e,n;return t=u(t),n=this._metaKeyMap[t],n?(e=d.join(this._location,n.key),p.readFileSync(e,\"utf8\")):null},e.prototype._getStat=function(t){var e;t=u(t),e=d.join(this._location,encodeURIComponent(t));try{return p.statSync(e)}catch(n){return null}},e.prototype.removeItem=function(t){var e,n,o,r,i,s,a,l,p;if(t=u(t),s=this._metaKeyMap[t]){o=h.EventEmitter.listenerCount(this,\"storage\"),a=null,o&&(a=this.getItem(t)),delete this._metaKeyMap[t],this.length-=1,this._bytesInUse-=s.size,n=d.join(this._location,s.key),this._keys.splice(s.index,1),l=this._metaKeyMap;for(r in l)p=l[r],i=this._metaKeyMap[r],i.index>s.index&&(i.index-=1);if(f(n),o)return e=new c(t,a,null,this._eventUrl),this.emit(\"storage\",e)}},e.prototype.key=function(t){return this._keys[t]},e.prototype.clear=function(){var t;if(a(this._location),this._metaKeyMap=l(),this._keys=[],this.length=0,this._bytesInUse=0,h.EventEmitter.listenerCount(this,\"storage\"))return t=new c(null,null,null,this._eventUrl),this.emit(\"storage\",t)},e.prototype._getBytesInUse=function(){return this._bytesInUse},e.prototype._deleteLocation=function(){return delete n[this._location],f(this._location),this._metaKeyMap={},this._keys=[],this.length=0,this._bytesInUse=0},e}(h.EventEmitter),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return m(e,t),e.prototype.setItem=function(t,n){var o;return o=JSON.stringify(n),e.__super__.setItem.call(this,t,o)},e.prototype.getItem=function(t){return JSON.parse(e.__super__.getItem.call(this,t))},e}(r),n.LocalStorage=r,n.JSONStorage=e,n.QUOTA_EXCEEDED_ERR=s}).call(this)},{events:void 0,fs:void 0,path:void 0,\"write-file-atomic\":14}],10:[function(t,e,n){function o(){function t(u){u&&!s&&(s=u);for(var f=arguments.length,l=1;l<f;l++)void 0!==arguments[l]&&(i[l-1]=(i[l-1]||[]).concat(arguments[l]));if(n.length>c){var h=n.slice(c);a+=(n.length-c)*r,c=n.length,process.nextTick(function(){h.forEach(function(n){e.forEach(function(e){e(n,t)})})})}0===--a&&o.apply(null,[s].concat(i))}var e=Array.prototype.slice.call(arguments),n=e.shift()||[],o=e.pop();if(\"function\"!=typeof o)throw new Error(\"No callback provided to asyncMap\");if(!n)return o(null,[]);Array.isArray(n)||(n=[n]);var r=e.length,i=[],s=null,c=n.length,a=c*r;return a?void n.forEach(function(n){e.forEach(function(e){e(n,t)})}):o(null,[])}e.exports=o},{}],11:[function(t,e,n){function o(){var t,e=Array.prototype.slice.call(arguments),n=null;return\"object\"==typeof e[0]?(n=e.shift(),t=e.shift(),\"string\"==typeof t&&(t=n[t])):t=e.shift(),function(o){t.apply(n,e.concat(o))}}e.exports=o},{}],12:[function(t,e,n){function o(t,e){var n=[];!function i(s,c){return s>=c?e(null,n):(Array.isArray(t[s])&&(t[s]=r.apply(null,t[s].map(function(t){return t===o.first?n[0]:t===o.last?n[n.length-1]:t}))),t[s]?void t[s](function(t,o){return t?e(t,n):(void 0!==o&&(n=n.concat(o)),void i(s+1,c))}):i(s+1,c))}(0,t.length)}e.exports=o;var r=t(\"./bind-actor.js\");o.first={},o.last={}},{\"./bind-actor.js\":11}],13:[function(t,e,n){n.asyncMap=t(\"./async-map\"),n.bindActor=t(\"./bind-actor\"),n.chain=t(\"./chain\")},{\"./async-map\":10,\"./bind-actor\":11,\"./chain\":12}],14:[function(t,e,n){(function(n){\"use strict\";function o(){for(var t=new s,e=0;e<arguments.length;++e)t.hash(\"\"+arguments[e]);return t.result()}var r=t(\"graceful-fs\"),i=t(\"slide\").chain,s=t(\"imurmurhash\"),c=0,a=function(t){return t+\".\"+o(n,process.pid,++c)};e.exports=function(t,e,n,o){n instanceof Function&&(o=n,n=null),n||(n={});var s=a(t);i([[r,r.writeFile,s,e,n],n.chown&&[r,r.chown,s,n.chown.uid,n.chown.gid],[r,r.rename,s,t]],function(t){t?r.unlink(s,function(){o(t)}):o()})},e.exports.sync=function(t,e,n){n||(n={});var o=a(t);try{r.writeFileSync(o,e,n),n.chown&&r.chownSync(o,n.chown.uid,n.chown.gid),r.renameSync(o,t)}catch(i){try{r.unlinkSync(o)}catch(s){}throw i}}}).call(this,\"/home/vsilva/pt-inovacao/rethink-project/dev-service-framework/node_modules/write-file-atomic/index.js\")},{\"graceful-fs\":5,imurmurhash:8,slide:13}],15:[function(t,e,n){\"use strict\";function o(t){return t&&t.__esModule?t:{\"default\":t}}Object.defineProperty(n,\"__esModule\",{value:!0});var r=t(\"babel-runtime/core-js/json/stringify\"),i=o(r),s=t(\"./universal-localstorage\"),c=o(s),a={set:function(t,e,n){c[\"default\"].setItem(t,(0,i[\"default\"])({version:e,value:n}))},get:function(t){try{return JSON.parse(c[\"default\"].getItem(t)).value}catch(e){}},getVersion:function(t){try{return JSON.parse(c[\"default\"].getItem(t)).version}catch(e){}},\"delete\":function(t){c[\"default\"].removeItem(t)}};n[\"default\"]=a,e.exports=n[\"default\"]},{\"./universal-localstorage\":17,\"babel-runtime/core-js/json/stringify\":1}],16:[function(t,e,n){\"use strict\";function o(t){return t&&t.__esModule?t:{\"default\":t}}var r=t(\"babel-runtime/core-js/json/stringify\"),i=o(r);\"undefined\"!=typeof window.localStorage&&\"undefined\"!=typeof window.sessionStorage||function(){var t=function(t){function e(t,e,n){var o,r;n?(o=new Date,o.setTime(o.getTime()+24*n*60*60*1e3),r=\"; expires=\"+o.toGMTString()):r=\"\",document.cookie=t+\"=\"+e+r+\"; path=/\"}function n(t){var e,n,o=t+\"=\",r=document.cookie.split(\";\");for(e=0;e<r.length;e++){for(n=r[e];\" \"==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return null}function o(n){n=(0,i[\"default\"])(n),\"session\"==t?window.name=n:e(\"localStorage\",n,365)}function r(){\"session\"==t?window.name=\"\":e(\"localStorage\",\"\",365)}function s(){var e=\"session\"==t?window.name:n(\"localStorage\");return e?JSON.parse(e):{}}var c=s();return{length:0,clear:function(){c={},this.length=0,r()},getItem:function(t){return void 0===c[t]?null:c[t]},key:function(t){var e=0;for(var n in c){if(e==t)return n;e++}return null},removeItem:function(t){delete c[t],this.length--,o(c)},setItem:function(t,e){c[t]=e+\"\",this.length++,o(c)}}};\"undefined\"==typeof window.localStorage&&(window.localStorage=new t(\"local\")),\"undefined\"==typeof window.sessionStorage&&(window.sessionStorage=new t(\"session\"))}()},{\"babel-runtime/core-js/json/stringify\":1}],17:[function(t,e,n){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var o=void 0;if(\"undefined\"==typeof window){var r=t(\"node-localstorage\").LocalStorage;o=new r(\"./uls-scratch\")}else o=\"undefined\"==typeof window.localStorage||\"undefined\"==typeof window.sessionStorage?t(\"./rem-localstorage\"):window.localStorage;n[\"default\"]=o,e.exports=n[\"default\"]},{\"./rem-localstorage\":16,\"node-localstorage\":9}]},{},[15])(15)});\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":85}],87:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CombiningAlgorithm = function CombiningAlgorithm() {\n  (0, _classCallCheck3.default)(this, CombiningAlgorithm);\n};\n\nexports.default = CombiningAlgorithm;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":9}],88:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Operators = function () {\n  function Operators() {\n    (0, _classCallCheck3.default)(this, Operators);\n  }\n\n  (0, _createClass3.default)(Operators, [{\n    key: 'and',\n    value: function and(params) {\n      return params[0] && params[1];\n    }\n  }, {\n    key: 'between',\n    value: function between(params) {\n      var start = parseInt(params[0][0]);\n      var end = parseInt(params[0][1]);\n      var now = params[1];\n\n      if (end < start) {\n        now = now < start ? now += 2400 : now;\n        end += 2400;\n      }\n\n      return now > start && now < end;\n    }\n  }, {\n    key: 'equals',\n    value: function equals(params) {\n      return params[0] === '*' || params[0] === params[1];\n    }\n  }, {\n    key: 'in',\n    value: function _in(params) {\n      return params[0].indexOf(params[1]) > -1;\n    }\n  }, {\n    key: 'not',\n    value: function not(params) {\n      return !params[0];\n    }\n  }, {\n    key: 'or',\n    value: function or(params) {\n      return params[0] || params[1];\n    }\n  }]);\n  return Operators;\n}();\n\nexports.default = Operators;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],89:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Operators = require('./Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nvar _RuntimeCoreCtx = require('./context/RuntimeCoreCtx');\n\nvar _RuntimeCoreCtx2 = _interopRequireDefault(_RuntimeCoreCtx);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* The Policy Decision Point (PDP) decides if a message is to be authorised by checking a set of\n* policies. The resource to be verified is specified in the first word of the 'condition' field of\n* a Policy object. The implementation that verifies if the message is compliant with a policy is\n* specified in a hashtable to allow dynamic definition of the implementation, providing\n* extensibility to the Policy Engine functionalities.\n*/\n\nvar PDP = function () {\n  function PDP(context) {\n    (0, _classCallCheck3.default)(this, PDP);\n\n    this.context = context;\n    this.operators = new _Operators2.default();\n  }\n\n  (0, _createClass3.default)(PDP, [{\n    key: 'applyPolicies',\n    value: function applyPolicies(message, policies) {\n      var result = this.evaluateSPPolicy(message, policies.serviceProviderPolicy);\n      if (this.context instanceof _RuntimeCoreCtx2.default && (result || result === 'Not Applicable')) {\n        result = this.evaluateUserPolicy(message, policies.userPolicy);\n      }\n      return result;\n    }\n  }, {\n    key: 'evaluateSPPolicy',\n    value: function evaluateSPPolicy(message, policy) {\n      var result = void 0;\n\n      if (policy) {\n        result = policy.evaluate(this.context, message);\n      } else {\n        result = 'Not Applicable';\n      }\n\n      return result;\n    }\n  }, {\n    key: 'evaluateUserPolicy',\n    value: function evaluateUserPolicy(message, title) {\n      var result = void 0;\n\n      if (title !== undefined) {\n        var policy = this.context.userPolicies[title];\n        if (policy) {\n          result = policy.evaluate(this.context, message);\n        } else {\n          result = 'Not Applicable';\n        }\n      } else {\n        result = 'Not Applicable';\n      }\n\n      return result;\n    }\n  }, {\n    key: 'context',\n    get: function get() {\n      return this._context;\n    },\n    set: function set(context) {\n      this._context = context;\n    }\n  }, {\n    key: 'operators',\n    get: function get() {\n      return this._operators;\n    },\n    set: function set(operators) {\n      this._operators = operators;\n    }\n  }]);\n  return PDP;\n}();\n\nexports.default = PDP;\nmodule.exports = exports['default'];\n\n},{\"./Operators\":88,\"./context/RuntimeCoreCtx\":99,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],90:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PEP = function () {\n  function PEP(context) {\n    (0, _classCallCheck3.default)(this, PEP);\n\n    this.context = context;\n  }\n\n  (0, _createClass3.default)(PEP, [{\n    key: \"enforcePolicies\",\n    value: function enforcePolicies(message, policies, authDecision) {\n      var policy = void 0;\n\n      if (policies.userPolicy) {\n        policy = this.context.userPolicies[policies.userPolicy];\n        if (policy) {\n          policy.enforceActions(this.context, message, authDecision);\n        }\n      }\n      policy = this.context.serviceProviderPolicy;\n      if (policy) {\n        policy.enforceActions(this.context, message, authDecision);\n      }\n    }\n\n    /*sendAutomaticMessage() {}\n     forwardToID() {}\n     forwardToHyperty() {}*/\n\n  }]);\n  return PEP;\n}();\n\nexports.default = PEP;\nmodule.exports = exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],91:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _DenyOverrides = require('./combiningAlgorithms/DenyOverrides');\n\nvar _DenyOverrides2 = _interopRequireDefault(_DenyOverrides);\n\nvar _FirstApplicable = require('./combiningAlgorithms/FirstApplicable');\n\nvar _FirstApplicable2 = _interopRequireDefault(_FirstApplicable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Policy = function () {\n  function Policy(key, rules, actions, combiningAlgorithm) {\n    (0, _classCallCheck3.default)(this, Policy);\n\n    this.actions = actions;\n    this.key = key;\n    this.rules = rules;\n    this.combiningAlgorithm = combiningAlgorithm;\n    this.isActive = false;\n  }\n\n  (0, _createClass3.default)(Policy, [{\n    key: 'addRule',\n\n\n    //TODO: FIX\n    value: function addRule(rule) {\n      this._rules.push(rule);\n    }\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(scope, target, condition) {\n      delete this.rules[scope][target][condition];\n    }\n  }, {\n    key: 'enforceActions',\n    value: function enforceActions(context, message, authDecision) {\n      for (var i in this.actions) {\n        context[this.actions[i]](message, authDecision);\n      }\n    }\n  }, {\n    key: 'evaluate',\n    value: function evaluate(context, message) {\n      var results = [];\n\n      for (var i in this.rules) {\n        results.push(this.rules[i].evaluate(context, message));\n      }\n\n      return this.combiningAlgorithm.evaluate(results);\n    }\n  }, {\n    key: 'actions',\n    get: function get() {\n      return this._actions;\n    },\n    set: function set(actions) {\n      this._actions = actions;\n    }\n  }, {\n    key: 'combiningAlgorithm',\n    get: function get() {\n      return this._combiningAlgorithm;\n    },\n    set: function set(combiningAlgorithm) {\n      if (combiningAlgorithm === 'denyOverrides') {\n        this._combiningAlgorithm = new _DenyOverrides2.default();\n      } else {\n        if (combiningAlgorithm === 'firstApplicable') {\n          this._combiningAlgorithm = new _FirstApplicable2.default();\n        } else {\n          throw Error('Unknown algorithm: ' + combiningAlgorithm);\n        }\n      }\n    }\n  }, {\n    key: 'isActive',\n    get: function get() {\n      return this._isActive;\n    },\n    set: function set(isActive) {\n      this._isActive = isActive;\n    }\n  }, {\n    key: 'key',\n    get: function get() {\n      return this._key;\n    },\n    set: function set(key) {\n      this._key = key;\n    }\n  }, {\n    key: 'rules',\n    get: function get() {\n      return this._rules;\n    },\n    set: function set(rules) {\n      this._rules = rules;\n    }\n  }]);\n  return Policy;\n}();\n\nexports.default = Policy;\nmodule.exports = exports['default'];\n\n},{\"./combiningAlgorithms/DenyOverrides\":94,\"./combiningAlgorithms/FirstApplicable\":95,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],92:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _PEP = require('./PEP');\n\nvar _PEP2 = _interopRequireDefault(_PEP);\n\nvar _PDP = require('./PDP');\n\nvar _PDP2 = _interopRequireDefault(_PDP);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PolicyEngine = function () {\n  function PolicyEngine(context) {\n    (0, _classCallCheck3.default)(this, PolicyEngine);\n\n    this.context = context;\n    this.context.policyEngine = this;\n    this.pdp = new _PDP2.default(context);\n    this.pep = new _PEP2.default(context);\n  }\n\n  (0, _createClass3.default)(PolicyEngine, [{\n    key: 'addPolicy',\n    value: function addPolicy(source, key, policy) {\n      if (source === 'SERVICE_PROVIDER') {\n        this.context.serviceProviderPolicies[key] = policy;\n      } else {\n        if (source === 'USER') {\n          this.context.userPolicies[key] = policy;\n        } else {\n          throw Error('Unknown policy source: ' + source);\n        }\n      }\n    }\n  }, {\n    key: 'removePolicy',\n    value: function removePolicy(source, key) {\n      if (source === '*') {\n        this.context.serviceProviderPolicies = {};\n        this.context.userPolicies = {};\n        this.context.activeUserPolicy = undefined;\n      } else {\n        if (source === 'SERVICE_PROVIDER') {\n          delete this.context.serviceProviderPolicies[key];\n        } else {\n          if (source === 'USER') {\n            delete this.context.userPolicies[key];\n          } else {\n            throw Error('Unknown policy source: ' + source);\n          }\n        }\n      }\n    }\n  }, {\n    key: 'removeRule',\n    value: function removeRule(key, rule) {\n      delete this.context.userPolicies[key][rule.scope][rule.target][rule.condition];\n    }\n  }, {\n    key: 'authorise',\n    value: function authorise(message) {\n      var _this = this;\n      return _this.context.authorise(message);\n    }\n  }, {\n    key: 'getGroupsNames',\n    value: function getGroupsNames(scope, target) {\n      var myGroups = this.context.groups;\n      var groupsNames = [];\n      if (myGroups[scope][target] !== undefined) {\n        for (var groupName in myGroups[scope][target]) {\n          groupsNames.push(groupName);\n        }\n      }\n      return groupsNames;\n    }\n  }, {\n    key: 'getGroup',\n    value: function getGroup(scope, target, groupName) {\n      var myGroups = this.context.groups;\n      var members = [];\n\n      if (myGroups[scope] !== undefined && myGroups[scope][target] !== undefined && myGroups[scope][target][groupName] !== undefined) {\n        members = myGroups[scope][target][groupName];\n      }\n\n      return members;\n    }\n\n    /**\n    * Creates a group with the given name.\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'createGroup',\n    value: function createGroup(scope, target, groupName) {\n      var myGroups = this.context.groups;\n\n      if (myGroups[scope] === undefined) {\n        myGroups[scope] = {};\n      }\n      if (myGroups[scope][target] === undefined) {\n        myGroups[scope][target] = {};\n      }\n\n      myGroups[scope][target][groupName] = [];\n    }\n  }, {\n    key: 'deleteGroup',\n    value: function deleteGroup(scope, target, groupName) {\n      delete this.context.groups[scope][target][groupName];\n    }\n\n    /**\n    * Adds the given user email to the group with the given name.\n    * @param  {String}  userEmail\n    * @param  {String}  groupName\n    */\n\n  }, {\n    key: 'addToGroup',\n    value: function addToGroup(scope, target, groupName, userEmail) {\n      var myGroups = this.context.groups;\n      if (myGroups[scope] === undefined) {\n        myGroups[scope] = {};\n      }\n      if (myGroups[scope][target] === undefined) {\n        myGroups[scope][target] = {};\n      }\n      if (myGroups[scope][target][groupName] === undefined) {\n        this.createGroup(scope, target, groupName);\n      }\n      if (myGroups[scope][target][groupName].indexOf(userEmail) === -1) {\n        myGroups[scope][target][groupName].push(userEmail);\n      }\n    }\n  }, {\n    key: 'removeFromGroup',\n    value: function removeFromGroup(scope, target, groupName, userEmail) {\n      var myGroups = this.context.groups;\n      var group = myGroups[scope][target][groupName];\n\n      group.splice(group.indexOf(userEmail), 1);\n    }\n  }, {\n    key: 'context',\n    get: function get() {\n      return this._context;\n    },\n    set: function set(context) {\n      this._context = context;\n    }\n  }, {\n    key: 'pdp',\n    get: function get() {\n      return this._pdp;\n    },\n    set: function set(pdp) {\n      this._pdp = pdp;\n    }\n  }, {\n    key: 'pep',\n    get: function get() {\n      return this._pep;\n    },\n    set: function set(pep) {\n      this._pep = pep;\n    }\n  }]);\n  return PolicyEngine;\n}();\n\nexports.default = PolicyEngine;\nmodule.exports = exports['default'];\n\n},{\"./PDP\":89,\"./PEP\":90,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],93:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Operators = require('./Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Rule = function () {\n  function Rule(authorise, condition, scope, target) {\n    (0, _classCallCheck3.default)(this, Rule);\n\n    this.operators = new _Operators2.default();\n    this.authorise = authorise;\n    this.condition = condition;\n    this.scope = scope;\n    this.target = target;\n  }\n\n  (0, _createClass3.default)(Rule, [{\n    key: 'evaluate',\n    value: function evaluate(context, message) {\n      if (this.condition.isApplicable(context, message, this.scope, this.target)) {\n        return this.authorise;\n      } else {\n        return 'Not Applicable';\n      }\n    }\n  }, {\n    key: 'authorise',\n    get: function get() {\n      return this._authorise;\n    },\n    set: function set(decision) {\n      this._authorise = decision;\n    }\n  }, {\n    key: 'condition',\n    get: function get() {\n      return this._condition;\n    },\n    set: function set(condition) {\n      this._condition = condition;\n    }\n  }, {\n    key: 'scope',\n    get: function get() {\n      return this._scope;\n    },\n    set: function set(scope) {\n      this._scope = scope;\n    }\n  }, {\n    key: 'target',\n    get: function get() {\n      return this._target;\n    },\n    set: function set(target) {\n      this._target = target;\n    }\n  }]);\n  return Rule;\n}();\n\nexports.default = Rule;\nmodule.exports = exports['default'];\n\n},{\"./Operators\":88,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],94:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CombiningAlgorithm2 = require('../CombiningAlgorithm');\n\nvar _CombiningAlgorithm3 = _interopRequireDefault(_CombiningAlgorithm2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DenyOverrides = function (_CombiningAlgorithm) {\n  (0, _inherits3.default)(DenyOverrides, _CombiningAlgorithm);\n\n  function DenyOverrides() {\n    (0, _classCallCheck3.default)(this, DenyOverrides);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(DenyOverrides).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(DenyOverrides, [{\n    key: 'evaluate',\n    value: function evaluate(individualResults) {\n      if (individualResults.indexOf(false) !== -1) {\n        return false;\n      } else {\n        if (individualResults.indexOf(true) !== -1) {\n          return true;\n        } else {\n          return 'Not Applicable';\n        }\n      }\n    }\n  }]);\n  return DenyOverrides;\n}(_CombiningAlgorithm3.default);\n\nexports.default = DenyOverrides;\nmodule.exports = exports['default'];\n\n},{\"../CombiningAlgorithm\":87,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":11,\"babel-runtime/helpers/possibleConstructorReturn\":12}],95:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CombiningAlgorithm2 = require('../CombiningAlgorithm');\n\nvar _CombiningAlgorithm3 = _interopRequireDefault(_CombiningAlgorithm2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FirstApplicable = function (_CombiningAlgorithm) {\n  (0, _inherits3.default)(FirstApplicable, _CombiningAlgorithm);\n\n  function FirstApplicable() {\n    (0, _classCallCheck3.default)(this, FirstApplicable);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(FirstApplicable).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(FirstApplicable, [{\n    key: 'evaluate',\n    value: function evaluate(individualResults) {\n      for (var i in individualResults) {\n        if (individualResults[i] !== 'Not Applicable') {\n          return individualResults[i];\n        }\n      }\n\n      return 'Not Applicable';\n    }\n  }]);\n  return FirstApplicable;\n}(_CombiningAlgorithm3.default);\n\nexports.default = FirstApplicable;\nmodule.exports = exports['default'];\n\n},{\"../CombiningAlgorithm\":87,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":11,\"babel-runtime/helpers/possibleConstructorReturn\":12}],96:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _Operators = require('../Operators');\n\nvar _Operators2 = _interopRequireDefault(_Operators);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Condition = function () {\n  function Condition(attribute, operator, params) {\n    (0, _classCallCheck3.default)(this, Condition);\n\n    this.attribute = attribute;\n    this.operator = operator;\n    this.params = params;\n    this.operators = new _Operators2.default();\n  }\n\n  (0, _createClass3.default)(Condition, [{\n    key: 'isApplicable',\n    value: function isApplicable(context, message) {\n      context[this.attribute] = { message: message };\n      var value = context[this.attribute];\n\n      if (this.operator === 'in') {\n        // source in preauth\n        var dataObjectURL = message.to.split('/');\n        dataObjectURL.pop();\n        dataObjectURL = dataObjectURL[0] + '//' + dataObjectURL[2];\n        this.params = context.runtimeRegistry.getPreAuthSubscribers(dataObjectURL);\n      }\n\n      return this.operators[this.operator]([this.params, value]);\n    }\n  }, {\n    key: 'attribute',\n    get: function get() {\n      return this._attribute;\n    },\n    set: function set(attribute) {\n      this._attribute = attribute;\n    }\n  }, {\n    key: 'operator',\n    get: function get() {\n      return this._operator;\n    },\n    set: function set(operator) {\n      this._operator = operator;\n    }\n  }, {\n    key: 'params',\n    get: function get() {\n      return this._params;\n    },\n    set: function set(params) {\n      this._params = params;\n    }\n  }]);\n  return Condition;\n}();\n\nexports.default = Condition;\nmodule.exports = exports['default'];\n\n},{\"../Operators\":88,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],97:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Condition2 = require('./Condition');\n\nvar _Condition3 = _interopRequireDefault(_Condition2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SubscriptionCondition = function (_Condition) {\n  (0, _inherits3.default)(SubscriptionCondition, _Condition);\n\n  function SubscriptionCondition(attribute, operator, params) {\n    (0, _classCallCheck3.default)(this, SubscriptionCondition);\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(SubscriptionCondition).call(this, attribute, operator, params));\n  }\n\n  (0, _createClass3.default)(SubscriptionCondition, [{\n    key: 'isApplicable',\n    value: function isApplicable(context, message, scope, target) {\n      var isSubscription = message.type === 'subscribe';\n      var isFromRemoteSM = context.isFromRemoteSM(message.from);\n      if (isSubscription & isFromRemoteSM) {\n        var applicable = void 0;\n        switch (scope) {\n          case 'global':\n            applicable = true;\n            break;\n          case 'hyperty':\n            var hypertyURL = context.runtimeRegistry.getHypertyName();\n            applicable = target === hypertyURL;\n            break;\n          case 'user':\n            var hyperty = context.runtimeRegistry.getReporterURLSynchonous(context.getURL(message.to));\n            var owner = context.runtimeRegistry.getHypertyOwner(hyperty);\n            applicable = target === owner;\n            break;\n          case 'dataObject':\n            var dataObjectURL = message.body.resource;\n            applicable = target === dataObjectURL;\n            break;\n        }\n        return applicable;\n      } else {\n        return false;\n      }\n    }\n  }]);\n  return SubscriptionCondition;\n}(_Condition3.default);\n\nexports.default = SubscriptionCondition;\nmodule.exports = exports['default'];\n\n},{\"./Condition\":96,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":11,\"babel-runtime/helpers/possibleConstructorReturn\":12}],98:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _utils = require('../../utils/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CommonCtx = function () {\n  function CommonCtx() {\n    (0, _classCallCheck3.default)(this, CommonCtx);\n\n    this.serviceProviderPolicies = {};\n    this.defaultBehavior = true;\n    this.groups = {};\n  }\n\n  (0, _createClass3.default)(CommonCtx, [{\n    key: 'defaultBehavior',\n    get: function get() {\n      return this._defaultBehavior;\n    },\n    set: function set(behavior) {\n      this._defaultBehavior = behavior;\n    }\n  }, {\n    key: 'serviceProviderPolicies',\n    get: function get() {\n      return this._serviceProviderPolicies;\n    },\n    set: function set(policies) {\n      this._serviceProviderPolicies = policies;\n    }\n  }, {\n    key: 'date',\n    set: function set(now) {\n      if (!now.message) {\n        if (typeof now === 'string') {\n          this._date = now;\n        } else {\n          var date = new Date();\n          var day = String(date.getDate());\n          if (day.length === 1) {\n            day = '0' + day;\n          }\n          var month = String(date.getMonth() + 1);\n          if (month.length === 1) {\n            month = '0' + month;\n          }\n\n          this._date = day + '/' + month + '/' + date.getFullYear();\n        }\n      }\n    },\n    get: function get() {\n      return this._date;\n    }\n  }, {\n    key: 'domain',\n    set: function set(params) {\n      this._domain = (0, _utils.divideEmail)(params.message.body.identity.userProfile.username).domain;\n    },\n    get: function get() {\n      return this._domain;\n    }\n  }, {\n    key: 'source',\n    set: function set(params) {\n      this._source = params.message.body.identity.userProfile.username;\n    },\n    get: function get() {\n      var _this = this;\n      return _this._source;\n    }\n  }, {\n    key: 'time',\n    set: function set(now) {\n      if (!now.message) {\n        if (now) {\n          this._time = now;\n        } else {\n          var _now = new Date();\n          var minutes = String(_now.getMinutes());\n          if (minutes.length === 1) {\n            minutes = '0' + minutes;\n          }\n          this._time = parseInt(String(_now.getHours()) + minutes);\n        }\n      }\n    },\n    get: function get() {\n      var _this = this;\n      return _this._time;\n    }\n  }, {\n    key: 'weekday',\n    set: function set(now) {\n      if (!now.message) {\n        if (now) {\n          this._weekday = now;\n        } else {\n          this._weekday = String(new Date().getDay());\n        }\n      }\n    },\n    get: function get() {\n      return this._weekday;\n    }\n  }]);\n  return CommonCtx;\n}();\n\nexports.default = CommonCtx;\nmodule.exports = exports['default'];\n\n},{\"../../utils/utils\":101,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10}],99:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _CommonCtx2 = require('./CommonCtx');\n\nvar _CommonCtx3 = _interopRequireDefault(_CommonCtx2);\n\nvar _utils = require('../../utils/utils');\n\nvar _PersistenceManager = require('service-framework/dist/PersistenceManager');\n\nvar _PersistenceManager2 = _interopRequireDefault(_PersistenceManager);\n\nvar _Rule = require('../Rule');\n\nvar _Rule2 = _interopRequireDefault(_Rule);\n\nvar _UserPolicy = require('../policies/UserPolicy');\n\nvar _UserPolicy2 = _interopRequireDefault(_UserPolicy);\n\nvar _SubscriptionCondition = require('../conditions/SubscriptionCondition');\n\nvar _SubscriptionCondition2 = _interopRequireDefault(_SubscriptionCondition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RuntimeCoreCtx = function (_CommonCtx) {\n  (0, _inherits3.default)(RuntimeCoreCtx, _CommonCtx);\n\n  function RuntimeCoreCtx(idModule, runtimeRegistry) {\n    (0, _classCallCheck3.default)(this, RuntimeCoreCtx);\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(RuntimeCoreCtx).call(this));\n\n    _this2.idModule = idModule;\n    _this2.runtimeRegistry = runtimeRegistry;\n    _this2.activeUserPolicy = undefined;\n    _this2.userPolicies = {};\n    return _this2;\n  }\n\n  (0, _createClass3.default)(RuntimeCoreCtx, [{\n    key: 'authorise',\n    value: function authorise(message) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        console.log('--- Policy Engine ---');\n        console.log(message);\n        message.body = message.body || {};\n        var result = void 0;\n        var isToVerify = _this._isToVerify(message);\n        var isIncomingMessage = _this._isIncomingMessage(message);\n        var isToCypher = _this._isToCypherModule(message);\n        if (isToVerify) {\n          if (isIncomingMessage) {\n            if (isToCypher) {\n              _this.decrypt(message).then(function (message) {\n                var policies = {\n                  serviceProviderPolicy: _this.getServiceProviderPolicy(message, isIncomingMessage),\n                  userPolicy: _this.activeUserPolicy\n                };\n                result = _this.policyEngine.pdp.applyPolicies(message, policies);\n                _this.policyEngine.pep.enforcePolicies(message, policies, result);\n                if (result === 'Not Applicable') {\n                  result = _this.defaultBehavior;\n                  message.body.auth = false;\n                }\n                if (result) {\n                  message.body.auth = message.body.auth === undefined ? true : message.body.auth;\n                  resolve(message);\n                } else {\n                  reject('Message blocked');\n                }\n              }, function (error) {\n                reject(error);\n              });\n            } else {\n              var policies = {\n                serviceProviderPolicy: _this.getServiceProviderPolicy(message, isIncomingMessage),\n                userPolicy: _this.activeUserPolicy\n              };\n              result = _this.policyEngine.pdp.applyPolicies(message, policies);\n              _this.policyEngine.pep.enforcePolicies(message, policies, result);\n              if (result === 'Not Applicable') {\n                result = _this.defaultBehavior;\n                message.body.auth = false;\n              }\n              if (result) {\n                message.body.auth = message.body.auth === undefined ? true : message.body.auth;\n                resolve(message);\n              } else {\n                reject('Message blocked');\n              }\n            }\n          } else {\n            var isToSetID = _this._isToSetID(message);\n            if (isToSetID) {\n              _this._getIdentity(message).then(function (identity) {\n                message.body.identity = identity;\n                var policies = {\n                  serviceProviderPolicy: _this.getServiceProviderPolicy(message, isIncomingMessage),\n                  userPolicy: _this.activeUserPolicy\n                };\n                result = _this.policyEngine.pdp.applyPolicies(message, policies);\n                _this.policyEngine.pep.enforcePolicies(message, policies, result);\n                if (result === 'Not Applicable') {\n                  result = _this.defaultBehavior;\n                  message.body.auth = false;\n                }\n                if (result) {\n                  message.body.auth = message.body.auth === undefined ? true : message.body.auth;\n                  if (isToCypher) {\n                    _this.encrypt(message).then(function (message) {\n                      resolve(message);\n                    }, function (error) {\n                      reject(error);\n                    });\n                  } else {\n                    resolve(message);\n                  }\n                } else {\n                  reject('Message blocked');\n                }\n              }, function (error) {\n                reject(error);\n              });\n            } else {\n              var _policies = {\n                serviceProviderPolicy: _this.getServiceProviderPolicy(message, isIncomingMessage),\n                userPolicy: _this.activeUserPolicy\n              };\n              result = _this.policyEngine.pdp.applyPolicies(message, _policies);\n              _this.policyEngine.pep.enforcePolicies(message, _policies, result);\n              if (result === 'Not Applicable') {\n                result = _this.defaultBehavior;\n                message.body.auth = false;\n              }\n              if (result) {\n                message.body.auth = message.body.auth === undefined ? true : message.body.auth;\n                resolve(message);\n              } else {\n                reject('Message blocked');\n              }\n            }\n          }\n        } else {\n          result = _this.defaultBehavior;\n          message.body.auth = false;\n          if (result) {\n            resolve(message);\n          } else {\n            reject('Message blocked');\n          }\n        }\n      });\n    }\n  }, {\n    key: 'decrypt',\n    value: function decrypt(message) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this.idModule.decryptMessage(message).then(function (msg) {\n          resolve(msg);\n        }, function (error) {\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: 'doMutualAuthentication',\n    value: function doMutualAuthentication(message, authDecision) {\n      if (authDecision) {\n        var to = message.to.split('/');\n        var subsIndex = to.indexOf('subscription');\n        var isDataObjectSubscription = subsIndex !== -1;\n        var isFromRemoteSM = this.isFromRemoteSM(message.from);\n        if (isDataObjectSubscription & isFromRemoteSM) {\n          to.pop();\n          var dataObjectURL = to[0] + '//' + to[2] + '/' + to[3];\n          if (to.length > 4) {\n            dataObjectURL = to[0] + '//' + to[2] + '/' + to[3] + '/' + to[4];\n          }\n          this.idModule.doMutualAuthentication(dataObjectURL, message.body.subscriber);\n        }\n      }\n    }\n  }, {\n    key: 'encrypt',\n    value: function encrypt(message) {\n      var _this = this;\n\n      return new _promise2.default(function (resolve, reject) {\n        _this.idModule.encryptMessage(message).then(function (msg) {\n          resolve(msg);\n        }, function (error) {\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: 'getServiceProviderPolicy',\n    value: function getServiceProviderPolicy(message, isIncoming) {\n      var policy = void 0;\n\n      if (isIncoming) {\n        var toHyperty = this.runtimeRegistry.getHypertyName(message.to);\n        policy = this.serviceProviderPolicies[toHyperty];\n      } else {\n        var fromHyperty = this.runtimeRegistry.getHypertyName(message.from);\n        policy = this.serviceProviderPolicies[fromHyperty];\n      }\n      return policy;\n    }\n  }, {\n    key: 'isFromRemoteSM',\n    value: function isFromRemoteSM(from) {\n      var splitFrom = from.split('://');\n      return splitFrom[0] === 'runtime' && from !== this.runtimeRegistry.runtimeURL + '/sm';\n    }\n  }, {\n    key: '_isToSetID',\n    value: function _isToSetID(message) {\n      var schemasToIgnore = ['domain-idp', 'runtime', 'domain'];\n      var splitFrom = message.from.split('://');\n      var fromSchema = splitFrom[0];\n\n      return schemasToIgnore.indexOf(fromSchema) === -1;\n    }\n  }, {\n    key: '_isIncomingMessage',\n    value: function _isIncomingMessage(message) {\n      return message.body.identity ? true : false;\n    }\n  }, {\n    key: 'getURL',\n    value: function getURL(url) {\n      var splitURL = url.split('/');\n      return splitURL[0] + '//' + splitURL[2] + '/' + splitURL[3];\n    }\n  }, {\n    key: '_getIdentity',\n    value: function _getIdentity(message) {\n      if (message.type === 'update') {\n        return this.idModule.getIdentityOfHyperty(message.body.source);\n      }\n\n      if (message.type === 'response' && message.body.source !== undefined) {\n        return this.idModule.getIdentityOfHyperty(message.body.source);\n      }\n\n      if ((0, _utils.divideURL)(message.from).type === 'hyperty') {\n        return this.idModule.getIdentityOfHyperty(message.from);\n      } else {\n        return this.idModule.getIdentityOfHyperty(this.getURL(message.from));\n      }\n    }\n  }, {\n    key: '_isToVerify',\n    value: function _isToVerify(message) {\n      var schemasToIgnore = ['domain-idp', 'hyperty-runtime', 'runtime', 'domain'];\n      var splitFrom = message.from.split('://');\n      var fromSchema = splitFrom[0];\n      var splitTo = message.to.split('://');\n      var toSchema = splitTo[0];\n      if (fromSchema === message.from || toSchema === message.to) {\n        return false;\n      }\n      return schemasToIgnore.indexOf(fromSchema) === -1 || schemasToIgnore.indexOf(toSchema) === -1;\n    }\n\n    //TODO use schemasToIgnore instead\n\n  }, {\n    key: '_isToCypherModule',\n    value: function _isToCypherModule(message) {\n      var isCreate = message.type === 'create';\n      var isFromHyperty = (0, _utils.divideURL)(message.from).type === 'hyperty';\n      var isToHyperty = (0, _utils.divideURL)(message.to).type === 'hyperty';\n      var isToDataObject = (0, _utils.isDataObjectURL)(message.to);\n      var isHandshake = message.type === 'handshake';\n\n      return isCreate && isFromHyperty && isToHyperty || isCreate && isFromHyperty && isToDataObject || isHandshake;\n    }\n  }, {\n    key: 'registerSubscriber',\n    value: function registerSubscriber(message, authDecision) {\n      if (authDecision) {\n        var to = message.to.split('/');\n        var subsIndex = to.indexOf('subscription');\n        var isDataObjectSubscription = subsIndex !== -1;\n        var isFromRemoteSM = this.isFromRemoteSM(message.from);\n\n        if (isDataObjectSubscription & isFromRemoteSM) {\n          to.pop();\n          var dataObjectURL = to[0] + '//' + to[2] + '/' + to[3];\n          if (to.length > 4) {\n            dataObjectURL = to[0] + '//' + to[2] + '/' + to[3] + '/' + to[4];\n          }\n          this.runtimeRegistry.registerSubscriber(dataObjectURL, message.body.subscriber);\n        }\n      }\n    }\n  }, {\n    key: '_getLastComponentOfURL',\n    value: function _getLastComponentOfURL(url) {\n      var split = url.split('/');\n      return split[split.length - 1];\n    }\n  }, {\n    key: 'activeUserPolicy',\n    get: function get() {\n      return this._activeUserPolicy;\n    },\n    set: function set(policy) {\n      this._activeUserPolicy = policy;\n    }\n  }, {\n    key: 'dataObjectScheme',\n    get: function get() {\n      return this._dataObjectScheme;\n    },\n    set: function set(params) {\n      var from = params.message.from;\n      if ((0, _utils.isDataObjectURL)(from)) {\n        this._dataObjectScheme = (0, _utils.divideURL)(from).type;\n      } else {\n        this._dataObjectScheme = undefined;\n      }\n    }\n  }, {\n    key: 'idModule',\n    get: function get() {\n      return this._idModule;\n    },\n    set: function set(idModule) {\n      this._idModule = idModule;\n    }\n  }, {\n    key: 'policies',\n    get: function get() {\n      var policies = _PersistenceManager2.default.get('policies');\n\n      if (policies === undefined) {\n        policies = {};\n      }\n      return policies;\n    },\n    set: function set(policies) {\n      _PersistenceManager2.default.set('policies', '0', policies);\n    }\n  }, {\n    key: 'policyEngine',\n    get: function get() {\n      return this._policyEngine;\n    },\n    set: function set(policyEngine) {\n      this._policyEngine = policyEngine;\n      var acceptAnySubscriptionRule = new _Rule2.default(true, new _SubscriptionCondition2.default('subscription', 'equals', '*'), 'global', 'global');\n      var policy = new _UserPolicy2.default('My policy', [acceptAnySubscriptionRule], ['registerSubscriber', 'doMutualAuthentication']);\n      this._policyEngine.addPolicy('USER', 'My policy', policy);\n      this.activeUserPolicy = 'My policy';\n    }\n  }, {\n    key: 'runtimeRegistry',\n    get: function get() {\n      return this._runtimeRegistry;\n    },\n    set: function set(registry) {\n      this._runtimeRegistry = registry;\n    }\n  }, {\n    key: 'subscription',\n    get: function get() {\n      return this._subscription;\n    },\n    set: function set(params) {\n      this._subscription = params.message.body.subscriber;\n    }\n  }]);\n  return RuntimeCoreCtx;\n}(_CommonCtx3.default);\n\nexports.default = RuntimeCoreCtx;\nmodule.exports = exports['default'];\n\n},{\"../../utils/utils\":101,\"../Rule\":93,\"../conditions/SubscriptionCondition\":97,\"../policies/UserPolicy\":100,\"./CommonCtx\":98,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/core-js/promise\":7,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/createClass\":10,\"babel-runtime/helpers/inherits\":11,\"babel-runtime/helpers/possibleConstructorReturn\":12,\"service-framework/dist/PersistenceManager\":86}],100:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _Policy2 = require('../Policy');\n\nvar _Policy3 = _interopRequireDefault(_Policy2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UserPolicy = function (_Policy) {\n  (0, _inherits3.default)(UserPolicy, _Policy);\n\n  function UserPolicy(key, rules, actions, combiningAlgorithm) {\n    (0, _classCallCheck3.default)(this, UserPolicy);\n\n    if (!combiningAlgorithm) {\n      combiningAlgorithm = 'denyOverrides';\n    }\n    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(UserPolicy).call(this, key, rules, actions, combiningAlgorithm));\n  }\n\n  return UserPolicy;\n}(_Policy3.default);\n\nexports.default = UserPolicy;\nmodule.exports = exports['default'];\n\n},{\"../Policy\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":9,\"babel-runtime/helpers/inherits\":11,\"babel-runtime/helpers/possibleConstructorReturn\":12}],101:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.divideURL = divideURL;\nexports.divideEmail = divideEmail;\nexports.emptyObject = emptyObject;\nexports.deepClone = deepClone;\nexports.getUserURLFromEmail = getUserURLFromEmail;\nexports.getUserEmailFromURL = getUserEmailFromURL;\nexports.convertToUserURL = convertToUserURL;\nexports.isDataObjectURL = isDataObjectURL;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n/**\n * Support module with some functions will be useful\n * @module utils\n */\n\n/**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n */\n\n/**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */\nfunction divideURL(url) {\n\n  if (!url) throw Error('URL is needed to split');\n\n  // let re = /([a-zA-Z-]*)?:\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?])*(.+)*/gi;\n  var re = /([a-zA-Z-]*):\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;\n  var subst = '$1,$2,$3';\n  var parts = url.replace(re, subst).split(',');\n\n  // If the url has no protocol, the default protocol set is https\n  if (parts[0] === url) {\n    parts[0] = 'https';\n    parts[1] = url;\n  }\n\n  var result = {\n    type: parts[0],\n    domain: parts[1],\n    identity: parts[2]\n  };\n\n  return result;\n}\n\nfunction divideEmail(email) {\n  var indexOfAt = email.indexOf('@');\n\n  var result = {\n    username: email.substring(0, indexOfAt),\n    domain: email.substring(indexOfAt + 1, email.length)\n  };\n\n  return result;\n}\n\n/**\n * Check if an Object is empty\n * @param  {Object} object Object to be checked\n * @return {Boolean}       status of Object, empty or not (true|false);\n */\nfunction emptyObject(object) {\n  return (0, _keys2.default)(object).length > 0 ? false : true;\n}\n\n/**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */\nfunction deepClone(obj) {\n  //TODO: simple but inefficient JSON deep clone...\n  if (obj) return JSON.parse((0, _stringify2.default)(obj));\n}\n\n/**\n * Obtains the user URL that corresponds to a given email\n * @param  {string} userEmail The user email\n * @return {URL.URL} userURL The user URL\n */\nfunction getUserURLFromEmail(userEmail) {\n  var indexOfAt = userEmail.indexOf('@');\n  return 'user://' + userEmail.substring(indexOfAt + 1, userEmail.length) + '/' + userEmail.substring(0, indexOfAt);\n}\n\n/**\n * Obtains the user email that corresponds to a given URL\n * @param  {URL.URL} userURL The user URL\n * @return {string} userEmail The user email\n */\nfunction getUserEmailFromURL(userURL) {\n  var url = divideURL(userURL);\n  return url.identity.replace('/', '') + '@' + url.domain; // identity field has '/exampleID' instead of 'exampleID'\n}\n\n/**\n * Check if the user identifier is already in the URL format, if not, convert to URL format\n * @param  {string}   identifier  user identifier\n * @return {string}   userURL    the user URL\n */\nfunction convertToUserURL(identifier) {\n\n  // check if the identifier is already in the url format\n  if (identifier.substring(0, 7) === 'user://') {\n    var dividedURL = divideURL(identifier);\n\n    //check if the url is well formated\n    if (dividedURL.domain && dividedURL.identity) {\n      return identifier;\n    } else {\n      throw 'userURL with wrong format';\n    }\n\n    //if not, convert the user email to URL format\n  } else {\n      return getUserURLFromEmail(identifier);\n    }\n}\n\nfunction isDataObjectURL(url) {\n  var schemasToIgnore = ['domain-idp', 'runtime', 'domain', 'hyperty'];\n  var splitURL = url.split('://');\n  var urlSchema = splitURL[0];\n\n  return schemasToIgnore.indexOf(urlSchema) === -1;\n}\n\n},{\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/core-js/object/keys\":5}]},{},[92])(92)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmEtZnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hbi1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jbGFzc29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY29mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmN0eC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmRlZmluZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmRvbS1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5lbnVtLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5leHBvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mYWlscy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmZvci1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmdldC1uYW1lcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmdsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmhhcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmhpZGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5odG1sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaW52b2tlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmlzLWFycmF5LWl0ZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pcy1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmlzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnByb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZmluZS1hbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNhbWUtdmFsdWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNldC10by1zdHJpbmctdGFnLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLWlvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC53a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvc2VydmljZS1mcmFtZXdvcmsvZGlzdC9QZXJzaXN0ZW5jZU1hbmFnZXIuanMiLCJzcmMvcG9saWN5L0NvbWJpbmluZ0FsZ29yaXRobS5qcyIsInNyYy9wb2xpY3kvT3BlcmF0b3JzLmpzIiwic3JjL3BvbGljeS9QRFAuanMiLCJzcmMvcG9saWN5L1BFUC5qcyIsInNyYy9wb2xpY3kvUG9saWN5LmpzIiwic3JjL3BvbGljeS9Qb2xpY3lFbmdpbmUuanMiLCJzcmMvcG9saWN5L1J1bGUuanMiLCJzcmMvcG9saWN5L2NvbWJpbmluZ0FsZ29yaXRobXMvRGVueU92ZXJyaWRlcy5qcyIsInNyYy9wb2xpY3kvY29tYmluaW5nQWxnb3JpdGhtcy9GaXJzdEFwcGxpY2FibGUuanMiLCJzcmMvcG9saWN5L2NvbmRpdGlvbnMvQ29uZGl0aW9uLmpzIiwic3JjL3BvbGljeS9jb25kaXRpb25zL1N1YnNjcmlwdGlvbkNvbmRpdGlvbi5qcyIsInNyYy9wb2xpY3kvY29udGV4dC9Db21tb25DdHguanMiLCJzcmMvcG9saWN5L2NvbnRleHQvUnVudGltZUNvcmVDdHguanMiLCJzcmMvcG9saWN5L3BvbGljaWVzL1VzZXJQb2xpY3kuanMiLCJzcmMvdXRpbHMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xPQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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R0FBc0MsSUFBSSxNQUFqRCxDO0FBQ0Q7Ozs7Ozs7QUFRTSxTQUFTLGdCQUFULENBQTBCLFVBQTFCLEVBQXNDOzs7QUFHM0MsTUFBSSxXQUFXLFNBQVgsQ0FBcUIsQ0FBckIsRUFBd0IsQ0FBeEIsTUFBK0IsU0FBbkMsRUFBOEM7QUFDNUMsUUFBSSxhQUFhLFVBQVUsVUFBVixDQUFqQjs7O0FBR0EsUUFBSSxXQUFXLE1BQVgsSUFBcUIsV0FBVyxRQUFwQyxFQUE4QztBQUM1QyxhQUFPLFVBQVA7QUFDRCxLQUZELE1BRU87QUFDTCxZQUFNLDJCQUFOO0FBQ0Q7OztBQUdGLEdBWEQsTUFXTztBQUNMLGFBQU8sb0JBQW9CLFVBQXBCLENBQVA7QUFDRDtBQUNGOztBQUVNLFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QjtBQUNuQyxNQUFJLGtCQUFrQixDQUFDLFlBQUQsRUFBZSxTQUFmLEVBQTBCLFFBQTFCLEVBQW9DLFNBQXBDLENBQXRCO0FBQ0EsTUFBSSxXQUFZLEdBQUQsQ0FBTSxLQUFOLENBQVksS0FBWixDQUFmO0FBQ0EsTUFBSSxZQUFZLFNBQVMsQ0FBVCxDQUFoQjs7QUFFQSxTQUFPLGdCQUFnQixPQUFoQixDQUF3QixTQUF4QixNQUF1QyxDQUFDLENBQS9DO0FBQ0QiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5c1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfT2JqZWN0JHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfU3ltYm9sID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2xcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9TeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwidmFyIGNvcmUgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAoY29yZS5KU09OICYmIGNvcmUuSlNPTi5zdHJpbmdpZnkgfHwgSlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XG59OyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICQuY3JlYXRlKFAsIEQpO1xufTsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhpdCwga2V5LCBkZXNjKTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3Qua2V5czsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzLyQuY29yZScpLlByb21pc2U7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuU3ltYm9sOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07IiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IChPID0gT2JqZWN0KGl0KSlbVEFHXSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59OyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMS4yLjYnfTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59OyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJykuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07IiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciAkID0gcmVxdWlyZSgnLi8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGtleXMgICAgICAgPSAkLmdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSAkLmlzRW51bVxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKWtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiBrZXkgaW4gdGFyZ2V0O1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihwYXJhbSl7XG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQyA/IG5ldyBDKHBhcmFtKSA6IEMocGFyYW0pO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICBpZihJU19QUk9UTykoZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSkpW2tleV0gPSBvdXQ7XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7IC8vIHdyYXBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTsiLCJ2YXIgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCBjYWxsICAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi8kLmlzLWFycmF5LWl0ZXInKVxuICAsIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgdG9MZW5ndGggICAgPSByZXF1aXJlKCcuLyQudG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCl7XG4gIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oaXRlcmFibGUpXG4gICAgLCBmICAgICAgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSlcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3I7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gIH0gZWxzZSBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKXtcbiAgICBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgfVxufTsiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKVxuICAsIGdldE5hbWVzICA9IHJlcXVpcmUoJy4vJCcpLmdldE5hbWVzXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ2V0TmFtZXMoaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgaWYod2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScpcmV0dXJuIGdldFdpbmRvd05hbWVzKGl0KTtcbiAgcmV0dXJuIGdldE5hbWVzKHRvSU9iamVjdChpdCkpO1xufTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07IiwidmFyICQgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuLyQucHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiAkLnNldERlc2Mob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IiwiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCBhcmdzLCB0aGF0KXtcbiAgdmFyIHVuID0gdGhhdCA9PT0gdW5kZWZpbmVkO1xuICBzd2l0Y2goYXJncy5sZW5ndGgpe1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgYXJncyk7XG59OyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi8kLmNvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTsiLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsIElURVJBVE9SICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07IiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTsiLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBkZXNjcmlwdG9yICAgICA9IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vJC5zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vJC5oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuLyQubGlicmFyeScpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuLyQuZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vJC5yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBJdGVyYXRvcnMgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi8kLml0ZXItY3JlYXRlJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vJC5zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgZ2V0UHJvdG8gICAgICAgPSByZXF1aXJlKCcuLyQnKS5nZXRQcm90b1xuICAsIElURVJBVE9SICAgICAgID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICAsIEZGX0lURVJBVE9SICAgID0gJ0BAaXRlcmF0b3InXG4gICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG4gICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cbiAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuICAgICwgbWV0aG9kcywga2V5O1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKCRuYXRpdmUpe1xuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvKCRkZWZhdWx0LmNhbGwobmV3IEJhc2UpKTtcbiAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgLy8gRkYgZml4XG4gICAgaWYoIUxJQlJBUlkgJiYgaGFzKHByb3RvLCBGRl9JVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcbiAgICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgICB9XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpXG4gICAgfTtcbiAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59OyIsInZhciBJVEVSQVRPUiAgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHNhZmUgPSB0cnVlOyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7fTsiLCJ2YXIgJE9iamVjdCA9IE9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSxcbiAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXG4gIGdldEtleXM6ICAgICRPYmplY3Qua2V5cyxcbiAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZWFjaDogICAgICAgW10uZm9yRWFjaFxufTsiLCJ2YXIgJCAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSAkLmdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgbWFjcm90YXNrID0gcmVxdWlyZSgnLi8kLnRhc2snKS5zZXRcbiAgLCBPYnNlcnZlciAgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlclxuICAsIHByb2Nlc3MgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgUHJvbWlzZSAgID0gZ2xvYmFsLlByb21pc2VcbiAgLCBpc05vZGUgICAgPSByZXF1aXJlKCcuLyQuY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnXG4gICwgaGVhZCwgbGFzdCwgbm90aWZ5O1xuXG52YXIgZmx1c2ggPSBmdW5jdGlvbigpe1xuICB2YXIgcGFyZW50LCBkb21haW4sIGZuO1xuICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSl7XG4gICAgcHJvY2Vzcy5kb21haW4gPSBudWxsO1xuICAgIHBhcmVudC5leGl0KCk7XG4gIH1cbiAgd2hpbGUoaGVhZCl7XG4gICAgZG9tYWluID0gaGVhZC5kb21haW47XG4gICAgZm4gICAgID0gaGVhZC5mbjtcbiAgICBpZihkb21haW4pZG9tYWluLmVudGVyKCk7XG4gICAgZm4oKTsgLy8gPC0gY3VycmVudGx5IHdlIHVzZSBpdCBvbmx5IGZvciBQcm9taXNlIC0gdHJ5IC8gY2F0Y2ggbm90IHJlcXVpcmVkXG4gICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG4gICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICBpZihwYXJlbnQpcGFyZW50LmVudGVyKCk7XG59O1xuXG4vLyBOb2RlLmpzXG5pZihpc05vZGUpe1xuICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICB9O1xuLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG59IGVsc2UgaWYoT2JzZXJ2ZXIpe1xuICB2YXIgdG9nZ2xlID0gMVxuICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAtdG9nZ2xlO1xuICB9O1xuLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2Vcbn0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG4gIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmbHVzaCk7XG4gIH07XG4vLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuLy8gLSBzZXRJbW1lZGlhdGVcbi8vIC0gTWVzc2FnZUNoYW5uZWxcbi8vIC0gd2luZG93LnBvc3RNZXNzYWdcbi8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4vLyAtIHNldFRpbWVvdXRcbn0gZWxzZSB7XG4gIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFzYXAoZm4pe1xuICB2YXIgdGFzayA9IHtmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCwgZG9tYWluOiBpc05vZGUgJiYgcHJvY2Vzcy5kb21haW59O1xuICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XG4gIGlmKCFoZWFkKXtcbiAgICBoZWFkID0gdGFzaztcbiAgICBub3RpZnkoKTtcbiAgfSBsYXN0ID0gdGFzaztcbn07IiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgZmFpbHMgICA9IHJlcXVpcmUoJy4vJC5mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07IiwidmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi8kLnJlZGVmaW5lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgc3JjKXtcbiAgZm9yKHZhciBrZXkgaW4gc3JjKXJlZGVmaW5lKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIHJldHVybiB0YXJnZXQ7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmhpZGUnKTsiLCIvLyA3LjIuOSBTYW1lVmFsdWUoeCwgeSlcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpe1xuICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbn07IiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGdldERlc2MgID0gcmVxdWlyZSgnLi8kJykuZ2V0RGVzY1xuICAsIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG4gIGFuT2JqZWN0KE8pO1xuICBpZighaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKXRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi8kLmN0eCcpKEZ1bmN0aW9uLmNhbGwsIGdldERlc2MoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY29yZSAgICAgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgJCAgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi8kLmRlc2NyaXB0b3JzJylcbiAgLCBTUEVDSUVTICAgICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSl7XG4gIHZhciBDID0gY29yZVtLRVldO1xuICBpZihERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKSQuc2V0RGVzYyhDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59OyIsInZhciBkZWYgPSByZXF1aXJlKCcuLyQnKS5zZXREZXNjXG4gICwgaGFzID0gcmVxdWlyZSgnLi8kLmhhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59OyIsIi8vIDcuMy4yMCBTcGVjaWVzQ29uc3RydWN0b3IoTywgZGVmYXVsdENvbnN0cnVjdG9yKVxudmFyIGFuT2JqZWN0ICA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJylcbiAgLCBTUEVDSUVTICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywgRCl7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3IsIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUpe1xuICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IFR5cGVFcnJvcihuYW1lICsgXCI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhXCIpO1xuICByZXR1cm4gaXQ7XG59OyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07IiwidmFyIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5pbnZva2UnKVxuICAsIGh0bWwgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5odG1sJylcbiAgLCBjZWwgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBzZXRUYXNrICAgICAgICAgICAgPSBnbG9iYWwuc2V0SW1tZWRpYXRlXG4gICwgY2xlYXJUYXNrICAgICAgICAgID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlXG4gICwgTWVzc2FnZUNoYW5uZWwgICAgID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsXG4gICwgY291bnRlciAgICAgICAgICAgID0gMFxuICAsIHF1ZXVlICAgICAgICAgICAgICA9IHt9XG4gICwgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSdcbiAgLCBkZWZlciwgY2hhbm5lbCwgcG9ydDtcbnZhciBydW4gPSBmdW5jdGlvbigpe1xuICB2YXIgaWQgPSArdGhpcztcbiAgaWYocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKXtcbiAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICBmbigpO1xuICB9XG59O1xudmFyIGxpc3RuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi8kLmNvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYoTWVzc2FnZUNoYW5uZWwpe1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWw7XG4gICAgcG9ydCAgICA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0bmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdG5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogICBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59OyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlvYmplY3QnKVxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07IiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59OyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07IiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07IiwidmFyIHN0b3JlICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuLyQudWlkJylcbiAgLCBTeW1ib2wgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJykuU3ltYm9sO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTsiLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmNvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuLyQuYWRkLXRvLXVuc2NvcGFibGVzJylcbiAgLCBzdGVwICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgICAgICAgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpOyIsIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpO1xuXG5yZXF1aXJlKCcuLyQub2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCRnZXRQcm90b3R5cGVPZil7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4yLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLyQudG8tb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vJC5vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbigka2V5cyl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuLyQuc2V0LXByb3RvJykuc2V0fSk7IiwiIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIExJQlJBUlkgICAgPSByZXF1aXJlKCcuLyQubGlicmFyeScpXG4gICwgZ2xvYmFsICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGN0eCAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCBjbGFzc29mICAgID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsICRleHBvcnQgICAgPSByZXF1aXJlKCcuLyQuZXhwb3J0JylcbiAgLCBpc09iamVjdCAgID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgICA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiAgPSByZXF1aXJlKCcuLyQuYS1mdW5jdGlvbicpXG4gICwgc3RyaWN0TmV3ICA9IHJlcXVpcmUoJy4vJC5zdHJpY3QtbmV3JylcbiAgLCBmb3JPZiAgICAgID0gcmVxdWlyZSgnLi8kLmZvci1vZicpXG4gICwgc2V0UHJvdG8gICA9IHJlcXVpcmUoJy4vJC5zZXQtcHJvdG8nKS5zZXRcbiAgLCBzYW1lICAgICAgID0gcmVxdWlyZSgnLi8kLnNhbWUtdmFsdWUnKVxuICAsIFNQRUNJRVMgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3NwZWNpZXMnKVxuICAsIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vJC5zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCBhc2FwICAgICAgID0gcmVxdWlyZSgnLi8kLm1pY3JvdGFzaycpXG4gICwgUFJPTUlTRSAgICA9ICdQcm9taXNlJ1xuICAsIHByb2Nlc3MgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIGlzTm9kZSAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuICAsIFAgICAgICAgICAgPSBnbG9iYWxbUFJPTUlTRV1cbiAgLCBXcmFwcGVyO1xuXG52YXIgdGVzdFJlc29sdmUgPSBmdW5jdGlvbihzdWIpe1xuICB2YXIgdGVzdCA9IG5ldyBQKGZ1bmN0aW9uKCl7fSk7XG4gIGlmKHN1Yil0ZXN0LmNvbnN0cnVjdG9yID0gT2JqZWN0O1xuICByZXR1cm4gUC5yZXNvbHZlKHRlc3QpID09PSB0ZXN0O1xufTtcblxudmFyIFVTRV9OQVRJVkUgPSBmdW5jdGlvbigpe1xuICB2YXIgd29ya3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gUDIoeCl7XG4gICAgdmFyIHNlbGYgPSBuZXcgUCh4KTtcbiAgICBzZXRQcm90byhzZWxmLCBQMi5wcm90b3R5cGUpO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIHRyeSB7XG4gICAgd29ya3MgPSBQICYmIFAucmVzb2x2ZSAmJiB0ZXN0UmVzb2x2ZSgpO1xuICAgIHNldFByb3RvKFAyLCBQKTtcbiAgICBQMi5wcm90b3R5cGUgPSAkLmNyZWF0ZShQLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7dmFsdWU6IFAyfX0pO1xuICAgIC8vIGFjdHVhbCBGaXJlZm94IGhhcyBicm9rZW4gc3ViY2xhc3Mgc3VwcG9ydCwgdGVzdCB0aGF0XG4gICAgaWYoIShQMi5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KSBpbnN0YW5jZW9mIFAyKSl7XG4gICAgICB3b3JrcyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBhY3R1YWwgVjggYnVnLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDE2MlxuICAgIGlmKHdvcmtzICYmIHJlcXVpcmUoJy4vJC5kZXNjcmlwdG9ycycpKXtcbiAgICAgIHZhciB0aGVuYWJsZVRoZW5Hb3R0ZW4gPSBmYWxzZTtcbiAgICAgIFAucmVzb2x2ZSgkLnNldERlc2Moe30sICd0aGVuJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCl7IHRoZW5hYmxlVGhlbkdvdHRlbiA9IHRydWU7IH1cbiAgICAgIH0pKTtcbiAgICAgIHdvcmtzID0gdGhlbmFibGVUaGVuR290dGVuO1xuICAgIH1cbiAgfSBjYXRjaChlKXsgd29ya3MgPSBmYWxzZTsgfVxuICByZXR1cm4gd29ya3M7XG59KCk7XG5cbi8vIGhlbHBlcnNcbnZhciBzYW1lQ29uc3RydWN0b3IgPSBmdW5jdGlvbihhLCBiKXtcbiAgLy8gbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuICBpZihMSUJSQVJZICYmIGEgPT09IFAgJiYgYiA9PT0gV3JhcHBlcilyZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHNhbWUoYSwgYik7XG59O1xudmFyIGdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oQyl7XG4gIHZhciBTID0gYW5PYmplY3QoQylbU1BFQ0lFU107XG4gIHJldHVybiBTICE9IHVuZGVmaW5lZCA/IFMgOiBDO1xufTtcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uKEMpe1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbigkJHJlc29sdmUsICQkcmVqZWN0KXtcbiAgICBpZihyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ICA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpLFxuICB0aGlzLnJlamVjdCAgPSBhRnVuY3Rpb24ocmVqZWN0KVxufTtcbnZhciBwZXJmb3JtID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG59O1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uKHJlY29yZCwgaXNSZWplY3Qpe1xuICBpZihyZWNvcmQubilyZXR1cm47XG4gIHJlY29yZC5uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcmVjb3JkLmM7XG4gIGFzYXAoZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSByZWNvcmQudlxuICAgICAgLCBvayAgICA9IHJlY29yZC5zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG4gICAgICAgICwgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmVcbiAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG4gICAgICAgICwgcmVzdWx0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYoaGFuZGxlcil7XG4gICAgICAgICAgaWYoIW9rKXJlY29yZC5oID0gdHJ1ZTtcbiAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyID09PSB0cnVlID8gdmFsdWUgOiBoYW5kbGVyKHZhbHVlKTtcbiAgICAgICAgICBpZihyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2Upe1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSl7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSlydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgY2hhaW4ubGVuZ3RoID0gMDtcbiAgICByZWNvcmQubiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0KXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHZhciBwcm9taXNlID0gcmVjb3JkLnBcbiAgICAgICAgLCBoYW5kbGVyLCBjb25zb2xlO1xuICAgICAgaWYoaXNVbmhhbmRsZWQocHJvbWlzZSkpe1xuICAgICAgICBpZihpc05vZGUpe1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbil7XG4gICAgICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZX0pO1xuICAgICAgICB9IGVsc2UgaWYoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcil7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IHJlY29yZC5hID0gdW5kZWZpbmVkO1xuICAgIH0sIDEpO1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdmFyIHJlY29yZCA9IHByb21pc2UuX2RcbiAgICAsIGNoYWluICA9IHJlY29yZC5hIHx8IHJlY29yZC5jXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZWFjdGlvbjtcbiAgaWYocmVjb3JkLmgpcmV0dXJuIGZhbHNlO1xuICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcbiAgICByZWFjdGlvbiA9IGNoYWluW2krK107XG4gICAgaWYocmVhY3Rpb24uZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3Rpb24ucHJvbWlzZSkpcmV0dXJuIGZhbHNlO1xuICB9IHJldHVybiB0cnVlO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcmVjb3JkID0gdGhpcztcbiAgaWYocmVjb3JkLmQpcmV0dXJuO1xuICByZWNvcmQuZCA9IHRydWU7XG4gIHJlY29yZCA9IHJlY29yZC5yIHx8IHJlY29yZDsgLy8gdW53cmFwXG4gIHJlY29yZC52ID0gdmFsdWU7XG4gIHJlY29yZC5zID0gMjtcbiAgcmVjb3JkLmEgPSByZWNvcmQuYy5zbGljZSgpO1xuICBub3RpZnkocmVjb3JkLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciByZWNvcmQgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihyZWNvcmQuZClyZXR1cm47XG4gIHJlY29yZC5kID0gdHJ1ZTtcbiAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZihyZWNvcmQucCA9PT0gdmFsdWUpdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgaWYodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKXtcbiAgICAgIGFzYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7cjogcmVjb3JkLCBkOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICAgIHJlY29yZC5zID0gMTtcbiAgICAgIG5vdGlmeShyZWNvcmQsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2goZSl7XG4gICAgJHJlamVjdC5jYWxsKHtyOiByZWNvcmQsIGQ6IGZhbHNlfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmKCFVU0VfTkFUSVZFKXtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgUCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgdmFyIHJlY29yZCA9IHRoaXMuX2QgPSB7XG4gICAgICBwOiBzdHJpY3ROZXcodGhpcywgUCwgUFJPTUlTRSksICAgICAgICAgLy8gPC0gcHJvbWlzZVxuICAgICAgYzogW10sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgICAgYTogdW5kZWZpbmVkLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgICBzOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICAgIGQ6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBkb25lXG4gICAgICB2OiB1bmRlZmluZWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gdmFsdWVcbiAgICAgIGg6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBoYW5kbGVkIHJlamVjdGlvblxuICAgICAgbjogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgcmVjb3JkLCAxKSwgY3R4KCRyZWplY3QsIHJlY29yZCwgMSkpO1xuICAgIH0gY2F0Y2goZXJyKXtcbiAgICAgICRyZWplY3QuY2FsbChyZWNvcmQsIGVycik7XG4gICAgfVxuICB9O1xuICByZXF1aXJlKCcuLyQucmVkZWZpbmUtYWxsJykoUC5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpe1xuICAgICAgdmFyIHJlYWN0aW9uID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBQKSlcbiAgICAgICAgLCBwcm9taXNlICA9IHJlYWN0aW9uLnByb21pc2VcbiAgICAgICAgLCByZWNvcmQgICA9IHRoaXMuX2Q7XG4gICAgICByZWFjdGlvbi5vayAgID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAmJiBvblJlamVjdGVkO1xuICAgICAgcmVjb3JkLmMucHVzaChyZWFjdGlvbik7XG4gICAgICBpZihyZWNvcmQuYSlyZWNvcmQuYS5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmKHJlY29yZC5zKW5vdGlmeShyZWNvcmQsIGZhbHNlKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7UHJvbWlzZTogUH0pO1xucmVxdWlyZSgnLi8kLnNldC10by1zdHJpbmctdGFnJykoUCwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuLyQuc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuLyQuY29yZScpW1BST01JU0VdO1xuXG4vLyBzdGF0aWNzXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpXG4gIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpe1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVqZWN0ICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8IHRlc3RSZXNvbHZlKHRydWUpKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mIFAgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpKXJldHVybiB4O1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi8kLml0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7XG4gIFAuYWxsKGl0ZXIpWydjYXRjaCddKGZ1bmN0aW9uKCl7fSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgICAgICA9IGdldENvbnN0cnVjdG9yKHRoaXMpXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3RcbiAgICAgICwgdmFsdWVzICAgICA9IFtdO1xuICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIHZhbHVlcy5wdXNoLCB2YWx1ZXMpO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHZhbHVlcy5sZW5ndGhcbiAgICAgICAgLCByZXN1bHRzICAgPSBBcnJheShyZW1haW5pbmcpO1xuICAgICAgaWYocmVtYWluaW5nKSQuZWFjaC5jYWxsKHZhbHVlcywgZnVuY3Rpb24ocHJvbWlzZSwgaW5kZXgpe1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICBlbHNlIHJlc29sdmUocmVzdWx0cyk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSBnZXRDb25zdHJ1Y3Rvcih0aGlzKVxuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAsIHJlamVjdCAgICAgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi8kLnN0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgJCAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vJC5kZXNjcmlwdG9ycycpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuLyQuZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vJC5yZWRlZmluZScpXG4gICwgJGZhaWxzICAgICAgICAgPSByZXF1aXJlKCcuLyQuZmFpbHMnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLyQuc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQud2tzJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5rZXlvZicpXG4gICwgJG5hbWVzICAgICAgICAgPSByZXF1aXJlKCcuLyQuZ2V0LW5hbWVzJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vJC5lbnVtLWtleXMnKVxuICAsIGlzQXJyYXkgICAgICAgID0gcmVxdWlyZSgnLi8kLmlzLWFycmF5JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKVxuICAsIGdldERlc2MgICAgICAgID0gJC5nZXREZXNjXG4gICwgc2V0RGVzYyAgICAgICAgPSAkLnNldERlc2NcbiAgLCBfY3JlYXRlICAgICAgICA9ICQuY3JlYXRlXG4gICwgZ2V0TmFtZXMgICAgICAgPSAkbmFtZXMuZ2V0XG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG4gICwgc2V0dGVyICAgICAgICAgPSBmYWxzZVxuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBpc0VudW0gICAgICAgICA9ICQuaXNFbnVtXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIHVzZU5hdGl2ZSAgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gX2NyZWF0ZShzZXREZXNjKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBzZXREZXNjKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgdmFyIHByb3RvRGVzYyA9IGdldERlc2MoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgc2V0RGVzYyhpdCwga2V5LCBEKTtcbiAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylzZXREZXNjKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogc2V0RGVzYztcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sLnByb3RvdHlwZSk7XG4gIHN5bS5fayA9IHRhZztcbiAgREVTQ1JJUFRPUlMgJiYgc2V0dGVyICYmIHNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKXNldERlc2MoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIHNldERlc2MoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSk7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV1cbiAgICA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICB2YXIgRCA9IGdldERlc2MoaXQgPSB0b0lPYmplY3QoaXQpLCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnZXROYW1lcyh0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4pcmVzdWx0LnB1c2goa2V5KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnZXROYW1lcyh0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJHN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG4gIGlmKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKXJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICB2YXIgYXJncyA9IFtpdF1cbiAgICAsIGkgICAgPSAxXG4gICAgLCAkJCAgID0gYXJndW1lbnRzXG4gICAgLCByZXBsYWNlciwgJHJlcGxhY2VyO1xuICB3aGlsZSgkJC5sZW5ndGggPiBpKWFyZ3MucHVzaCgkJFtpKytdKTtcbiAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgaWYoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSlyZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuICB9O1xuICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbn07XG52YXIgYnVnZ3lKU09OID0gJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pO1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCF1c2VOYXRpdmUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYoaXNTeW1ib2wodGhpcykpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbiAgICByZXR1cm4gd3JhcCh1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gIGlzU3ltYm9sID0gZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG4gIH07XG5cbiAgJC5jcmVhdGUgICAgID0gJGNyZWF0ZTtcbiAgJC5pc0VudW0gICAgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICAkLmdldERlc2MgICAgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkLnNldERlc2MgICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gICQuc2V0RGVzY3MgICA9ICRkZWZpbmVQcm9wZXJ0aWVzO1xuICAkLmdldE5hbWVzICAgPSAkbmFtZXMuZ2V0ID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gICQuZ2V0U3ltYm9scyA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vJC5saWJyYXJ5Jykpe1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG59XG5cbnZhciBzeW1ib2xTdGF0aWNzID0ge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIHJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59O1xuLy8gMTkuNC4yLjIgU3ltYm9sLmhhc0luc3RhbmNlXG4vLyAxOS40LjIuMyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlXG4vLyAxOS40LjIuNCBTeW1ib2wuaXRlcmF0b3Jcbi8vIDE5LjQuMi42IFN5bWJvbC5tYXRjaFxuLy8gMTkuNC4yLjggU3ltYm9sLnJlcGxhY2Vcbi8vIDE5LjQuMi45IFN5bWJvbC5zZWFyY2hcbi8vIDE5LjQuMi4xMCBTeW1ib2wuc3BlY2llc1xuLy8gMTkuNC4yLjExIFN5bWJvbC5zcGxpdFxuLy8gMTkuNC4yLjEyIFN5bWJvbC50b1ByaW1pdGl2ZVxuLy8gMTkuNC4yLjEzIFN5bWJvbC50b1N0cmluZ1RhZ1xuLy8gMTkuNC4yLjE0IFN5bWJvbC51bnNjb3BhYmxlc1xuJC5lYWNoLmNhbGwoKFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLCcgK1xuICAnc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgZnVuY3Rpb24oaXQpe1xuICB2YXIgc3ltID0gd2tzKGl0KTtcbiAgc3ltYm9sU3RhdGljc1tpdF0gPSB1c2VOYXRpdmUgPyBzeW0gOiB3cmFwKHN5bSk7XG59KTtcblxuc2V0dGVyID0gdHJ1ZTtcblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdTeW1ib2wnLCBzeW1ib2xTdGF0aWNzKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhdXNlTmF0aXZlLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghdXNlTmF0aXZlIHx8IGJ1Z2d5SlNPTiksICdKU09OJywge3N0cmluZ2lmeTogJHN0cmluZ2lmeX0pO1xuXG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpOyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xuSXRlcmF0b3JzLk5vZGVMaXN0ID0gSXRlcmF0b3JzLkhUTUxDb2xsZWN0aW9uID0gSXRlcmF0b3JzLkFycmF5OyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4qIENvcHlyaWdodCAyMDE2IFBUIElub3Zhw6fDo28gZSBTaXN0ZW1hcyBTQVxuKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRFxuKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0xcbiogQ29weXJpZ2h0IDIwMTYgRlJBVU5IT0ZFUi1HRVNFTExTQ0hBRlQgWlVSIEZPRVJERVJVTkcgREVSIEFOR0VXQU5EVEVOIEZPUlNDSFVORyBFLlZcbiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBXG4qIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUdcbiogQ29weXJpZ2h0IDIwMTYgQXBpemVlXG4qIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG4vLyBEaXN0cmlidXRpb24gZmlsZSBmb3IgUGVyc2lzdGVuY2VNYW5hZ2VyLmpzIFxuLy8gdmVyc2lvbjogMC4zLjBcbi8vIExhc3QgYnVpbGQ6IFdlZCBKdW4gMjkgMjAxNiAxODoxODozMCBHTVQrMDEwMCAoV0VTVClcblxuIWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sdCk7ZWxzZXt2YXIgZTtlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxlLlBlcnNpc3RlbmNlTWFuYWdlcj10KCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KGUsbixvKXtmdW5jdGlvbiByKHMsYyl7aWYoIW5bc10pe2lmKCFlW3NdKXt2YXIgYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZhKXJldHVybiBhKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitzK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgZj1uW3NdPXtleHBvcnRzOnt9fTtlW3NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBuPWVbc11bMV1bdF07cmV0dXJuIHIobj9uOnQpfSxmLGYuZXhwb3J0cyx0LGUsbixvKX1yZXR1cm4gbltzXS5leHBvcnRzfWZvcih2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG8ubGVuZ3RoO3MrKylyKG9bc10pO3JldHVybiByfSh7MTpbZnVuY3Rpb24odCxlLG4pe2UuZXhwb3J0cz17XCJkZWZhdWx0XCI6dChcImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeVwiKSxfX2VzTW9kdWxlOiEwfX0se1wiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCI6Mn1dLDI6W2Z1bmN0aW9uKHQsZSxuKXt2YXIgbz10KFwiLi4vLi4vbW9kdWxlcy9fY29yZVwiKSxyPW8uSlNPTnx8KG8uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByLnN0cmluZ2lmeS5hcHBseShyLGFyZ3VtZW50cyl9fSx7XCIuLi8uLi9tb2R1bGVzL19jb3JlXCI6M31dLDM6W2Z1bmN0aW9uKHQsZSxuKXt2YXIgbz1lLmV4cG9ydHM9e3ZlcnNpb246XCIyLjQuMFwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPW8pfSx7fV0sNDpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8odCl7aWYobnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiB0O2lmKHQgaW5zdGFuY2VvZiBPYmplY3QpdmFyIGU9e19fcHJvdG9fXzp0Ll9fcHJvdG9fX307ZWxzZSB2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pKX0pLGV9dmFyIHI9dChcImZzXCIpO2UuZXhwb3J0cz1vKHIpfSx7ZnM6dm9pZCAwfV0sNTpbZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gcih0KXtmdW5jdGlvbiBlKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSxuKXtyZXR1cm4gdih0LGUsZnVuY3Rpb24ocil7IXJ8fFwiRU1GSUxFXCIhPT1yLmNvZGUmJlwiRU5GSUxFXCIhPT1yLmNvZGU/KFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHMoKSk6aShbbyxbdCxlLG5dXSl9KX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj1lLGU9bnVsbCksbyh0LGUsbil9ZnVuY3Rpb24gbih0LGUsbixvKXtmdW5jdGlvbiByKHQsZSxuLG8pe3JldHVybiBnKHQsZSxuLGZ1bmN0aW9uKGMpeyFjfHxcIkVNRklMRVwiIT09Yy5jb2RlJiZcIkVORklMRVwiIT09Yy5jb2RlPyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiZvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxzKCkpOmkoW3IsW3QsZSxuLG9dXSl9KX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYobz1uLG49bnVsbCkscih0LGUsbixvKX1mdW5jdGlvbiBvKHQsZSxuLG8pe2Z1bmN0aW9uIHIodCxlLG4sbyl7cmV0dXJuIF8odCxlLG4sZnVuY3Rpb24oYyl7IWN8fFwiRU1GSUxFXCIhPT1jLmNvZGUmJlwiRU5GSUxFXCIhPT1jLmNvZGU/KFwiZnVuY3Rpb25cIj09dHlwZW9mIG8mJm8uYXBwbHkodGhpcyxhcmd1bWVudHMpLHMoKSk6aShbcixbdCxlLG4sb11dKX0pfXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihvPW4sbj1udWxsKSxyKHQsZSxuLG8pfWZ1bmN0aW9uIGModCxlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIHcodCxmdW5jdGlvbihvLHIpe3ImJnIuc29ydCYmci5zb3J0KCksIW98fFwiRU1GSUxFXCIhPT1vLmNvZGUmJlwiRU5GSUxFXCIhPT1vLmNvZGU/KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHMoKSk6aShbbixbdCxlXV0pfSl9cmV0dXJuIG4odCxlKX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBmPyhFLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzKTpmLmFwcGx5KE9iamVjdC5jcmVhdGUoZi5wcm90b3R5cGUpLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbCgpe3ZhciB0PXRoaXM7bSh0LnBhdGgsdC5mbGFncyx0Lm1vZGUsZnVuY3Rpb24oZSxuKXtlPyh0LmF1dG9DbG9zZSYmdC5kZXN0cm95KCksdC5lbWl0KFwiZXJyb3JcIixlKSk6KHQuZmQ9bix0LmVtaXQoXCJvcGVuXCIsbiksdC5yZWFkKCkpfSl9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgaD8oYi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcyk6aC5hcHBseShPYmplY3QuY3JlYXRlKGgucHJvdG90eXBlKSxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoKXt2YXIgdD10aGlzO20odC5wYXRoLHQuZmxhZ3MsdC5tb2RlLGZ1bmN0aW9uKGUsbil7ZT8odC5kZXN0cm95KCksdC5lbWl0KFwiZXJyb3JcIixlKSk6KHQuZmQ9bix0LmVtaXQoXCJvcGVuXCIsbikpfSl9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiBuZXcgZih0LGUpfWZ1bmN0aW9uIHkodCxlKXtyZXR1cm4gbmV3IGgodCxlKX1mdW5jdGlvbiBtKHQsZSxuLG8pe2Z1bmN0aW9uIHIodCxlLG4sbyl7cmV0dXJuIEkodCxlLG4sZnVuY3Rpb24oYyxhKXshY3x8XCJFTUZJTEVcIiE9PWMuY29kZSYmXCJFTkZJTEVcIiE9PWMuY29kZT8oXCJmdW5jdGlvblwiPT10eXBlb2YgbyYmby5hcHBseSh0aGlzLGFyZ3VtZW50cykscygpKTppKFtyLFt0LGUsbixvXV0pfSl9cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKG89bixuPW51bGwpLHIodCxlLG4sbyl9YSh0KSx0LmdyYWNlZnVsaWZ5PXIsdC5GaWxlUmVhZFN0cmVhbT1mLHQuRmlsZVdyaXRlU3RyZWFtPWgsdC5jcmVhdGVSZWFkU3RyZWFtPWQsdC5jcmVhdGVXcml0ZVN0cmVhbT15O3ZhciB2PXQucmVhZEZpbGU7dC5yZWFkRmlsZT1lO3ZhciBnPXQud3JpdGVGaWxlO3Qud3JpdGVGaWxlPW47dmFyIF89dC5hcHBlbmRGaWxlO18mJih0LmFwcGVuZEZpbGU9byk7dmFyIHc9dC5yZWFkZGlyO2lmKHQucmVhZGRpcj1jLFwidjAuOFwiPT09cHJvY2Vzcy52ZXJzaW9uLnN1YnN0cigwLDQpKXt2YXIgUz11KHQpO2Y9Uy5SZWFkU3RyZWFtLGg9Uy5Xcml0ZVN0cmVhbX12YXIgRT10LlJlYWRTdHJlYW07Zi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFLnByb3RvdHlwZSksZi5wcm90b3R5cGUub3Blbj1sO3ZhciBiPXQuV3JpdGVTdHJlYW07aC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksaC5wcm90b3R5cGUub3Blbj1wLHQuUmVhZFN0cmVhbT1mLHQuV3JpdGVTdHJlYW09aDt2YXIgST10Lm9wZW47cmV0dXJuIHQub3Blbj1tLHR9ZnVuY3Rpb24gaSh0KXtoKFwiRU5RVUVVRVwiLHRbMF0ubmFtZSx0WzFdKSxmLnB1c2godCl9ZnVuY3Rpb24gcygpe3ZhciB0PWYuc2hpZnQoKTt0JiYoaChcIlJFVFJZXCIsdFswXS5uYW1lLHRbMV0pLHRbMF0uYXBwbHkobnVsbCx0WzFdKSl9dmFyIGM9dChcImZzXCIpLGE9dChcIi4vcG9seWZpbGxzLmpzXCIpLHU9dChcIi4vbGVnYWN5LXN0cmVhbXMuanNcIiksZj1bXSxsPXQoXCJ1dGlsXCIpLGg9bztsLmRlYnVnbG9nP2g9bC5kZWJ1Z2xvZyhcImdmczRcIik6L1xcYmdmczRcXGIvaS50ZXN0KHByb2Nlc3MuZW52Lk5PREVfREVCVUd8fFwiXCIpJiYoaD1mdW5jdGlvbigpe3ZhciB0PWwuZm9ybWF0LmFwcGx5KGwsYXJndW1lbnRzKTt0PVwiR0ZTNDogXCIrdC5zcGxpdCgvXFxuLykuam9pbihcIlxcbkdGUzQ6IFwiKSxjb25zb2xlLmVycm9yKHQpfSksL1xcYmdmczRcXGIvaS50ZXN0KHByb2Nlc3MuZW52Lk5PREVfREVCVUd8fFwiXCIpJiZwcm9jZXNzLm9uKFwiZXhpdFwiLGZ1bmN0aW9uKCl7aChmKSx0KFwiYXNzZXJ0XCIpLmVxdWFsKGYubGVuZ3RoLDApfSksZS5leHBvcnRzPXIodChcIi4vZnMuanNcIikpLHByb2Nlc3MuZW52LlRFU1RfR1JBQ0VGVUxfRlNfR0xPQkFMX1BBVENIJiYoZS5leHBvcnRzPXIoYykpLGUuZXhwb3J0cy5jbG9zZT1jLmNsb3NlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiB0LmNhbGwoYyxlLGZ1bmN0aW9uKHQpe3R8fHMoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfX0oYy5jbG9zZSksZS5leHBvcnRzLmNsb3NlU3luYz1jLmNsb3NlU3luYz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49dC5hcHBseShjLGFyZ3VtZW50cyk7cmV0dXJuIHMoKSxufX0oYy5jbG9zZVN5bmMpfSx7XCIuL2ZzLmpzXCI6NCxcIi4vbGVnYWN5LXN0cmVhbXMuanNcIjo2LFwiLi9wb2x5ZmlsbHMuanNcIjo3LGFzc2VydDp2b2lkIDAsZnM6dm9pZCAwLHV0aWw6dm9pZCAwfV0sNjpbZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCl7ZnVuY3Rpb24gZShuLG8pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGUpKXJldHVybiBuZXcgZShuLG8pO3IuY2FsbCh0aGlzKTt2YXIgaT10aGlzO3RoaXMucGF0aD1uLHRoaXMuZmQ9bnVsbCx0aGlzLnJlYWRhYmxlPSEwLHRoaXMucGF1c2VkPSExLHRoaXMuZmxhZ3M9XCJyXCIsdGhpcy5tb2RlPTQzOCx0aGlzLmJ1ZmZlclNpemU9NjU1MzYsbz1vfHx7fTtmb3IodmFyIHM9T2JqZWN0LmtleXMobyksYz0wLGE9cy5sZW5ndGg7YzxhO2MrKyl7dmFyIHU9c1tjXTt0aGlzW3VdPW9bdV19aWYodGhpcy5lbmNvZGluZyYmdGhpcy5zZXRFbmNvZGluZyh0aGlzLmVuY29kaW5nKSx2b2lkIDAhPT10aGlzLnN0YXJ0KXtpZihcIm51bWJlclwiIT10eXBlb2YgdGhpcy5zdGFydCl0aHJvdyBUeXBlRXJyb3IoXCJzdGFydCBtdXN0IGJlIGEgTnVtYmVyXCIpO2lmKHZvaWQgMD09PXRoaXMuZW5kKXRoaXMuZW5kPTEvMDtlbHNlIGlmKFwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLmVuZCl0aHJvdyBUeXBlRXJyb3IoXCJlbmQgbXVzdCBiZSBhIE51bWJlclwiKTtpZih0aGlzLnN0YXJ0PnRoaXMuZW5kKXRocm93IG5ldyBFcnJvcihcInN0YXJ0IG11c3QgYmUgPD0gZW5kXCIpO3RoaXMucG9zPXRoaXMuc3RhcnR9cmV0dXJuIG51bGwhPT10aGlzLmZkP3ZvaWQgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe2kuX3JlYWQoKX0pOnZvaWQgdC5vcGVuKHRoaXMucGF0aCx0aGlzLmZsYWdzLHRoaXMubW9kZSxmdW5jdGlvbih0LGUpe3JldHVybiB0PyhpLmVtaXQoXCJlcnJvclwiLHQpLHZvaWQoaS5yZWFkYWJsZT0hMSkpOihpLmZkPWUsaS5lbWl0KFwib3BlblwiLGUpLHZvaWQgaS5fcmVhZCgpKX0pfWZ1bmN0aW9uIG4oZSxvKXtpZighKHRoaXMgaW5zdGFuY2VvZiBuKSlyZXR1cm4gbmV3IG4oZSxvKTtyLmNhbGwodGhpcyksdGhpcy5wYXRoPWUsdGhpcy5mZD1udWxsLHRoaXMud3JpdGFibGU9ITAsdGhpcy5mbGFncz1cIndcIix0aGlzLmVuY29kaW5nPVwiYmluYXJ5XCIsdGhpcy5tb2RlPTQzOCx0aGlzLmJ5dGVzV3JpdHRlbj0wLG89b3x8e307Zm9yKHZhciBpPU9iamVjdC5rZXlzKG8pLHM9MCxjPWkubGVuZ3RoO3M8YztzKyspe3ZhciBhPWlbc107dGhpc1thXT1vW2FdfWlmKHZvaWQgMCE9PXRoaXMuc3RhcnQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLnN0YXJ0KXRocm93IFR5cGVFcnJvcihcInN0YXJ0IG11c3QgYmUgYSBOdW1iZXJcIik7aWYodGhpcy5zdGFydDwwKXRocm93IG5ldyBFcnJvcihcInN0YXJ0IG11c3QgYmUgPj0gemVyb1wiKTt0aGlzLnBvcz10aGlzLnN0YXJ0fXRoaXMuYnVzeT0hMSx0aGlzLl9xdWV1ZT1bXSxudWxsPT09dGhpcy5mZCYmKHRoaXMuX29wZW49dC5vcGVuLHRoaXMuX3F1ZXVlLnB1c2goW3RoaXMuX29wZW4sdGhpcy5wYXRoLHRoaXMuZmxhZ3MsdGhpcy5tb2RlLHZvaWQgMF0pLHRoaXMuZmx1c2goKSl9cmV0dXJue1JlYWRTdHJlYW06ZSxXcml0ZVN0cmVhbTpufX12YXIgcj10KFwic3RyZWFtXCIpLlN0cmVhbTtlLmV4cG9ydHM9b30se3N0cmVhbTp2b2lkIDB9XSw3OltmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0KXtmLmhhc093blByb3BlcnR5KFwiT19TWU1MSU5LXCIpJiZwcm9jZXNzLnZlcnNpb24ubWF0Y2goL152MFxcLjZcXC5bMC0yXXxedjBcXC41XFwuLykmJnIodCksdC5sdXRpbWVzfHxpKHQpLHQuY2hvd249cyh0LmNob3duKSx0LmZjaG93bj1zKHQuZmNob3duKSx0LmxjaG93bj1zKHQubGNob3duKSx0LmNobW9kPXModC5jaG1vZCksdC5mY2htb2Q9cyh0LmZjaG1vZCksdC5sY2htb2Q9cyh0LmxjaG1vZCksdC5jaG93blN5bmM9Yyh0LmNob3duU3luYyksdC5mY2hvd25TeW5jPWModC5mY2hvd25TeW5jKSx0LmxjaG93blN5bmM9Yyh0LmxjaG93blN5bmMpLHQuY2htb2RTeW5jPXModC5jaG1vZFN5bmMpLHQuZmNobW9kU3luYz1zKHQuZmNobW9kU3luYyksdC5sY2htb2RTeW5jPXModC5sY2htb2RTeW5jKSx0LmxjaG1vZHx8KHQubGNobW9kPWZ1bmN0aW9uKHQsZSxuKXtwcm9jZXNzLm5leHRUaWNrKG4pfSx0LmxjaG1vZFN5bmM9ZnVuY3Rpb24oKXt9KSx0LmxjaG93bnx8KHQubGNob3duPWZ1bmN0aW9uKHQsZSxuLG8pe3Byb2Nlc3MubmV4dFRpY2sobyl9LHQubGNob3duU3luYz1mdW5jdGlvbigpe30pLFwid2luMzJcIj09PXByb2Nlc3MucGxhdGZvcm0mJih0LnJlbmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLG8pe3ZhciByPURhdGUubm93KCk7dChlLG4sZnVuY3Rpb24gaShzKXtyZXR1cm4gcyYmKFwiRUFDQ0VTXCI9PT1zLmNvZGV8fFwiRVBFUk1cIj09PXMuY29kZSkmJkRhdGUubm93KCktcjwxZTM/dChlLG4saSk6dm9pZChvJiZvKHMpKX0pfX0odC5yZW5hbWUpKSx0LnJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4sbyxyLGkscyxjKXt2YXIgYTtpZihjJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjKXt2YXIgdT0wO2E9ZnVuY3Rpb24oZixsLGgpe3JldHVybiBmJiZcIkVBR0FJTlwiPT09Zi5jb2RlJiZ1PDEwPyh1KyssZS5jYWxsKHQsbixvLHIsaSxzLGEpKTp2b2lkIGMuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1yZXR1cm4gZS5jYWxsKHQsbixvLHIsaSxzLGEpfX0odC5yZWFkKSx0LnJlYWRTeW5jPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuLG8scixpLHMpe2Zvcih2YXIgYz0wOzspdHJ5e3JldHVybiBlLmNhbGwodCxuLG8scixpLHMpfWNhdGNoKGEpe2lmKFwiRUFHQUlOXCI9PT1hLmNvZGUmJmM8MTApe2MrKztjb250aW51ZX10aHJvdyBhfX19KHQucmVhZFN5bmMpfWZ1bmN0aW9uIHIodCl7dC5sY2htb2Q9ZnVuY3Rpb24oZSxuLG8pe289b3x8bm9vcCx0Lm9wZW4oZSxmLk9fV1JPTkxZfGYuT19TWU1MSU5LLG4sZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT92b2lkIG8oZSk6dm9pZCB0LmZjaG1vZChyLG4sZnVuY3Rpb24oZSl7dC5jbG9zZShyLGZ1bmN0aW9uKHQpe28oZXx8dCl9KX0pfSl9LHQubGNobW9kU3luYz1mdW5jdGlvbihlLG4pe3ZhciBvLHI9dC5vcGVuU3luYyhlLGYuT19XUk9OTFl8Zi5PX1NZTUxJTkssbiksaT0hMDt0cnl7bz10LmZjaG1vZFN5bmMocixuKSxpPSExfWZpbmFsbHl7aWYoaSl0cnl7dC5jbG9zZVN5bmMocil9Y2F0Y2gocyl7fWVsc2UgdC5jbG9zZVN5bmMocil9cmV0dXJuIG99fWZ1bmN0aW9uIGkodCl7Zi5oYXNPd25Qcm9wZXJ0eShcIk9fU1lNTElOS1wiKT8odC5sdXRpbWVzPWZ1bmN0aW9uKGUsbixvLHIpe3Qub3BlbihlLGYuT19TWU1MSU5LLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHI9cnx8bm9vcCxlP3IoZSk6dm9pZCB0LmZ1dGltZXMoaSxuLG8sZnVuY3Rpb24oZSl7dC5jbG9zZShpLGZ1bmN0aW9uKHQpe3JldHVybiByKGV8fHQpfSl9KX0pfSx0Lmx1dGltZXNTeW5jPWZ1bmN0aW9uKGUsbixvKXt2YXIgcixpPXQub3BlblN5bmMoZSxmLk9fU1lNTElOSykscz0hMDt0cnl7cj10LmZ1dGltZXNTeW5jKGksbixvKSxzPSExfWZpbmFsbHl7aWYocyl0cnl7dC5jbG9zZVN5bmMoaSl9Y2F0Y2goYyl7fWVsc2UgdC5jbG9zZVN5bmMoaSl9cmV0dXJuIHJ9KToodC5sdXRpbWVzPWZ1bmN0aW9uKHQsZSxuLG8pe3Byb2Nlc3MubmV4dFRpY2sobyl9LHQubHV0aW1lc1N5bmM9ZnVuY3Rpb24oKXt9KX1mdW5jdGlvbiBzKHQpe3JldHVybiB0P2Z1bmN0aW9uKGUsbixvLHIpe3JldHVybiB0LmNhbGwodSxlLG4sbyxmdW5jdGlvbih0LGUpe2EodCkmJih0PW51bGwpLHIodCxlKX0pfTp0fWZ1bmN0aW9uIGModCl7cmV0dXJuIHQ/ZnVuY3Rpb24oZSxuLG8pe3RyeXtyZXR1cm4gdC5jYWxsKHUsZSxuLG8pfWNhdGNoKHIpe2lmKCFhKHIpKXRocm93IHJ9fTp0fWZ1bmN0aW9uIGEodCl7aWYoIXQpcmV0dXJuITA7aWYoXCJFTk9TWVNcIj09PXQuY29kZSlyZXR1cm4hMDt2YXIgZT0hcHJvY2Vzcy5nZXR1aWR8fDAhPT1wcm9jZXNzLmdldHVpZCgpO3JldHVybiEoIWV8fFwiRUlOVkFMXCIhPT10LmNvZGUmJlwiRVBFUk1cIiE9PXQuY29kZSl9dmFyIHU9dChcIi4vZnMuanNcIiksZj10KFwiY29uc3RhbnRzXCIpLGw9cHJvY2Vzcy5jd2QsaD1udWxsO3Byb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIGh8fChoPWwuY2FsbChwcm9jZXNzKSksaH07dHJ5e3Byb2Nlc3MuY3dkKCl9Y2F0Y2gocCl7fXZhciBkPXByb2Nlc3MuY2hkaXI7cHJvY2Vzcy5jaGRpcj1mdW5jdGlvbih0KXtoPW51bGwsZC5jYWxsKHByb2Nlc3MsdCl9LGUuZXhwb3J0cz1vfSx7XCIuL2ZzLmpzXCI6NCxjb25zdGFudHM6dm9pZCAwfV0sODpbZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxvKXt2YXIgcj10aGlzIGluc3RhbmNlb2YgdD90aGlzOm47aWYoci5yZXNldChvKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MCYmci5oYXNoKGUpLHIhPT10aGlzKXJldHVybiByfXZhciBuO3QucHJvdG90eXBlLmhhc2g9ZnVuY3Rpb24odCl7dmFyIGUsbixvLHIsaTtzd2l0Y2goaT10Lmxlbmd0aCx0aGlzLmxlbis9aSxuPXRoaXMuazEsbz0wLHRoaXMucmVtKXtjYXNlIDA6bl49aT5vPzY1NTM1JnQuY2hhckNvZGVBdChvKyspOjA7Y2FzZSAxOm5ePWk+bz8oNjU1MzUmdC5jaGFyQ29kZUF0KG8rKykpPDw4OjA7Y2FzZSAyOm5ePWk+bz8oNjU1MzUmdC5jaGFyQ29kZUF0KG8rKykpPDwxNjowO2Nhc2UgMzpuXj1pPm8/KDI1NSZ0LmNoYXJDb2RlQXQobykpPDwyNDowLG5ePWk+bz8oNjUyODAmdC5jaGFyQ29kZUF0KG8rKykpPj44OjB9aWYodGhpcy5yZW09aSt0aGlzLnJlbSYzLGktPXRoaXMucmVtLGk+MCl7Zm9yKGU9dGhpcy5oMTs7KXtpZihuPTExNjAxKm4rMzQzMjkwNjc1MiooNjU1MzUmbikmNDI5NDk2NzI5NSxuPW48PDE1fG4+Pj4xNyxuPTEzNzE1Km4rNDYxODMyMTkyKig2NTUzNSZuKSY0Mjk0OTY3Mjk1LGVePW4sZT1lPDwxM3xlPj4+MTksZT01KmUrMzg2NDI5MjE5NiY0Mjk0OTY3Mjk1LG8+PWkpYnJlYWs7bj02NTUzNSZ0LmNoYXJDb2RlQXQobysrKV4oNjU1MzUmdC5jaGFyQ29kZUF0KG8rKykpPDw4Xig2NTUzNSZ0LmNoYXJDb2RlQXQobysrKSk8PDE2LHI9dC5jaGFyQ29kZUF0KG8rKyksbl49KDI1NSZyKTw8MjReKDY1MjgwJnIpPj44fXN3aXRjaChuPTAsdGhpcy5yZW0pe2Nhc2UgMzpuXj0oNjU1MzUmdC5jaGFyQ29kZUF0KG8rMikpPDwxNjtjYXNlIDI6bl49KDY1NTM1JnQuY2hhckNvZGVBdChvKzEpKTw8ODtjYXNlIDE6bl49NjU1MzUmdC5jaGFyQ29kZUF0KG8pfXRoaXMuaDE9ZX1yZXR1cm4gdGhpcy5rMT1uLHRoaXN9LHQucHJvdG90eXBlLnJlc3VsdD1mdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIHQ9dGhpcy5rMSxlPXRoaXMuaDEsdD4wJiYodD0xMTYwMSp0KzM0MzI5MDY3NTIqKDY1NTM1JnQpJjQyOTQ5NjcyOTUsdD10PDwxNXx0Pj4+MTcsdD0xMzcxNSp0KzQ2MTgzMjE5MiooNjU1MzUmdCkmNDI5NDk2NzI5NSxlXj10KSxlXj10aGlzLmxlbixlXj1lPj4+MTYsZT01MTgxOSplKzIyNDY3NzA2ODgqKDY1NTM1JmUpJjQyOTQ5NjcyOTUsZV49ZT4+PjEzLGU9NDQ1OTcqZSszMjY2NDQ1MzEyKig2NTUzNSZlKSY0Mjk0OTY3Mjk1LGVePWU+Pj4xNixlPj4+MH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaDE9XCJudW1iZXJcIj09dHlwZW9mIHQ/dDowLHRoaXMucmVtPXRoaXMuazE9dGhpcy5sZW49MCx0aGlzfSxuPW5ldyB0LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlP2UuZXhwb3J0cz10OnRoaXMuTXVybXVySGFzaDM9dH0oKX0se31dLDk6W2Z1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oKXt2YXIgZSxvLHIsaSxzLGMsYSx1LGYsbCxoLHAsZCx5LG09ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgbyBpbiBlKXYuY2FsbChlLG8pJiYodFtvXT1lW29dKTtyZXR1cm4gbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5fX3N1cGVyX189ZS5wcm90b3R5cGUsdH0sdj17fS5oYXNPd25Qcm9wZXJ0eTtkPXQoXCJwYXRoXCIpLHA9dChcImZzXCIpLGg9dChcImV2ZW50c1wiKSx5PXQoXCJ3cml0ZS1maWxlLWF0b21pY1wiKS5zeW5jLG89XCItLS0uRU1QVFlfU1RSSU5HLi0tLVwiLGE9ZnVuY3Rpb24odCl7dmFyIGUsbixvLHIsaTtmb3Iocj1wLnJlYWRkaXJTeW5jKHQpLGk9W10sZT0wLG49ci5sZW5ndGg7ZTxuO2UrKylvPXJbZV0saS5wdXNoKGYoZC5qb2luKHQsbykpKTtyZXR1cm4gaX0sZj1mdW5jdGlvbih0KXtyZXR1cm4gcC5zdGF0U3luYyh0KS5pc0RpcmVjdG9yeSgpPyhhKHQpLHAucm1kaXJTeW5jKHQpKTpwLnVubGlua1N5bmModCl9LHU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9XCJcIj09PXQ/bzp0LnRvU3RyaW5nKCl9LHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt0aGlzLm1lc3NhZ2U9bnVsbCE9dD90OlwiVW5rbm93biBlcnJvci5cIixudWxsIT1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKSx0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfXJldHVybiBtKGUsdCksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lK1wiOiBcIit0aGlzLm1lc3NhZ2V9LGV9KEVycm9yKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixvLHIpe3RoaXMua2V5PXQsdGhpcy5vbGRWYWx1ZT1lLHRoaXMubmV3VmFsdWU9bix0aGlzLnVybD1vLHRoaXMuc3RvcmFnZUFyZWE9bnVsbCE9cj9yOlwibG9jYWxTdG9yYWdlXCJ9cmV0dXJuIHR9KCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZih0aGlzLmtleT1lLHRoaXMuaW5kZXg9biwhKHRoaXMgaW5zdGFuY2VvZiB0KSlyZXR1cm4gbmV3IHQodGhpcy5rZXksdGhpcy5pbmRleCl9cmV0dXJuIHR9KCksbD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG51bGwpLG5ldyB0fSxyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxvKXtyZXR1cm4gdGhpcy5fbG9jYXRpb249dCx0aGlzLnF1b3RhPW51bGwhPW8/bzo1MjQyODgwLHRoaXMgaW5zdGFuY2VvZiBlPyh0aGlzLl9sb2NhdGlvbj1kLnJlc29sdmUodGhpcy5fbG9jYXRpb24pLG51bGwhPW5bdGhpcy5fbG9jYXRpb25dP25bdGhpcy5fbG9jYXRpb25dOih0aGlzLmxlbmd0aD0wLHRoaXMuX2J5dGVzSW5Vc2U9MCx0aGlzLl9rZXlzPVtdLHRoaXMuX21ldGFLZXlNYXA9bCgpLHRoaXMuX2V2ZW50VXJsPVwicGlkOlwiK3Byb2Nlc3MucGlkLHRoaXMuX2luaXQoKSx0aGlzLl9RVU9UQV9FWENFRURFRF9FUlI9cyxuW3RoaXMuX2xvY2F0aW9uXT10aGlzLG5bdGhpcy5fbG9jYXRpb25dKSk6bmV3IGUodGhpcy5fbG9jYXRpb24sdGhpcy5xdW90YSl9dmFyIG47cmV0dXJuIG0oZSx0KSxuPXt9LGUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8scixzLGMsYTt0cnl7aWYoYT1wLnN0YXRTeW5jKHRoaXMuX2xvY2F0aW9uKSxudWxsIT1hJiYhYS5pc0RpcmVjdG9yeSgpKXRocm93IG5ldyBFcnJvcihcIkEgZmlsZSBleGlzdHMgYXQgdGhlIGxvY2F0aW9uICdcIit0aGlzLl9sb2NhdGlvbitcIicgd2hlbiB0cnlpbmcgdG8gY3JlYXRlL29wZW4gbG9jYWxTdG9yYWdlXCIpO2Zvcih0aGlzLl9ieXRlc0luVXNlPTAsdGhpcy5sZW5ndGg9MCxuPXAucmVhZGRpclN5bmModGhpcy5fbG9jYXRpb24pLHI9bz0wLGM9bi5sZW5ndGg7bzxjO3I9KytvKXM9bltyXSxlPWRlY29kZVVSSUNvbXBvbmVudChzKSx0aGlzLl9rZXlzLnB1c2goZSksdD1uZXcgaShzLHIpLHRoaXMuX21ldGFLZXlNYXBbZV09dCxhPXRoaXMuX2dldFN0YXQocyksbnVsbCE9KG51bGwhPWE/YS5zaXplOnZvaWQgMCkmJih0LnNpemU9YS5zaXplLHRoaXMuX2J5dGVzSW5Vc2UrPWEuc2l6ZSk7dGhpcy5sZW5ndGg9bi5sZW5ndGh9Y2F0Y2godSl7cC5ta2RpclN5bmModGhpcy5fbG9jYXRpb24pfX0sZS5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbih0LGUpe3ZhciBuLG8scixhLGYsbCxwLG0sdixnO2lmKGY9aC5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCh0aGlzLFwic3RvcmFnZVwiKSxtPW51bGwsZiYmKG09dGhpcy5nZXRJdGVtKHQpKSx0PXUodCksbj1lbmNvZGVVUklDb21wb25lbnQodCksYT1kLmpvaW4odGhpcy5fbG9jYXRpb24sbiksdj1lLnRvU3RyaW5nKCksZz12Lmxlbmd0aCxsPXRoaXMuX21ldGFLZXlNYXBbdF0scj0hIWwscD1yP2wuc2l6ZTowLHRoaXMuX2J5dGVzSW5Vc2UtcCtnPnRoaXMucXVvdGEpdGhyb3cgbmV3IHM7aWYoeShhLHYsXCJ1dGY4XCIpLHJ8fChsPW5ldyBpKG4sdGhpcy5fa2V5cy5wdXNoKHQpLTEpLGwuc2l6ZT1nLHRoaXMuX21ldGFLZXlNYXBbdF09bCx0aGlzLmxlbmd0aCs9MSx0aGlzLl9ieXRlc0luVXNlKz1nKSxmKXJldHVybiBvPW5ldyBjKHQsbSxlLHRoaXMuX2V2ZW50VXJsKSx0aGlzLmVtaXQoXCJzdG9yYWdlXCIsbyl9LGUucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24odCl7dmFyIGUsbjtyZXR1cm4gdD11KHQpLG49dGhpcy5fbWV0YUtleU1hcFt0XSxuPyhlPWQuam9pbih0aGlzLl9sb2NhdGlvbixuLmtleSkscC5yZWFkRmlsZVN5bmMoZSxcInV0ZjhcIikpOm51bGx9LGUucHJvdG90eXBlLl9nZXRTdGF0PWZ1bmN0aW9uKHQpe3ZhciBlO3Q9dSh0KSxlPWQuam9pbih0aGlzLl9sb2NhdGlvbixlbmNvZGVVUklDb21wb25lbnQodCkpO3RyeXtyZXR1cm4gcC5zdGF0U3luYyhlKX1jYXRjaChuKXtyZXR1cm4gbnVsbH19LGUucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24odCl7dmFyIGUsbixvLHIsaSxzLGEsbCxwO2lmKHQ9dSh0KSxzPXRoaXMuX21ldGFLZXlNYXBbdF0pe289aC5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCh0aGlzLFwic3RvcmFnZVwiKSxhPW51bGwsbyYmKGE9dGhpcy5nZXRJdGVtKHQpKSxkZWxldGUgdGhpcy5fbWV0YUtleU1hcFt0XSx0aGlzLmxlbmd0aC09MSx0aGlzLl9ieXRlc0luVXNlLT1zLnNpemUsbj1kLmpvaW4odGhpcy5fbG9jYXRpb24scy5rZXkpLHRoaXMuX2tleXMuc3BsaWNlKHMuaW5kZXgsMSksbD10aGlzLl9tZXRhS2V5TWFwO2ZvcihyIGluIGwpcD1sW3JdLGk9dGhpcy5fbWV0YUtleU1hcFtyXSxpLmluZGV4PnMuaW5kZXgmJihpLmluZGV4LT0xKTtpZihmKG4pLG8pcmV0dXJuIGU9bmV3IGModCxhLG51bGwsdGhpcy5fZXZlbnRVcmwpLHRoaXMuZW1pdChcInN0b3JhZ2VcIixlKX19LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fa2V5c1t0XX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdDtpZihhKHRoaXMuX2xvY2F0aW9uKSx0aGlzLl9tZXRhS2V5TWFwPWwoKSx0aGlzLl9rZXlzPVtdLHRoaXMubGVuZ3RoPTAsdGhpcy5fYnl0ZXNJblVzZT0wLGguRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQodGhpcyxcInN0b3JhZ2VcIikpcmV0dXJuIHQ9bmV3IGMobnVsbCxudWxsLG51bGwsdGhpcy5fZXZlbnRVcmwpLHRoaXMuZW1pdChcInN0b3JhZ2VcIix0KX0sZS5wcm90b3R5cGUuX2dldEJ5dGVzSW5Vc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnl0ZXNJblVzZX0sZS5wcm90b3R5cGUuX2RlbGV0ZUxvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSBuW3RoaXMuX2xvY2F0aW9uXSxmKHRoaXMuX2xvY2F0aW9uKSx0aGlzLl9tZXRhS2V5TWFwPXt9LHRoaXMuX2tleXM9W10sdGhpcy5sZW5ndGg9MCx0aGlzLl9ieXRlc0luVXNlPTB9LGV9KGguRXZlbnRFbWl0dGVyKSxlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBtKGUsdCksZS5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbih0LG4pe3ZhciBvO3JldHVybiBvPUpTT04uc3RyaW5naWZ5KG4pLGUuX19zdXBlcl9fLnNldEl0ZW0uY2FsbCh0aGlzLHQsbyl9LGUucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24odCl7cmV0dXJuIEpTT04ucGFyc2UoZS5fX3N1cGVyX18uZ2V0SXRlbS5jYWxsKHRoaXMsdCkpfSxlfShyKSxuLkxvY2FsU3RvcmFnZT1yLG4uSlNPTlN0b3JhZ2U9ZSxuLlFVT1RBX0VYQ0VFREVEX0VSUj1zfSkuY2FsbCh0aGlzKX0se2V2ZW50czp2b2lkIDAsZnM6dm9pZCAwLHBhdGg6dm9pZCAwLFwid3JpdGUtZmlsZS1hdG9taWNcIjoxNH1dLDEwOltmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIHQodSl7dSYmIXMmJihzPXUpO2Zvcih2YXIgZj1hcmd1bWVudHMubGVuZ3RoLGw9MTtsPGY7bCsrKXZvaWQgMCE9PWFyZ3VtZW50c1tsXSYmKGlbbC0xXT0oaVtsLTFdfHxbXSkuY29uY2F0KGFyZ3VtZW50c1tsXSkpO2lmKG4ubGVuZ3RoPmMpe3ZhciBoPW4uc2xpY2UoYyk7YSs9KG4ubGVuZ3RoLWMpKnIsYz1uLmxlbmd0aCxwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7aC5mb3JFYWNoKGZ1bmN0aW9uKG4pe2UuZm9yRWFjaChmdW5jdGlvbihlKXtlKG4sdCl9KX0pfSl9MD09PS0tYSYmby5hcHBseShudWxsLFtzXS5jb25jYXQoaSkpfXZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksbj1lLnNoaWZ0KCl8fFtdLG89ZS5wb3AoKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcihcIk5vIGNhbGxiYWNrIHByb3ZpZGVkIHRvIGFzeW5jTWFwXCIpO2lmKCFuKXJldHVybiBvKG51bGwsW10pO0FycmF5LmlzQXJyYXkobil8fChuPVtuXSk7dmFyIHI9ZS5sZW5ndGgsaT1bXSxzPW51bGwsYz1uLmxlbmd0aCxhPWMqcjtyZXR1cm4gYT92b2lkIG4uZm9yRWFjaChmdW5jdGlvbihuKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZShuLHQpfSl9KTpvKG51bGwsW10pfWUuZXhwb3J0cz1vfSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKCl7dmFyIHQsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLG49bnVsbDtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZVswXT8obj1lLnNoaWZ0KCksdD1lLnNoaWZ0KCksXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PW5bdF0pKTp0PWUuc2hpZnQoKSxmdW5jdGlvbihvKXt0LmFwcGx5KG4sZS5jb25jYXQobykpfX1lLmV4cG9ydHM9b30se31dLDEyOltmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPVtdOyFmdW5jdGlvbiBpKHMsYyl7cmV0dXJuIHM+PWM/ZShudWxsLG4pOihBcnJheS5pc0FycmF5KHRbc10pJiYodFtzXT1yLmFwcGx5KG51bGwsdFtzXS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1vLmZpcnN0P25bMF06dD09PW8ubGFzdD9uW24ubGVuZ3RoLTFdOnR9KSkpLHRbc10/dm9pZCB0W3NdKGZ1bmN0aW9uKHQsbyl7cmV0dXJuIHQ/ZSh0LG4pOih2b2lkIDAhPT1vJiYobj1uLmNvbmNhdChvKSksdm9pZCBpKHMrMSxjKSl9KTppKHMrMSxjKSl9KDAsdC5sZW5ndGgpfWUuZXhwb3J0cz1vO3ZhciByPXQoXCIuL2JpbmQtYWN0b3IuanNcIik7by5maXJzdD17fSxvLmxhc3Q9e319LHtcIi4vYmluZC1hY3Rvci5qc1wiOjExfV0sMTM6W2Z1bmN0aW9uKHQsZSxuKXtuLmFzeW5jTWFwPXQoXCIuL2FzeW5jLW1hcFwiKSxuLmJpbmRBY3Rvcj10KFwiLi9iaW5kLWFjdG9yXCIpLG4uY2hhaW49dChcIi4vY2hhaW5cIil9LHtcIi4vYXN5bmMtbWFwXCI6MTAsXCIuL2JpbmQtYWN0b3JcIjoxMSxcIi4vY2hhaW5cIjoxMn1dLDE0OltmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oKXtmb3IodmFyIHQ9bmV3IHMsZT0wO2U8YXJndW1lbnRzLmxlbmd0aDsrK2UpdC5oYXNoKFwiXCIrYXJndW1lbnRzW2VdKTtyZXR1cm4gdC5yZXN1bHQoKX12YXIgcj10KFwiZ3JhY2VmdWwtZnNcIiksaT10KFwic2xpZGVcIikuY2hhaW4scz10KFwiaW11cm11cmhhc2hcIiksYz0wLGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQrXCIuXCIrbyhuLHByb2Nlc3MucGlkLCsrYyl9O2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixvKXtuIGluc3RhbmNlb2YgRnVuY3Rpb24mJihvPW4sbj1udWxsKSxufHwobj17fSk7dmFyIHM9YSh0KTtpKFtbcixyLndyaXRlRmlsZSxzLGUsbl0sbi5jaG93biYmW3Isci5jaG93bixzLG4uY2hvd24udWlkLG4uY2hvd24uZ2lkXSxbcixyLnJlbmFtZSxzLHRdXSxmdW5jdGlvbih0KXt0P3IudW5saW5rKHMsZnVuY3Rpb24oKXtvKHQpfSk6bygpfSl9LGUuZXhwb3J0cy5zeW5jPWZ1bmN0aW9uKHQsZSxuKXtufHwobj17fSk7dmFyIG89YSh0KTt0cnl7ci53cml0ZUZpbGVTeW5jKG8sZSxuKSxuLmNob3duJiZyLmNob3duU3luYyhvLG4uY2hvd24udWlkLG4uY2hvd24uZ2lkKSxyLnJlbmFtZVN5bmMobyx0KX1jYXRjaChpKXt0cnl7ci51bmxpbmtTeW5jKG8pfWNhdGNoKHMpe310aHJvdyBpfX19KS5jYWxsKHRoaXMsXCIvaG9tZS92c2lsdmEvcHQtaW5vdmFjYW8vcmV0aGluay1wcm9qZWN0L2Rldi1zZXJ2aWNlLWZyYW1ld29yay9ub2RlX21vZHVsZXMvd3JpdGUtZmlsZS1hdG9taWMvaW5kZXguanNcIil9LHtcImdyYWNlZnVsLWZzXCI6NSxpbXVybXVyaGFzaDo4LHNsaWRlOjEzfV0sMTU6W2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9dChcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeVwiKSxpPW8ocikscz10KFwiLi91bml2ZXJzYWwtbG9jYWxzdG9yYWdlXCIpLGM9byhzKSxhPXtzZXQ6ZnVuY3Rpb24odCxlLG4pe2NbXCJkZWZhdWx0XCJdLnNldEl0ZW0odCwoMCxpW1wiZGVmYXVsdFwiXSkoe3ZlcnNpb246ZSx2YWx1ZTpufSkpfSxnZXQ6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGNbXCJkZWZhdWx0XCJdLmdldEl0ZW0odCkpLnZhbHVlfWNhdGNoKGUpe319LGdldFZlcnNpb246ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGNbXCJkZWZhdWx0XCJdLmdldEl0ZW0odCkpLnZlcnNpb259Y2F0Y2goZSl7fX0sXCJkZWxldGVcIjpmdW5jdGlvbih0KXtjW1wiZGVmYXVsdFwiXS5yZW1vdmVJdGVtKHQpfX07bltcImRlZmF1bHRcIl09YSxlLmV4cG9ydHM9bltcImRlZmF1bHRcIl19LHtcIi4vdW5pdmVyc2FsLWxvY2Fsc3RvcmFnZVwiOjE3LFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5XCI6MX1dLDE2OltmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciByPXQoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnlcIiksaT1vKHIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LnNlc3Npb25TdG9yYWdlfHxmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLG4pe3ZhciBvLHI7bj8obz1uZXcgRGF0ZSxvLnNldFRpbWUoby5nZXRUaW1lKCkrMjQqbio2MCo2MCoxZTMpLHI9XCI7IGV4cGlyZXM9XCIrby50b0dNVFN0cmluZygpKTpyPVwiXCIsZG9jdW1lbnQuY29va2llPXQrXCI9XCIrZStyK1wiOyBwYXRoPS9cIn1mdW5jdGlvbiBuKHQpe3ZhciBlLG4sbz10K1wiPVwiLHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKTtmb3IoZT0wO2U8ci5sZW5ndGg7ZSsrKXtmb3Iobj1yW2VdO1wiIFwiPT1uLmNoYXJBdCgwKTspbj1uLnN1YnN0cmluZygxLG4ubGVuZ3RoKTtpZigwPT1uLmluZGV4T2YobykpcmV0dXJuIG4uc3Vic3RyaW5nKG8ubGVuZ3RoLG4ubGVuZ3RoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBvKG4pe249KDAsaVtcImRlZmF1bHRcIl0pKG4pLFwic2Vzc2lvblwiPT10P3dpbmRvdy5uYW1lPW46ZShcImxvY2FsU3RvcmFnZVwiLG4sMzY1KX1mdW5jdGlvbiByKCl7XCJzZXNzaW9uXCI9PXQ/d2luZG93Lm5hbWU9XCJcIjplKFwibG9jYWxTdG9yYWdlXCIsXCJcIiwzNjUpfWZ1bmN0aW9uIHMoKXt2YXIgZT1cInNlc3Npb25cIj09dD93aW5kb3cubmFtZTpuKFwibG9jYWxTdG9yYWdlXCIpO3JldHVybiBlP0pTT04ucGFyc2UoZSk6e319dmFyIGM9cygpO3JldHVybntsZW5ndGg6MCxjbGVhcjpmdW5jdGlvbigpe2M9e30sdGhpcy5sZW5ndGg9MCxyKCl9LGdldEl0ZW06ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PWNbdF0/bnVsbDpjW3RdfSxrZXk6ZnVuY3Rpb24odCl7dmFyIGU9MDtmb3IodmFyIG4gaW4gYyl7aWYoZT09dClyZXR1cm4gbjtlKyt9cmV0dXJuIG51bGx9LHJlbW92ZUl0ZW06ZnVuY3Rpb24odCl7ZGVsZXRlIGNbdF0sdGhpcy5sZW5ndGgtLSxvKGMpfSxzZXRJdGVtOmZ1bmN0aW9uKHQsZSl7Y1t0XT1lK1wiXCIsdGhpcy5sZW5ndGgrKyxvKGMpfX19O1widW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlJiYod2luZG93LmxvY2FsU3RvcmFnZT1uZXcgdChcImxvY2FsXCIpKSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LnNlc3Npb25TdG9yYWdlJiYod2luZG93LnNlc3Npb25TdG9yYWdlPW5ldyB0KFwic2Vzc2lvblwiKSl9KCl9LHtcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeVwiOjF9XSwxNzpbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPXZvaWQgMDtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93KXt2YXIgcj10KFwibm9kZS1sb2NhbHN0b3JhZ2VcIikuTG9jYWxTdG9yYWdlO289bmV3IHIoXCIuL3Vscy1zY3JhdGNoXCIpfWVsc2Ugbz1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdy5zZXNzaW9uU3RvcmFnZT90KFwiLi9yZW0tbG9jYWxzdG9yYWdlXCIpOndpbmRvdy5sb2NhbFN0b3JhZ2U7bltcImRlZmF1bHRcIl09byxlLmV4cG9ydHM9bltcImRlZmF1bHRcIl19LHtcIi4vcmVtLWxvY2Fsc3RvcmFnZVwiOjE2LFwibm9kZS1sb2NhbHN0b3JhZ2VcIjo5fV19LHt9LFsxNV0pKDE1KX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGVyc2lzdGVuY2VNYW5hZ2VyLmpzLm1hcFxuIiwiY2xhc3MgQ29tYmluaW5nQWxnb3JpdGhtIHtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21iaW5pbmdBbGdvcml0aG07XG4iLCJjbGFzcyBPcGVyYXRvcnMge1xuXG4gIGFuZChwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdICYmIHBhcmFtc1sxXTtcbiAgfVxuXG4gIGJldHdlZW4ocGFyYW1zKSB7XG4gICAgbGV0IHN0YXJ0ID0gcGFyc2VJbnQocGFyYW1zWzBdWzBdKTtcbiAgICBsZXQgZW5kID0gcGFyc2VJbnQocGFyYW1zWzBdWzFdKTtcbiAgICBsZXQgbm93ID0gcGFyYW1zWzFdO1xuXG4gICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICBub3cgPSAobm93IDwgc3RhcnQpID8gbm93ICs9IDI0MDAgOiBub3c7XG4gICAgICBlbmQgKz0gMjQwMDtcbiAgICB9XG5cbiAgICByZXR1cm4gKG5vdyA+IHN0YXJ0ICYmIG5vdyA8IGVuZCk7XG4gIH1cblxuICBlcXVhbHMocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXSA9PT0gJyonIHx8IHBhcmFtc1swXSA9PT0gcGFyYW1zWzFdO1xuICB9XG5cbiAgaW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXS5pbmRleE9mKHBhcmFtc1sxXSkgPiAtMTtcbiAgfVxuXG4gIG5vdChwYXJhbXMpIHtcbiAgICByZXR1cm4gIXBhcmFtc1swXTtcbiAgfVxuXG4gIG9yKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMF0gfHwgcGFyYW1zWzFdO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3BlcmF0b3JzO1xuIiwiaW1wb3J0IE9wZXJhdG9ycyBmcm9tICcuL09wZXJhdG9ycyc7XG5pbXBvcnQgUnVudGltZUNvcmVDdHggZnJvbSAnLi9jb250ZXh0L1J1bnRpbWVDb3JlQ3R4Jztcbi8qKlxuKiBUaGUgUG9saWN5IERlY2lzaW9uIFBvaW50IChQRFApIGRlY2lkZXMgaWYgYSBtZXNzYWdlIGlzIHRvIGJlIGF1dGhvcmlzZWQgYnkgY2hlY2tpbmcgYSBzZXQgb2ZcbiogcG9saWNpZXMuIFRoZSByZXNvdXJjZSB0byBiZSB2ZXJpZmllZCBpcyBzcGVjaWZpZWQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgdGhlICdjb25kaXRpb24nIGZpZWxkIG9mXG4qIGEgUG9saWN5IG9iamVjdC4gVGhlIGltcGxlbWVudGF0aW9uIHRoYXQgdmVyaWZpZXMgaWYgdGhlIG1lc3NhZ2UgaXMgY29tcGxpYW50IHdpdGggYSBwb2xpY3kgaXNcbiogc3BlY2lmaWVkIGluIGEgaGFzaHRhYmxlIHRvIGFsbG93IGR5bmFtaWMgZGVmaW5pdGlvbiBvZiB0aGUgaW1wbGVtZW50YXRpb24sIHByb3ZpZGluZ1xuKiBleHRlbnNpYmlsaXR5IHRvIHRoZSBQb2xpY3kgRW5naW5lIGZ1bmN0aW9uYWxpdGllcy5cbiovXG5jbGFzcyBQRFAge1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMub3BlcmF0b3JzID0gbmV3IE9wZXJhdG9ycygpO1xuICB9XG5cbiAgZ2V0IGNvbnRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRleHQ7XG4gIH1cblxuICBnZXQgb3BlcmF0b3JzKCkge1xuICAgIHJldHVybiB0aGlzLl9vcGVyYXRvcnM7XG4gIH1cblxuICBzZXQgY29udGV4dChjb250ZXh0KSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gIH1cblxuICBzZXQgb3BlcmF0b3JzKG9wZXJhdG9ycykge1xuICAgIHRoaXMuX29wZXJhdG9ycyA9IG9wZXJhdG9ycztcbiAgfVxuXG4gIGFwcGx5UG9saWNpZXMobWVzc2FnZSwgcG9saWNpZXMpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5ldmFsdWF0ZVNQUG9saWN5KG1lc3NhZ2UsIHBvbGljaWVzLnNlcnZpY2VQcm92aWRlclBvbGljeSk7XG4gICAgaWYgKHRoaXMuY29udGV4dCBpbnN0YW5jZW9mIFJ1bnRpbWVDb3JlQ3R4ICYmIChyZXN1bHQgfHwgcmVzdWx0ID09PSAnTm90IEFwcGxpY2FibGUnKSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5ldmFsdWF0ZVVzZXJQb2xpY3kobWVzc2FnZSwgcG9saWNpZXMudXNlclBvbGljeSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBldmFsdWF0ZVNQUG9saWN5KG1lc3NhZ2UsIHBvbGljeSkge1xuICAgIGxldCByZXN1bHQ7XG5cbiAgICBpZiAocG9saWN5KSB7XG4gICAgICByZXN1bHQgPSBwb2xpY3kuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gJ05vdCBBcHBsaWNhYmxlJztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZXZhbHVhdGVVc2VyUG9saWN5KG1lc3NhZ2UsIHRpdGxlKSB7XG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcG9saWN5ID0gdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llc1t0aXRsZV07XG4gICAgICBpZiAocG9saWN5KSB7XG4gICAgICAgIHJlc3VsdCA9IHBvbGljeS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQsIG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gJ05vdCBBcHBsaWNhYmxlJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gJ05vdCBBcHBsaWNhYmxlJztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUERQO1xuIiwiY2xhc3MgUEVQIHtcblxuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIGVuZm9yY2VQb2xpY2llcyhtZXNzYWdlLCBwb2xpY2llcywgYXV0aERlY2lzaW9uKSB7XG4gICAgbGV0IHBvbGljeTtcblxuICAgIGlmIChwb2xpY2llcy51c2VyUG9saWN5KSB7XG4gICAgICBwb2xpY3kgPSB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW3BvbGljaWVzLnVzZXJQb2xpY3ldO1xuICAgICAgaWYgKHBvbGljeSkge1xuICAgICAgICBwb2xpY3kuZW5mb3JjZUFjdGlvbnModGhpcy5jb250ZXh0LCBtZXNzYWdlLCBhdXRoRGVjaXNpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBwb2xpY3kgPSB0aGlzLmNvbnRleHQuc2VydmljZVByb3ZpZGVyUG9saWN5O1xuICAgIGlmIChwb2xpY3kpIHtcbiAgICAgIHBvbGljeS5lbmZvcmNlQWN0aW9ucyh0aGlzLmNvbnRleHQsIG1lc3NhZ2UsIGF1dGhEZWNpc2lvbik7XG4gICAgfVxuICB9XG5cbiAgLypzZW5kQXV0b21hdGljTWVzc2FnZSgpIHt9XG5cbiAgZm9yd2FyZFRvSUQoKSB7fVxuXG4gIGZvcndhcmRUb0h5cGVydHkoKSB7fSovXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUEVQO1xuIiwiaW1wb3J0IERlbnlPdmVycmlkZXMgZnJvbSAnLi9jb21iaW5pbmdBbGdvcml0aG1zL0RlbnlPdmVycmlkZXMnO1xuaW1wb3J0IEZpcnN0QXBwbGljYWJsZSBmcm9tICcuL2NvbWJpbmluZ0FsZ29yaXRobXMvRmlyc3RBcHBsaWNhYmxlJztcblxuY2xhc3MgUG9saWN5IHtcblxuICBjb25zdHJ1Y3RvcihrZXksIHJ1bGVzLCBhY3Rpb25zLCBjb21iaW5pbmdBbGdvcml0aG0pIHtcbiAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMucnVsZXMgPSBydWxlcztcbiAgICB0aGlzLmNvbWJpbmluZ0FsZ29yaXRobSA9IGNvbWJpbmluZ0FsZ29yaXRobTtcbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gIH1cblxuICBnZXQgYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aW9ucztcbiAgfVxuXG4gIGdldCBjb21iaW5pbmdBbGdvcml0aG0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbWJpbmluZ0FsZ29yaXRobTtcbiAgfVxuXG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gIH1cblxuICBnZXQga2V5KCkge1xuICAgIHJldHVybiB0aGlzLl9rZXk7XG4gIH1cblxuICBnZXQgcnVsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3J1bGVzO1xuICB9XG5cbiAgc2V0IGNvbWJpbmluZ0FsZ29yaXRobShjb21iaW5pbmdBbGdvcml0aG0pIHtcbiAgICBpZiAoY29tYmluaW5nQWxnb3JpdGhtID09PSAnZGVueU92ZXJyaWRlcycpIHtcbiAgICAgIHRoaXMuX2NvbWJpbmluZ0FsZ29yaXRobSA9IG5ldyBEZW55T3ZlcnJpZGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjb21iaW5pbmdBbGdvcml0aG0gPT09ICdmaXJzdEFwcGxpY2FibGUnKSB7XG4gICAgICAgIHRoaXMuX2NvbWJpbmluZ0FsZ29yaXRobSA9IG5ldyBGaXJzdEFwcGxpY2FibGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKCdVbmtub3duIGFsZ29yaXRobTogJyArIGNvbWJpbmluZ0FsZ29yaXRobSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0IGFjdGlvbnMoYWN0aW9ucykge1xuICAgIHRoaXMuX2FjdGlvbnMgPSBhY3Rpb25zO1xuICB9XG5cbiAgc2V0IGlzQWN0aXZlKGlzQWN0aXZlKSB7XG4gICAgdGhpcy5faXNBY3RpdmUgPSBpc0FjdGl2ZTtcbiAgfVxuXG4gIHNldCBrZXkoa2V5KSB7XG4gICAgdGhpcy5fa2V5ID0ga2V5O1xuICB9XG5cbiAgc2V0IHJ1bGVzKHJ1bGVzKSB7XG4gICAgdGhpcy5fcnVsZXMgPSBydWxlcztcbiAgfVxuXG4gIC8vVE9ETzogRklYXG4gIGFkZFJ1bGUocnVsZSkge1xuICAgIHRoaXMuX3J1bGVzLnB1c2gocnVsZSk7XG4gIH1cblxuICBkZWxldGVSdWxlKHNjb3BlLCB0YXJnZXQsIGNvbmRpdGlvbikge1xuICAgIGRlbGV0ZSB0aGlzLnJ1bGVzW3Njb3BlXVt0YXJnZXRdW2NvbmRpdGlvbl07XG4gIH1cblxuICBlbmZvcmNlQWN0aW9ucyhjb250ZXh0LCBtZXNzYWdlLCBhdXRoRGVjaXNpb24pIHtcbiAgICBmb3IgKGxldCBpIGluIHRoaXMuYWN0aW9ucykge1xuICAgICAgY29udGV4dFt0aGlzLmFjdGlvbnNbaV1dKG1lc3NhZ2UsIGF1dGhEZWNpc2lvbik7XG4gICAgfVxuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dCwgbWVzc2FnZSkge1xuICAgIGxldCByZXN1bHRzID0gW107XG5cbiAgICBmb3IgKGxldCBpIGluIHRoaXMucnVsZXMpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh0aGlzLnJ1bGVzW2ldLmV2YWx1YXRlKGNvbnRleHQsIG1lc3NhZ2UpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb21iaW5pbmdBbGdvcml0aG0uZXZhbHVhdGUocmVzdWx0cyk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xpY3k7XG4iLCJpbXBvcnQgUEVQIGZyb20gJy4vUEVQJztcbmltcG9ydCBQRFAgZnJvbSAnLi9QRFAnO1xuXG5jbGFzcyBQb2xpY3lFbmdpbmUge1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuY29udGV4dC5wb2xpY3lFbmdpbmUgPSB0aGlzO1xuICAgIHRoaXMucGRwID0gbmV3IFBEUChjb250ZXh0KTtcbiAgICB0aGlzLnBlcCA9IG5ldyBQRVAoY29udGV4dCk7XG4gIH1cblxuICBnZXQgY29udGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udGV4dDtcbiAgfVxuXG4gIGdldCBwZHAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BkcDtcbiAgfVxuXG4gIGdldCBwZXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlcDtcbiAgfVxuXG4gIHNldCBjb250ZXh0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIHNldCBwZHAocGRwKSB7XG4gICAgdGhpcy5fcGRwID0gcGRwO1xuICB9XG5cbiAgc2V0IHBlcChwZXApIHtcbiAgICB0aGlzLl9wZXAgPSBwZXA7XG4gIH1cblxuICBhZGRQb2xpY3koc291cmNlLCBrZXksIHBvbGljeSkge1xuICAgIGlmIChzb3VyY2UgPT09ICdTRVJWSUNFX1BST1ZJREVSJykge1xuICAgICAgdGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljaWVzW2tleV0gPSBwb2xpY3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzb3VyY2UgPT09ICdVU0VSJykge1xuICAgICAgICB0aGlzLmNvbnRleHQudXNlclBvbGljaWVzW2tleV0gPSBwb2xpY3k7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcignVW5rbm93biBwb2xpY3kgc291cmNlOiAnICsgc291cmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW1vdmVQb2xpY3koc291cmNlLCBrZXkpIHtcbiAgICBpZiAoc291cmNlID09PSAnKicpIHtcbiAgICAgIHRoaXMuY29udGV4dC5zZXJ2aWNlUHJvdmlkZXJQb2xpY2llcyA9IHt9O1xuICAgICAgdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llcyA9IHt9O1xuICAgICAgdGhpcy5jb250ZXh0LmFjdGl2ZVVzZXJQb2xpY3kgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzb3VyY2UgPT09ICdTRVJWSUNFX1BST1ZJREVSJykge1xuICAgICAgICBkZWxldGUgdGhpcy5jb250ZXh0LnNlcnZpY2VQcm92aWRlclBvbGljaWVzW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc291cmNlID09PSAnVVNFUicpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llc1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKCdVbmtub3duIHBvbGljeSBzb3VyY2U6ICcgKyBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlUnVsZShrZXksIHJ1bGUpIHtcbiAgICBkZWxldGUgdGhpcy5jb250ZXh0LnVzZXJQb2xpY2llc1trZXldW3J1bGUuc2NvcGVdW3J1bGUudGFyZ2V0XVtydWxlLmNvbmRpdGlvbl07XG4gIH1cblxuICBhdXRob3Jpc2UobWVzc2FnZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzLmNvbnRleHQuYXV0aG9yaXNlKG1lc3NhZ2UpO1xuICB9XG5cbiAgZ2V0R3JvdXBzTmFtZXMoc2NvcGUsIHRhcmdldCkge1xuICAgIGxldCBteUdyb3VwcyA9IHRoaXMuY29udGV4dC5ncm91cHM7XG4gICAgbGV0IGdyb3Vwc05hbWVzID0gW107XG4gICAgaWYgKG15R3JvdXBzW3Njb3BlXVt0YXJnZXRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAobGV0IGdyb3VwTmFtZSBpbiBteUdyb3Vwc1tzY29wZV1bdGFyZ2V0XSkge1xuICAgICAgICBncm91cHNOYW1lcy5wdXNoKGdyb3VwTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncm91cHNOYW1lcztcbiAgfVxuXG4gIGdldEdyb3VwKHNjb3BlLCB0YXJnZXQsIGdyb3VwTmFtZSkge1xuICAgIGxldCBteUdyb3VwcyA9IHRoaXMuY29udGV4dC5ncm91cHM7XG4gICAgbGV0IG1lbWJlcnMgPSBbXTtcblxuICAgIGlmIChteUdyb3Vwc1tzY29wZV0gIT09IHVuZGVmaW5lZCAmJiBteUdyb3Vwc1tzY29wZV1bdGFyZ2V0XSAhPT0gdW5kZWZpbmVkICYmIG15R3JvdXBzW3Njb3BlXVt0YXJnZXRdW2dyb3VwTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWVtYmVycyA9IG15R3JvdXBzW3Njb3BlXVt0YXJnZXRdW2dyb3VwTmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbWJlcnM7XG4gIH1cblxuICAvKipcbiAgKiBDcmVhdGVzIGEgZ3JvdXAgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgKiBAcGFyYW0gIHtTdHJpbmd9ICBncm91cE5hbWVcbiAgKi9cbiAgY3JlYXRlR3JvdXAoc2NvcGUsIHRhcmdldCwgZ3JvdXBOYW1lKSB7XG4gICAgbGV0IG15R3JvdXBzID0gdGhpcy5jb250ZXh0Lmdyb3VwcztcblxuICAgIGlmIChteUdyb3Vwc1tzY29wZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbXlHcm91cHNbc2NvcGVdID0ge307XG4gICAgfVxuICAgIGlmIChteUdyb3Vwc1tzY29wZV1bdGFyZ2V0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBteUdyb3Vwc1tzY29wZV1bdGFyZ2V0XSA9IHt9O1xuICAgIH1cblxuICAgIG15R3JvdXBzW3Njb3BlXVt0YXJnZXRdW2dyb3VwTmFtZV0gPSBbXTtcbiAgfVxuXG4gIGRlbGV0ZUdyb3VwKHNjb3BlLCB0YXJnZXQsIGdyb3VwTmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmNvbnRleHQuZ3JvdXBzW3Njb3BlXVt0YXJnZXRdW2dyb3VwTmFtZV07XG4gIH1cblxuICAvKipcbiAgKiBBZGRzIHRoZSBnaXZlbiB1c2VyIGVtYWlsIHRvIHRoZSBncm91cCB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJFbWFpbFxuICAqIEBwYXJhbSAge1N0cmluZ30gIGdyb3VwTmFtZVxuICAqL1xuICBhZGRUb0dyb3VwKHNjb3BlLCB0YXJnZXQsIGdyb3VwTmFtZSwgdXNlckVtYWlsKSB7XG4gICAgbGV0IG15R3JvdXBzID0gdGhpcy5jb250ZXh0Lmdyb3VwcztcbiAgICBpZiAobXlHcm91cHNbc2NvcGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG15R3JvdXBzW3Njb3BlXSA9IHt9O1xuICAgIH1cbiAgICBpZiAobXlHcm91cHNbc2NvcGVdW3RhcmdldF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbXlHcm91cHNbc2NvcGVdW3RhcmdldF0gPSB7fTtcbiAgICB9XG4gICAgaWYgKG15R3JvdXBzW3Njb3BlXVt0YXJnZXRdW2dyb3VwTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jcmVhdGVHcm91cChzY29wZSwgdGFyZ2V0LCBncm91cE5hbWUpO1xuICAgIH1cbiAgICBpZiAobXlHcm91cHNbc2NvcGVdW3RhcmdldF1bZ3JvdXBOYW1lXS5pbmRleE9mKHVzZXJFbWFpbCkgPT09IC0xKSB7XG4gICAgICBteUdyb3Vwc1tzY29wZV1bdGFyZ2V0XVtncm91cE5hbWVdLnB1c2godXNlckVtYWlsKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVGcm9tR3JvdXAoc2NvcGUsIHRhcmdldCwgZ3JvdXBOYW1lLCB1c2VyRW1haWwpIHtcbiAgICBsZXQgbXlHcm91cHMgPSB0aGlzLmNvbnRleHQuZ3JvdXBzO1xuICAgIGxldCBncm91cCA9IG15R3JvdXBzW3Njb3BlXVt0YXJnZXRdW2dyb3VwTmFtZV07XG5cbiAgICBncm91cC5zcGxpY2UoZ3JvdXAuaW5kZXhPZih1c2VyRW1haWwpLCAxKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGljeUVuZ2luZTtcbiIsImltcG9ydCBPcGVyYXRvcnMgZnJvbSAnLi9PcGVyYXRvcnMnO1xuXG5jbGFzcyBSdWxlIHtcblxuICBjb25zdHJ1Y3RvcihhdXRob3Jpc2UsIGNvbmRpdGlvbiwgc2NvcGUsIHRhcmdldCkge1xuICAgIHRoaXMub3BlcmF0b3JzID0gbmV3IE9wZXJhdG9ycygpO1xuICAgIHRoaXMuYXV0aG9yaXNlID0gYXV0aG9yaXNlO1xuICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgfVxuXG4gIGdldCBhdXRob3Jpc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F1dGhvcmlzZTtcbiAgfVxuXG4gIGdldCBjb25kaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmRpdGlvbjtcbiAgfVxuXG4gIGdldCBzY29wZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NvcGU7XG4gIH1cblxuICBnZXQgdGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gIH1cblxuICBzZXQgYXV0aG9yaXNlKGRlY2lzaW9uKSB7XG4gICAgdGhpcy5fYXV0aG9yaXNlID0gZGVjaXNpb247XG4gIH1cblxuICBzZXQgY29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgIHRoaXMuX2NvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgfVxuXG4gIHNldCBzY29wZShzY29wZSkge1xuICAgIHRoaXMuX3Njb3BlID0gc2NvcGU7XG4gIH1cblxuICBzZXQgdGFyZ2V0KHRhcmdldCkge1xuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgfVxuXG4gIGV2YWx1YXRlKGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5jb25kaXRpb24uaXNBcHBsaWNhYmxlKGNvbnRleHQsIG1lc3NhZ2UsIHRoaXMuc2NvcGUsIHRoaXMudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXV0aG9yaXNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ05vdCBBcHBsaWNhYmxlJztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUnVsZTtcbiIsImltcG9ydCBDb21iaW5pbmdBbGdvcml0aG0gZnJvbSAnLi4vQ29tYmluaW5nQWxnb3JpdGhtJztcblxuY2xhc3MgRGVueU92ZXJyaWRlcyBleHRlbmRzIENvbWJpbmluZ0FsZ29yaXRobSB7XG5cbiAgZXZhbHVhdGUoaW5kaXZpZHVhbFJlc3VsdHMpIHtcbiAgICBpZiAoaW5kaXZpZHVhbFJlc3VsdHMuaW5kZXhPZihmYWxzZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbmRpdmlkdWFsUmVzdWx0cy5pbmRleE9mKHRydWUpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnTm90IEFwcGxpY2FibGUnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERlbnlPdmVycmlkZXM7XG4iLCJpbXBvcnQgQ29tYmluaW5nQWxnb3JpdGhtIGZyb20gJy4uL0NvbWJpbmluZ0FsZ29yaXRobSc7XG5cbmNsYXNzIEZpcnN0QXBwbGljYWJsZSBleHRlbmRzIENvbWJpbmluZ0FsZ29yaXRobSB7XG5cbiAgZXZhbHVhdGUoaW5kaXZpZHVhbFJlc3VsdHMpIHtcbiAgICBmb3IgKGxldCBpIGluIGluZGl2aWR1YWxSZXN1bHRzKSB7XG4gICAgICBpZiAoaW5kaXZpZHVhbFJlc3VsdHNbaV0gIT09ICdOb3QgQXBwbGljYWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGluZGl2aWR1YWxSZXN1bHRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnTm90IEFwcGxpY2FibGUnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpcnN0QXBwbGljYWJsZTtcbiIsImltcG9ydCBPcGVyYXRvcnMgZnJvbSAnLi4vT3BlcmF0b3JzJztcblxuY2xhc3MgQ29uZGl0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihhdHRyaWJ1dGUsIG9wZXJhdG9yLCBwYXJhbXMpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZSA9IGF0dHJpYnV0ZTtcbiAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5vcGVyYXRvcnMgPSBuZXcgT3BlcmF0b3JzKCk7XG4gIH1cblxuICBnZXQgYXR0cmlidXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGU7XG4gIH1cblxuICBnZXQgb3BlcmF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29wZXJhdG9yO1xuICB9XG5cbiAgZ2V0IHBhcmFtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyYW1zO1xuICB9XG5cbiAgc2V0IGF0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcbiAgICB0aGlzLl9hdHRyaWJ1dGUgPSBhdHRyaWJ1dGU7XG4gIH1cblxuICBzZXQgb3BlcmF0b3Iob3BlcmF0b3IpIHtcbiAgICB0aGlzLl9vcGVyYXRvciA9IG9wZXJhdG9yO1xuICB9XG5cbiAgc2V0IHBhcmFtcyhwYXJhbXMpIHtcbiAgICB0aGlzLl9wYXJhbXMgPSBwYXJhbXM7XG4gIH1cblxuICBpc0FwcGxpY2FibGUoY29udGV4dCwgbWVzc2FnZSkge1xuICAgIGNvbnRleHRbdGhpcy5hdHRyaWJ1dGVdID0geyBtZXNzYWdlOiBtZXNzYWdlIH07XG4gICAgbGV0IHZhbHVlID0gY29udGV4dFt0aGlzLmF0dHJpYnV0ZV07XG5cbiAgICBpZiAodGhpcy5vcGVyYXRvciA9PT0gJ2luJykgeyAvLyBzb3VyY2UgaW4gcHJlYXV0aFxuICAgICAgbGV0IGRhdGFPYmplY3RVUkwgPSBtZXNzYWdlLnRvLnNwbGl0KCcvJyk7XG4gICAgICBkYXRhT2JqZWN0VVJMLnBvcCgpO1xuICAgICAgZGF0YU9iamVjdFVSTCA9IGRhdGFPYmplY3RVUkxbMF0gKyAnLy8nICsgZGF0YU9iamVjdFVSTFsyXTtcbiAgICAgIHRoaXMucGFyYW1zID0gY29udGV4dC5ydW50aW1lUmVnaXN0cnkuZ2V0UHJlQXV0aFN1YnNjcmliZXJzKGRhdGFPYmplY3RVUkwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wZXJhdG9yc1t0aGlzLm9wZXJhdG9yXShbdGhpcy5wYXJhbXMsIHZhbHVlXSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25kaXRpb247XG4iLCJpbXBvcnQgQ29uZGl0aW9uIGZyb20gJy4vQ29uZGl0aW9uJztcblxuY2xhc3MgU3Vic2NyaXB0aW9uQ29uZGl0aW9uIGV4dGVuZHMgQ29uZGl0aW9uIHtcblxuICBjb25zdHJ1Y3RvcihhdHRyaWJ1dGUsIG9wZXJhdG9yLCBwYXJhbXMpIHtcbiAgICBzdXBlcihhdHRyaWJ1dGUsIG9wZXJhdG9yLCBwYXJhbXMpO1xuICB9XG5cbiAgaXNBcHBsaWNhYmxlKGNvbnRleHQsIG1lc3NhZ2UsIHNjb3BlLCB0YXJnZXQpIHtcbiAgICBsZXQgaXNTdWJzY3JpcHRpb24gPSBtZXNzYWdlLnR5cGUgPT09ICdzdWJzY3JpYmUnO1xuICAgIGxldCBpc0Zyb21SZW1vdGVTTSA9IGNvbnRleHQuaXNGcm9tUmVtb3RlU00obWVzc2FnZS5mcm9tKTtcbiAgICBpZiAoaXNTdWJzY3JpcHRpb24gJiBpc0Zyb21SZW1vdGVTTSkge1xuICAgICAgbGV0IGFwcGxpY2FibGU7XG4gICAgICBzd2l0Y2ggKHNjb3BlKSB7XG4gICAgICAgIGNhc2UgJ2dsb2JhbCc6XG4gICAgICAgICAgYXBwbGljYWJsZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2h5cGVydHknOlxuICAgICAgICAgIGxldCBoeXBlcnR5VVJMID0gY29udGV4dC5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUoKTtcbiAgICAgICAgICBhcHBsaWNhYmxlID0gdGFyZ2V0ID09PSBoeXBlcnR5VVJMO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICBsZXQgaHlwZXJ0eSA9IGNvbnRleHQucnVudGltZVJlZ2lzdHJ5LmdldFJlcG9ydGVyVVJMU3luY2hvbm91cyhjb250ZXh0LmdldFVSTChtZXNzYWdlLnRvKSk7XG4gICAgICAgICAgbGV0IG93bmVyID0gY29udGV4dC5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU93bmVyKGh5cGVydHkpO1xuICAgICAgICAgIGFwcGxpY2FibGUgPSB0YXJnZXQgPT09IG93bmVyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRhT2JqZWN0JzpcbiAgICAgICAgICBsZXQgZGF0YU9iamVjdFVSTCA9IG1lc3NhZ2UuYm9keS5yZXNvdXJjZTtcbiAgICAgICAgICBhcHBsaWNhYmxlID0gdGFyZ2V0ID09PSBkYXRhT2JqZWN0VVJMO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFwcGxpY2FibGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3Vic2NyaXB0aW9uQ29uZGl0aW9uO1xuIiwiaW1wb3J0IHtkaXZpZGVFbWFpbH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jbGFzcyBDb21tb25DdHgge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2VydmljZVByb3ZpZGVyUG9saWNpZXMgPSB7fTtcbiAgICB0aGlzLmRlZmF1bHRCZWhhdmlvciA9IHRydWU7XG4gICAgdGhpcy5ncm91cHMgPSB7fTtcbiAgfVxuXG4gIGdldCBkZWZhdWx0QmVoYXZpb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRCZWhhdmlvcjtcbiAgfVxuXG4gIGdldCBzZXJ2aWNlUHJvdmlkZXJQb2xpY2llcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmljZVByb3ZpZGVyUG9saWNpZXM7XG4gIH1cblxuICBzZXQgZGVmYXVsdEJlaGF2aW9yKGJlaGF2aW9yKSB7XG4gICAgdGhpcy5fZGVmYXVsdEJlaGF2aW9yID0gYmVoYXZpb3I7XG4gIH1cblxuICBzZXQgc2VydmljZVByb3ZpZGVyUG9saWNpZXMocG9saWNpZXMpIHtcbiAgICB0aGlzLl9zZXJ2aWNlUHJvdmlkZXJQb2xpY2llcyA9IHBvbGljaWVzO1xuICB9XG5cbiAgc2V0IGRhdGUobm93KSB7XG4gICAgaWYgKCFub3cubWVzc2FnZSkge1xuICAgICAgaWYgKHR5cGVvZiBub3cgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2RhdGUgPSBub3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxldCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgICBpZiAoZGF5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGRheSA9ICcwJyArIGRheTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSk7XG4gICAgICAgIGlmIChtb250aC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGF0ZSA9IGRheSArICcvJyArIG1vbnRoICsgJy8nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldCBkb21haW4ocGFyYW1zKSB7XG4gICAgdGhpcy5fZG9tYWluID0gZGl2aWRlRW1haWwocGFyYW1zLm1lc3NhZ2UuYm9keS5pZGVudGl0eS51c2VyUHJvZmlsZS51c2VybmFtZSkuZG9tYWluO1xuICB9XG5cbiAgc2V0IHNvdXJjZShwYXJhbXMpIHtcbiAgICB0aGlzLl9zb3VyY2UgPSBwYXJhbXMubWVzc2FnZS5ib2R5LmlkZW50aXR5LnVzZXJQcm9maWxlLnVzZXJuYW1lO1xuICB9XG5cbiAgc2V0IHRpbWUobm93KSB7XG4gICAgaWYgKCFub3cubWVzc2FnZSkge1xuICAgICAgaWYgKG5vdykge1xuICAgICAgICB0aGlzLl90aW1lID0gbm93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxldCBtaW51dGVzID0gU3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpO1xuICAgICAgICBpZiAobWludXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBtaW51dGVzID0gJzAnICsgbWludXRlcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aW1lID0gcGFyc2VJbnQoU3RyaW5nKG5vdy5nZXRIb3VycygpKSArIG1pbnV0ZXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldCB3ZWVrZGF5KG5vdykge1xuICAgIGlmICghbm93Lm1lc3NhZ2UpIHtcbiAgICAgIGlmIChub3cpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheSA9IG5vdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXkgPSBTdHJpbmcobmV3IERhdGUoKS5nZXREYXkoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0IGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGU7XG4gIH1cblxuICBnZXQgZG9tYWluKCkge1xuICAgIHJldHVybiB0aGlzLl9kb21haW47XG4gIH1cblxuICBnZXQgc291cmNlKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIF90aGlzLl9zb3VyY2U7XG4gIH1cblxuICBnZXQgdGltZSgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBfdGhpcy5fdGltZTtcbiAgfVxuXG4gIGdldCB3ZWVrZGF5KCkge1xuICAgIHJldHVybiB0aGlzLl93ZWVrZGF5O1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tbW9uQ3R4O1xuIiwiaW1wb3J0IENvbW1vbkN0eCBmcm9tICcuL0NvbW1vbkN0eCc7XG5pbXBvcnQge2RpdmlkZVVSTCwgaXNEYXRhT2JqZWN0VVJMfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgcGVyc2lzdGVuY2VNYW5hZ2VyIGZyb20gJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvUGVyc2lzdGVuY2VNYW5hZ2VyJztcbmltcG9ydCBSdWxlIGZyb20gJy4uL1J1bGUnO1xuaW1wb3J0IFVzZXJQb2xpY3kgZnJvbSAnLi4vcG9saWNpZXMvVXNlclBvbGljeSc7XG5pbXBvcnQgU3Vic2NyaXB0aW9uQ29uZGl0aW9uIGZyb20gJy4uL2NvbmRpdGlvbnMvU3Vic2NyaXB0aW9uQ29uZGl0aW9uJztcblxuY2xhc3MgUnVudGltZUNvcmVDdHggZXh0ZW5kcyBDb21tb25DdHgge1xuXG4gIGNvbnN0cnVjdG9yKGlkTW9kdWxlLCBydW50aW1lUmVnaXN0cnkpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaWRNb2R1bGUgPSBpZE1vZHVsZTtcbiAgICB0aGlzLnJ1bnRpbWVSZWdpc3RyeSA9IHJ1bnRpbWVSZWdpc3RyeTtcbiAgICB0aGlzLmFjdGl2ZVVzZXJQb2xpY3kgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy51c2VyUG9saWNpZXMgPSB7fTtcbiAgfVxuXG4gIGdldCBhY3RpdmVVc2VyUG9saWN5KCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmVVc2VyUG9saWN5O1xuICB9XG5cbiAgZ2V0IGRhdGFPYmplY3RTY2hlbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGFPYmplY3RTY2hlbWU7XG4gIH1cblxuICBnZXQgaWRNb2R1bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkTW9kdWxlO1xuICB9XG5cbiAgZ2V0IHBvbGljaWVzKCkge1xuICAgIGxldCBwb2xpY2llcyA9IHBlcnNpc3RlbmNlTWFuYWdlci5nZXQoJ3BvbGljaWVzJyk7XG5cbiAgICBpZiAocG9saWNpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcG9saWNpZXMgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHBvbGljaWVzO1xuICB9XG5cbiAgZ2V0IHBvbGljeUVuZ2luZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9saWN5RW5naW5lO1xuICB9XG5cbiAgZ2V0IHJ1bnRpbWVSZWdpc3RyeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcnVudGltZVJlZ2lzdHJ5O1xuICB9XG5cbiAgZ2V0IHN1YnNjcmlwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9uO1xuICB9XG5cbiAgc2V0IGFjdGl2ZVVzZXJQb2xpY3kocG9saWN5KSB7XG4gICAgdGhpcy5fYWN0aXZlVXNlclBvbGljeSA9IHBvbGljeTtcbiAgfVxuXG4gIHNldCBkYXRhT2JqZWN0U2NoZW1lKHBhcmFtcykge1xuICAgIGxldCBmcm9tID0gcGFyYW1zLm1lc3NhZ2UuZnJvbTtcbiAgICBpZiAoaXNEYXRhT2JqZWN0VVJMKGZyb20pKSB7XG4gICAgICB0aGlzLl9kYXRhT2JqZWN0U2NoZW1lID0gZGl2aWRlVVJMKGZyb20pLnR5cGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RhdGFPYmplY3RTY2hlbWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgc2V0IGlkTW9kdWxlKGlkTW9kdWxlKSB7XG4gICAgdGhpcy5faWRNb2R1bGUgPSBpZE1vZHVsZTtcbiAgfVxuXG4gIHNldCBwb2xpY2llcyhwb2xpY2llcykge1xuICAgIHBlcnNpc3RlbmNlTWFuYWdlci5zZXQoJ3BvbGljaWVzJywgJzAnLCBwb2xpY2llcyk7XG4gIH1cblxuICBzZXQgcG9saWN5RW5naW5lKHBvbGljeUVuZ2luZSkge1xuICAgIHRoaXMuX3BvbGljeUVuZ2luZSA9IHBvbGljeUVuZ2luZTtcbiAgICBsZXQgYWNjZXB0QW55U3Vic2NyaXB0aW9uUnVsZSA9IG5ldyBSdWxlKHRydWUsIG5ldyBTdWJzY3JpcHRpb25Db25kaXRpb24oJ3N1YnNjcmlwdGlvbicsICdlcXVhbHMnLCAnKicpLCAnZ2xvYmFsJywgJ2dsb2JhbCcpO1xuICAgIGxldCBwb2xpY3kgPSBuZXcgVXNlclBvbGljeSgnTXkgcG9saWN5JywgW2FjY2VwdEFueVN1YnNjcmlwdGlvblJ1bGVdLCBbJ3JlZ2lzdGVyU3Vic2NyaWJlcicsICdkb011dHVhbEF1dGhlbnRpY2F0aW9uJ10pO1xuICAgIHRoaXMuX3BvbGljeUVuZ2luZS5hZGRQb2xpY3koJ1VTRVInLCAnTXkgcG9saWN5JywgcG9saWN5KTtcbiAgICB0aGlzLmFjdGl2ZVVzZXJQb2xpY3kgPSAnTXkgcG9saWN5JztcbiAgfVxuXG4gIHNldCBydW50aW1lUmVnaXN0cnkocmVnaXN0cnkpIHtcbiAgICB0aGlzLl9ydW50aW1lUmVnaXN0cnkgPSByZWdpc3RyeTtcbiAgfVxuXG4gIHNldCBzdWJzY3JpcHRpb24ocGFyYW1zKSB7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9uID0gcGFyYW1zLm1lc3NhZ2UuYm9keS5zdWJzY3JpYmVyO1xuICB9XG5cbiAgYXV0aG9yaXNlKG1lc3NhZ2UpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCctLS0gUG9saWN5IEVuZ2luZSAtLS0nKTtcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgbWVzc2FnZS5ib2R5ID0gbWVzc2FnZS5ib2R5IHx8IHt9O1xuICAgICAgbGV0IHJlc3VsdDtcbiAgICAgIGxldCBpc1RvVmVyaWZ5ID0gX3RoaXMuX2lzVG9WZXJpZnkobWVzc2FnZSk7XG4gICAgICBsZXQgaXNJbmNvbWluZ01lc3NhZ2UgPSBfdGhpcy5faXNJbmNvbWluZ01lc3NhZ2UobWVzc2FnZSk7XG4gICAgICBsZXQgaXNUb0N5cGhlciA9IF90aGlzLl9pc1RvQ3lwaGVyTW9kdWxlKG1lc3NhZ2UpO1xuICAgICAgaWYgKGlzVG9WZXJpZnkpIHtcbiAgICAgICAgaWYgKGlzSW5jb21pbmdNZXNzYWdlKSB7XG4gICAgICAgICAgaWYgKGlzVG9DeXBoZXIpIHtcbiAgICAgICAgICAgIF90aGlzLmRlY3J5cHQobWVzc2FnZSkudGhlbihtZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgbGV0IHBvbGljaWVzID0ge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VQcm92aWRlclBvbGljeTogX3RoaXMuZ2V0U2VydmljZVByb3ZpZGVyUG9saWN5KG1lc3NhZ2UsIGlzSW5jb21pbmdNZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB1c2VyUG9saWN5OiBfdGhpcy5hY3RpdmVVc2VyUG9saWN5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzLnBvbGljeUVuZ2luZS5wZHAuYXBwbHlQb2xpY2llcyhtZXNzYWdlLCBwb2xpY2llcyk7XG4gICAgICAgICAgICAgIF90aGlzLnBvbGljeUVuZ2luZS5wZXAuZW5mb3JjZVBvbGljaWVzKG1lc3NhZ2UsIHBvbGljaWVzLCByZXN1bHQpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnTm90IEFwcGxpY2FibGUnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gX3RoaXMuZGVmYXVsdEJlaGF2aW9yO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hdXRoID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hdXRoID0gKG1lc3NhZ2UuYm9keS5hdXRoID09PSB1bmRlZmluZWQpID8gdHJ1ZSA6IG1lc3NhZ2UuYm9keS5hdXRoO1xuICAgICAgICAgICAgICAgIHJlc29sdmUobWVzc2FnZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdNZXNzYWdlIGJsb2NrZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7IHJlamVjdChlcnJvcik7IH0pO1xuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb2xpY2llcyA9IHtcbiAgICAgICAgICAgICAgc2VydmljZVByb3ZpZGVyUG9saWN5OiBfdGhpcy5nZXRTZXJ2aWNlUHJvdmlkZXJQb2xpY3kobWVzc2FnZSwgaXNJbmNvbWluZ01lc3NhZ2UpLFxuICAgICAgICAgICAgICB1c2VyUG9saWN5OiBfdGhpcy5hY3RpdmVVc2VyUG9saWN5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVzdWx0ID0gX3RoaXMucG9saWN5RW5naW5lLnBkcC5hcHBseVBvbGljaWVzKG1lc3NhZ2UsIHBvbGljaWVzKTtcbiAgICAgICAgICAgIF90aGlzLnBvbGljeUVuZ2luZS5wZXAuZW5mb3JjZVBvbGljaWVzKG1lc3NhZ2UsIHBvbGljaWVzLCByZXN1bHQpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ05vdCBBcHBsaWNhYmxlJykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBfdGhpcy5kZWZhdWx0QmVoYXZpb3I7XG4gICAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hdXRoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hdXRoID0gKG1lc3NhZ2UuYm9keS5hdXRoID09PSB1bmRlZmluZWQpID8gdHJ1ZSA6IG1lc3NhZ2UuYm9keS5hdXRoO1xuICAgICAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVqZWN0KCdNZXNzYWdlIGJsb2NrZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGlzVG9TZXRJRCA9IF90aGlzLl9pc1RvU2V0SUQobWVzc2FnZSk7XG4gICAgICAgICAgaWYgKGlzVG9TZXRJRCkge1xuICAgICAgICAgICAgX3RoaXMuX2dldElkZW50aXR5KG1lc3NhZ2UpLnRoZW4oaWRlbnRpdHkgPT4ge1xuICAgICAgICAgICAgICBtZXNzYWdlLmJvZHkuaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICAgICAgICAgICAgbGV0IHBvbGljaWVzID0ge1xuICAgICAgICAgICAgICAgIHNlcnZpY2VQcm92aWRlclBvbGljeTogX3RoaXMuZ2V0U2VydmljZVByb3ZpZGVyUG9saWN5KG1lc3NhZ2UsIGlzSW5jb21pbmdNZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB1c2VyUG9saWN5OiBfdGhpcy5hY3RpdmVVc2VyUG9saWN5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzLnBvbGljeUVuZ2luZS5wZHAuYXBwbHlQb2xpY2llcyhtZXNzYWdlLCBwb2xpY2llcyk7XG4gICAgICAgICAgICAgIF90aGlzLnBvbGljeUVuZ2luZS5wZXAuZW5mb3JjZVBvbGljaWVzKG1lc3NhZ2UsIHBvbGljaWVzLCByZXN1bHQpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnTm90IEFwcGxpY2FibGUnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gX3RoaXMuZGVmYXVsdEJlaGF2aW9yO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hdXRoID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hdXRoID0gKG1lc3NhZ2UuYm9keS5hdXRoID09PSB1bmRlZmluZWQpID8gdHJ1ZSA6IG1lc3NhZ2UuYm9keS5hdXRoO1xuICAgICAgICAgICAgICAgIGlmIChpc1RvQ3lwaGVyKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5lbmNyeXB0KG1lc3NhZ2UpLnRoZW4obWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHsgcmVqZWN0KGVycm9yKTsgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdCgnTWVzc2FnZSBibG9ja2VkJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4geyByZWplY3QoZXJyb3IpOyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvbGljaWVzID0ge1xuICAgICAgICAgICAgICBzZXJ2aWNlUHJvdmlkZXJQb2xpY3k6IF90aGlzLmdldFNlcnZpY2VQcm92aWRlclBvbGljeShtZXNzYWdlLCBpc0luY29taW5nTWVzc2FnZSksXG4gICAgICAgICAgICAgIHVzZXJQb2xpY3k6IF90aGlzLmFjdGl2ZVVzZXJQb2xpY3lcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXN1bHQgPSBfdGhpcy5wb2xpY3lFbmdpbmUucGRwLmFwcGx5UG9saWNpZXMobWVzc2FnZSwgcG9saWNpZXMpO1xuICAgICAgICAgICAgX3RoaXMucG9saWN5RW5naW5lLnBlcC5lbmZvcmNlUG9saWNpZXMobWVzc2FnZSwgcG9saWNpZXMsIHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSAnTm90IEFwcGxpY2FibGUnKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IF90aGlzLmRlZmF1bHRCZWhhdmlvcjtcbiAgICAgICAgICAgICAgbWVzc2FnZS5ib2R5LmF1dGggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5ib2R5LmF1dGggPSAobWVzc2FnZS5ib2R5LmF1dGggPT09IHVuZGVmaW5lZCkgPyB0cnVlIDogbWVzc2FnZS5ib2R5LmF1dGg7XG4gICAgICAgICAgICAgIHJlc29sdmUobWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QoJ01lc3NhZ2UgYmxvY2tlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gX3RoaXMuZGVmYXVsdEJlaGF2aW9yO1xuICAgICAgICBtZXNzYWdlLmJvZHkuYXV0aCA9IGZhbHNlO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcmVzb2x2ZShtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoJ01lc3NhZ2UgYmxvY2tlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkZWNyeXB0KG1lc3NhZ2UpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KSB7XG4gICAgICBfdGhpcy5pZE1vZHVsZS5kZWNyeXB0TWVzc2FnZShtZXNzYWdlKS50aGVuKGZ1bmN0aW9uKG1zZykge1xuICAgICAgICByZXNvbHZlKG1zZyk7XG4gICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZG9NdXR1YWxBdXRoZW50aWNhdGlvbihtZXNzYWdlLCBhdXRoRGVjaXNpb24pIHtcbiAgICBpZiAoYXV0aERlY2lzaW9uKSB7XG4gICAgICBsZXQgdG8gPSBtZXNzYWdlLnRvLnNwbGl0KCcvJyk7XG4gICAgICBsZXQgc3Vic0luZGV4ID0gdG8uaW5kZXhPZignc3Vic2NyaXB0aW9uJyk7XG4gICAgICBsZXQgaXNEYXRhT2JqZWN0U3Vic2NyaXB0aW9uID0gc3Vic0luZGV4ICE9PSAtMTtcbiAgICAgIGxldCBpc0Zyb21SZW1vdGVTTSA9IHRoaXMuaXNGcm9tUmVtb3RlU00obWVzc2FnZS5mcm9tKTtcbiAgICAgIGlmIChpc0RhdGFPYmplY3RTdWJzY3JpcHRpb24gJiBpc0Zyb21SZW1vdGVTTSkge1xuICAgICAgICB0by5wb3AoKTtcbiAgICAgICAgbGV0IGRhdGFPYmplY3RVUkwgPSB0b1swXSArICcvLycgKyB0b1syXSArICcvJyArIHRvWzNdO1xuICAgICAgICBpZiAodG8ubGVuZ3RoID4gNCkge1xuICAgICAgICAgIGRhdGFPYmplY3RVUkwgPSB0b1swXSArICcvLycgKyB0b1syXSArICcvJyArIHRvWzNdICsgJy8nICsgdG9bNF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZE1vZHVsZS5kb011dHVhbEF1dGhlbnRpY2F0aW9uKGRhdGFPYmplY3RVUkwsIG1lc3NhZ2UuYm9keS5zdWJzY3JpYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbmNyeXB0KG1lc3NhZ2UpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KSB7XG4gICAgICBfdGhpcy5pZE1vZHVsZS5lbmNyeXB0TWVzc2FnZShtZXNzYWdlKS50aGVuKChtc2cpID0+IHtcbiAgICAgICAgcmVzb2x2ZShtc2cpO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNlcnZpY2VQcm92aWRlclBvbGljeShtZXNzYWdlLCBpc0luY29taW5nKSB7XG4gICAgbGV0IHBvbGljeTtcblxuICAgIGlmIChpc0luY29taW5nKSB7XG4gICAgICBsZXQgdG9IeXBlcnR5ID0gdGhpcy5ydW50aW1lUmVnaXN0cnkuZ2V0SHlwZXJ0eU5hbWUobWVzc2FnZS50byk7XG4gICAgICBwb2xpY3kgPSB0aGlzLnNlcnZpY2VQcm92aWRlclBvbGljaWVzW3RvSHlwZXJ0eV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmcm9tSHlwZXJ0eSA9IHRoaXMucnVudGltZVJlZ2lzdHJ5LmdldEh5cGVydHlOYW1lKG1lc3NhZ2UuZnJvbSk7XG4gICAgICBwb2xpY3kgPSB0aGlzLnNlcnZpY2VQcm92aWRlclBvbGljaWVzW2Zyb21IeXBlcnR5XTtcbiAgICB9XG4gICAgcmV0dXJuIHBvbGljeTtcbiAgfVxuXG4gIGlzRnJvbVJlbW90ZVNNKGZyb20pIHtcbiAgICBsZXQgc3BsaXRGcm9tID0gZnJvbS5zcGxpdCgnOi8vJyk7XG4gICAgcmV0dXJuIHNwbGl0RnJvbVswXSA9PT0gJ3J1bnRpbWUnICYmIGZyb20gIT09IHRoaXMucnVudGltZVJlZ2lzdHJ5LnJ1bnRpbWVVUkwgKyAnL3NtJztcbiAgfVxuXG4gIF9pc1RvU2V0SUQobWVzc2FnZSkge1xuICAgIGxldCBzY2hlbWFzVG9JZ25vcmUgPSBbJ2RvbWFpbi1pZHAnLCAncnVudGltZScsICdkb21haW4nXTtcbiAgICBsZXQgc3BsaXRGcm9tID0gKG1lc3NhZ2UuZnJvbSkuc3BsaXQoJzovLycpO1xuICAgIGxldCBmcm9tU2NoZW1hID0gc3BsaXRGcm9tWzBdO1xuXG4gICAgcmV0dXJuIHNjaGVtYXNUb0lnbm9yZS5pbmRleE9mKGZyb21TY2hlbWEpID09PSAtMTtcbiAgfVxuXG4gIF9pc0luY29taW5nTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIChtZXNzYWdlLmJvZHkuaWRlbnRpdHkpID8gdHJ1ZSA6IGZhbHNlO1xuICB9XG5cbiAgZ2V0VVJMKHVybCkge1xuICAgIGxldCBzcGxpdFVSTCA9IHVybC5zcGxpdCgnLycpO1xuICAgIHJldHVybiBzcGxpdFVSTFswXSArICcvLycgKyBzcGxpdFVSTFsyXSArICcvJyArIHNwbGl0VVJMWzNdO1xuICB9XG5cbiAgX2dldElkZW50aXR5KG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSAndXBkYXRlJykge1xuICAgICAgcmV0dXJuIHRoaXMuaWRNb2R1bGUuZ2V0SWRlbnRpdHlPZkh5cGVydHkobWVzc2FnZS5ib2R5LnNvdXJjZSk7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3Jlc3BvbnNlJyAmJiBtZXNzYWdlLmJvZHkuc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkTW9kdWxlLmdldElkZW50aXR5T2ZIeXBlcnR5KG1lc3NhZ2UuYm9keS5zb3VyY2UpO1xuICAgIH1cblxuICAgIGlmIChkaXZpZGVVUkwobWVzc2FnZS5mcm9tKS50eXBlID09PSAnaHlwZXJ0eScpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkTW9kdWxlLmdldElkZW50aXR5T2ZIeXBlcnR5KG1lc3NhZ2UuZnJvbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmlkTW9kdWxlLmdldElkZW50aXR5T2ZIeXBlcnR5KHRoaXMuZ2V0VVJMKG1lc3NhZ2UuZnJvbSkpO1xuICAgIH1cbiAgfVxuXG4gIF9pc1RvVmVyaWZ5KG1lc3NhZ2UpIHtcbiAgICBsZXQgc2NoZW1hc1RvSWdub3JlID0gWydkb21haW4taWRwJywgJ2h5cGVydHktcnVudGltZScsICdydW50aW1lJywgJ2RvbWFpbiddO1xuICAgIGxldCBzcGxpdEZyb20gPSAobWVzc2FnZS5mcm9tKS5zcGxpdCgnOi8vJyk7XG4gICAgbGV0IGZyb21TY2hlbWEgPSBzcGxpdEZyb21bMF07XG4gICAgbGV0IHNwbGl0VG8gPSAobWVzc2FnZS50bykuc3BsaXQoJzovLycpO1xuICAgIGxldCB0b1NjaGVtYSA9ICBzcGxpdFRvWzBdO1xuICAgIGlmIChmcm9tU2NoZW1hID09PSBtZXNzYWdlLmZyb20gfHwgdG9TY2hlbWEgPT09IG1lc3NhZ2UudG8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYXNUb0lnbm9yZS5pbmRleE9mKGZyb21TY2hlbWEpID09PSAtMSB8fCBzY2hlbWFzVG9JZ25vcmUuaW5kZXhPZih0b1NjaGVtYSkgPT09IC0xO1xuICB9XG5cbiAgLy9UT0RPIHVzZSBzY2hlbWFzVG9JZ25vcmUgaW5zdGVhZFxuICBfaXNUb0N5cGhlck1vZHVsZShtZXNzYWdlKSB7XG4gICAgbGV0IGlzQ3JlYXRlID0gbWVzc2FnZS50eXBlID09PSAnY3JlYXRlJztcbiAgICBsZXQgaXNGcm9tSHlwZXJ0eSA9IGRpdmlkZVVSTChtZXNzYWdlLmZyb20pLnR5cGUgPT09ICdoeXBlcnR5JztcbiAgICBsZXQgaXNUb0h5cGVydHkgPSBkaXZpZGVVUkwobWVzc2FnZS50bykudHlwZSA9PT0gJ2h5cGVydHknO1xuICAgIGxldCBpc1RvRGF0YU9iamVjdCA9IGlzRGF0YU9iamVjdFVSTChtZXNzYWdlLnRvKTtcbiAgICBsZXQgaXNIYW5kc2hha2UgPSBtZXNzYWdlLnR5cGUgPT09ICdoYW5kc2hha2UnO1xuXG4gICAgcmV0dXJuIChpc0NyZWF0ZSAmJiBpc0Zyb21IeXBlcnR5ICYmIGlzVG9IeXBlcnR5KSB8fCAoaXNDcmVhdGUgJiYgaXNGcm9tSHlwZXJ0eSAmJiBpc1RvRGF0YU9iamVjdCkgfHwgaXNIYW5kc2hha2U7XG4gIH1cblxuICByZWdpc3RlclN1YnNjcmliZXIobWVzc2FnZSwgYXV0aERlY2lzaW9uKSB7XG4gICAgaWYgKGF1dGhEZWNpc2lvbikge1xuICAgICAgbGV0IHRvID0gbWVzc2FnZS50by5zcGxpdCgnLycpO1xuICAgICAgbGV0IHN1YnNJbmRleCA9IHRvLmluZGV4T2YoJ3N1YnNjcmlwdGlvbicpO1xuICAgICAgbGV0IGlzRGF0YU9iamVjdFN1YnNjcmlwdGlvbiA9IHN1YnNJbmRleCAhPT0gLTE7XG4gICAgICBsZXQgaXNGcm9tUmVtb3RlU00gPSB0aGlzLmlzRnJvbVJlbW90ZVNNKG1lc3NhZ2UuZnJvbSk7XG5cbiAgICAgIGlmIChpc0RhdGFPYmplY3RTdWJzY3JpcHRpb24gJiBpc0Zyb21SZW1vdGVTTSkge1xuICAgICAgICB0by5wb3AoKTtcbiAgICAgICAgbGV0IGRhdGFPYmplY3RVUkwgPSB0b1swXSArICcvLycgKyB0b1syXSArICcvJyArIHRvWzNdO1xuICAgICAgICBpZiAodG8ubGVuZ3RoID4gNCkge1xuICAgICAgICAgIGRhdGFPYmplY3RVUkwgPSB0b1swXSArICcvLycgKyB0b1syXSArICcvJyArIHRvWzNdICsgJy8nICsgdG9bNF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ydW50aW1lUmVnaXN0cnkucmVnaXN0ZXJTdWJzY3JpYmVyKGRhdGFPYmplY3RVUkwsIG1lc3NhZ2UuYm9keS5zdWJzY3JpYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfZ2V0TGFzdENvbXBvbmVudE9mVVJMKHVybCkge1xuICAgIGxldCBzcGxpdCA9IHVybC5zcGxpdCgnLycpO1xuICAgIHJldHVybiBzcGxpdFtzcGxpdC5sZW5ndGggLSAxXTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1bnRpbWVDb3JlQ3R4O1xuIiwiaW1wb3J0IFBvbGljeSBmcm9tICcuLi9Qb2xpY3knO1xuXG5jbGFzcyBVc2VyUG9saWN5IGV4dGVuZHMgUG9saWN5IHtcbiAgY29uc3RydWN0b3Ioa2V5LCBydWxlcywgYWN0aW9ucywgY29tYmluaW5nQWxnb3JpdGhtKSB7XG4gICAgaWYgKCFjb21iaW5pbmdBbGdvcml0aG0pIHtcbiAgICAgIGNvbWJpbmluZ0FsZ29yaXRobSA9ICdkZW55T3ZlcnJpZGVzJztcbiAgICB9XG4gICAgc3VwZXIoa2V5LCBydWxlcywgYWN0aW9ucywgY29tYmluaW5nQWxnb3JpdGhtKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJQb2xpY3k7XG4iLCIvKipcbiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBXG4qIENvcHlyaWdodCAyMDE2IElORVNDLUlEXG4qIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTFxuKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVlxuKiBDb3B5cmlnaHQgMjAxNiBPUkFOR0UgU0FcbiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBR1xuKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWVcbiogQ29weXJpZ2h0IDIwMTYgVEVDSE5JU0NIRSBVTklWRVJTSVRBVCBCRVJMSU5cbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKiovXG4vKipcbiAqIFN1cHBvcnQgbW9kdWxlIHdpdGggc29tZSBmdW5jdGlvbnMgd2lsbCBiZSB1c2VmdWxcbiAqIEBtb2R1bGUgdXRpbHNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIGRpdmlkZVVSTFxuICogQHR5cGUgT2JqZWN0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBvZiBVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eSBUaGUgaWRlbnRpdHkgb2YgVVJMXG4gKi9cblxuLyoqXG4gKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHlcbiAqIEBwYXJhbSAge1VSTC5VUkx9IHVybCAtIHVybCBhZGRyZXNzXG4gKiBAcmV0dXJuIHtkaXZpZGVVUkx9IHRoZSByZXN1bHQgb2YgZGl2aWRlVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVVUkwodXJsKSB7XG5cbiAgaWYgKCF1cmwpIHRocm93IEVycm9yKCdVUkwgaXMgbmVlZGVkIHRvIHNwbGl0Jyk7XG5cbiAgLy8gbGV0IHJlID0gLyhbYS16QS1aLV0qKT86XFwvXFwvKD86XFwuKT8oWy1hLXpBLVowLTlAOiUuX1xcK34jPV17MiwyNTZ9XFwuW2Etel17Miw2fVxcYikqKFxcL1tcXC9cXGRcXHdcXC4tXSopKig/OltcXD9dKSooLispKi9naTtcbiAgbGV0IHJlID0gLyhbYS16QS1aLV0qKTpcXC9cXC8oPzpcXC4pPyhbLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cXCt+Iz1cXC9dKikvZ2k7XG4gIGxldCBzdWJzdCA9ICckMSwkMiwkMyc7XG4gIGxldCBwYXJ0cyA9IHVybC5yZXBsYWNlKHJlLCBzdWJzdCkuc3BsaXQoJywnKTtcblxuICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzXG4gIGlmIChwYXJ0c1swXSA9PT0gdXJsKSB7XG4gICAgcGFydHNbMF0gPSAnaHR0cHMnO1xuICAgIHBhcnRzWzFdID0gdXJsO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHtcbiAgICB0eXBlOiBwYXJ0c1swXSxcbiAgICBkb21haW46IHBhcnRzWzFdLFxuICAgIGlkZW50aXR5OiBwYXJ0c1syXVxuICB9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVFbWFpbChlbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gZW1haWwuaW5kZXhPZignQCcpO1xuXG4gIGxldCByZXN1bHQgPSB7XG4gICAgdXNlcm5hbWU6IGVtYWlsLnN1YnN0cmluZygwLCBpbmRleE9mQXQpLFxuICAgIGRvbWFpbjogZW1haWwuc3Vic3RyaW5nKGluZGV4T2ZBdCArIDEsIGVtYWlsLmxlbmd0aClcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGFuIE9iamVjdCBpcyBlbXB0eVxuICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIHN0YXR1cyBvZiBPYmplY3QsIGVtcHR5IG9yIG5vdCAodHJ1ZXxmYWxzZSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID4gMCA/IGZhbHNlIDogdHJ1ZTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuICogQHBhcmFtICB7T2JqZWN0fSAgb2JqIC0gb2JqZWN0IHRvIGJlIGNsb25lZFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iaikge1xuICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uXG4gIGlmIChvYmopIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG4vKipcbiAqIE9idGFpbnMgdGhlIHVzZXIgVVJMIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBlbWFpbFxuICogQHBhcmFtICB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcbiAqIEByZXR1cm4ge1VSTC5VUkx9IHVzZXJVUkwgVGhlIHVzZXIgVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyVVJMRnJvbUVtYWlsKHVzZXJFbWFpbCkge1xuICBsZXQgaW5kZXhPZkF0ID0gdXNlckVtYWlsLmluZGV4T2YoJ0AnKTtcbiAgcmV0dXJuICd1c2VyOi8vJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgdXNlckVtYWlsLmxlbmd0aCkgKyAnLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCk7XG59XG5cbi8qKlxuICogT2J0YWlucyB0aGUgdXNlciBlbWFpbCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gVVJMXG4gKiBAcGFyYW0gIHtVUkwuVVJMfSB1c2VyVVJMIFRoZSB1c2VyIFVSTFxuICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwodXNlclVSTCkge1xuICBsZXQgdXJsID0gZGl2aWRlVVJMKHVzZXJVUkwpO1xuICByZXR1cm4gdXJsLmlkZW50aXR5LnJlcGxhY2UoJy8nLCAnJykgKyAnQCcgKyB1cmwuZG9tYWluOyAvLyBpZGVudGl0eSBmaWVsZCBoYXMgJy9leGFtcGxlSUQnIGluc3RlYWQgb2YgJ2V4YW1wbGVJRCdcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSB1c2VyIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgVVJMIGZvcm1hdCwgaWYgbm90LCBjb252ZXJ0IHRvIFVSTCBmb3JtYXRcbiAqIEBwYXJhbSAge3N0cmluZ30gICBpZGVudGlmaWVyICB1c2VyIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gICB1c2VyVVJMICAgIHRoZSB1c2VyIFVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvVXNlclVSTChpZGVudGlmaWVyKSB7XG5cbiAgLy8gY2hlY2sgaWYgdGhlIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBpbiB0aGUgdXJsIGZvcm1hdFxuICBpZiAoaWRlbnRpZmllci5zdWJzdHJpbmcoMCwgNykgPT09ICd1c2VyOi8vJykge1xuICAgIGxldCBkaXZpZGVkVVJMID0gZGl2aWRlVVJMKGlkZW50aWZpZXIpO1xuXG4gICAgLy9jaGVjayBpZiB0aGUgdXJsIGlzIHdlbGwgZm9ybWF0ZWRcbiAgICBpZiAoZGl2aWRlZFVSTC5kb21haW4gJiYgZGl2aWRlZFVSTC5pZGVudGl0eSkge1xuICAgICAgcmV0dXJuIGlkZW50aWZpZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93ICd1c2VyVVJMIHdpdGggd3JvbmcgZm9ybWF0JztcbiAgICB9XG5cbiAgLy9pZiBub3QsIGNvbnZlcnQgdGhlIHVzZXIgZW1haWwgdG8gVVJMIGZvcm1hdFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRVc2VyVVJMRnJvbUVtYWlsKGlkZW50aWZpZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFPYmplY3RVUkwodXJsKSB7XG4gIGxldCBzY2hlbWFzVG9JZ25vcmUgPSBbJ2RvbWFpbi1pZHAnLCAncnVudGltZScsICdkb21haW4nLCAnaHlwZXJ0eSddO1xuICBsZXQgc3BsaXRVUkwgPSAodXJsKS5zcGxpdCgnOi8vJyk7XG4gIGxldCB1cmxTY2hlbWEgPSBzcGxpdFVSTFswXTtcblxuICByZXR1cm4gc2NoZW1hc1RvSWdub3JlLmluZGV4T2YodXJsU2NoZW1hKSA9PT0gLTE7XG59XG4iXX0=\n"],"sourceRoot":"/source/"}